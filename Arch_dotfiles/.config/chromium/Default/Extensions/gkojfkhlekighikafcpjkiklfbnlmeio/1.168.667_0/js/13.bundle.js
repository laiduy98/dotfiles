// LICENSE_CODE ZON
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{58:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25);
// LICENSE_CODE ZON
const E={};E.Text=function Text(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"privacy_text"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"What types of information do we collect?"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We collect the following types of data from you when you use the Services:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Log Data: Log data may include the following information- browser type, web pages you visit, time spent on those pages, access times and dates."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,'Personal Information: Personal information is information that may be of a private or sensitive nature, and which identifies or may identify you. The Personal Information we may collect and retain includes your IP address, your name and email address, screen name, payment and billing information or other information we may ask from time to time as will be required for the on-boarding process and services provisioning. When you create an account on the Services you are able to do so by using your credentials with a designated third party website or service ("Third Party Account") such as GmailÂ®. Doing so will enable you to link your account and your Third Party Account. If you choose this option, a Third Party Account pop-up box will appear that you will need to approve in order to proceed, and which will describe the types of information that we will obtain. This information includes your Personal Information stored on your Third Party Account, such as user-name, email address, profile picture, birth date, gender and preferences. Any Anonymous Information that is specifically connected or linked to any Personal Information, is treated by us as Personal Information, as long as such connection or linkage exists.'),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Registering through social network account: When you register or sign-in to the Services via your social network account (e.g., Facebook, Google+), we will have access to basic information from your social network account, such as your full name, home address, email address, birth date, profile picture, friends list, personal description, as well as any other information you made publicly available on such account or agreed to share with us. At all times, we will abide by the terms, conditions and restrictions of the social network platform.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"How do we use your information?"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We use your information in order to provide you with the Service. This means that we will use the information to set up your account, provide you with support regarding the Service, communicate with you for updates, marketing offers or concerns you may have and conduct statistical and analytical research to improve the Service."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Information we share"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We do not rent or sell any Personal Information. We may disclose Personal Information to other trusted third party service providers or partners for the purposes of providing you with the Services, storage and analytics. We may also transfer or disclose Personal Information to our subsidiaries, affiliated companies."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We may also share your Personal Information and other information in special cases if we have good reason to believe that it is necessary to: (1) comply with law, regulation, subpoena or court order; (2) detect, prevent or otherwise address fraud, security, violation of our policies or technical issues; (3) enforce the provisions of this Privacy Policy or any other agreements between you and us, including investigation of potential violations thereof; (4) protect against harm to the rights, property or safety of us, its partners, its affiliates, users, or the public."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Your Choices and Rights"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We strive to give you ways to update your information quickly or to delete it. To exercise such right, you may contact us at:"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"mailto:privacy@hola.org"},"privacy@hola.org")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Contact Us"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"If you feel that your privacy was not treated in accordance with our Privacy Policy, or if you believe that your privacy has been compromised by any person in the course of using the Services, please contact Hola at: ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"mailto:privacy@hola.org"},"privacy@hola.org")," and our privacy officer shall promptly investigate."))};E.title="Hola Firefox Add-on Privacy Policy";E.Privacy_view=function Privacy_view(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,E.title)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(E.Text,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"actions"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_1__["a"].set_agree_ts(Date.now())},"I Agree")))};__webpack_exports__["a"]=E},60:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var module;
// LICENSE_CODE ZON
"use strict";(function(){var is_node=typeof module=="object"&&module.exports;if(!is_node);else;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(16),__webpack_require__(53)],__WEBPACK_AMD_DEFINE_RESULT__=function(zdate,zcountry){var E={};E.grace=1;function get_end_by_period(membership,opt){opt=opt||{};var end=new Date(membership.start);if(membership.period=="1 M")end.setUTCMonth(end.getUTCMonth()+1);else if(membership.period=="6 M")end.setUTCMonth(end.getUTCMonth()+6);else if(membership.period=="1 Y")end.setUTCFullYear(end.getUTCFullYear()+1);else if(membership.period=="2 Y")end.setUTCFullYear(end.getUTCFullYear()+2);else if(membership.period=="3 Y")end.setUTCFullYear(end.getUTCFullYear()+3);else if(membership.period=="1 D")end.setUTCDate(end.getUTCDate()+1);else if(membership.period=="100 Y")end.setUTCFullYear(end.getUTCFullYear()+100);else{throw"Unexpected period: "+membership.period+" ("+JSON.stringify(membership)+")"}if(!opt.disable_grace)end.setUTCDate(end.getUTCDate()+E.grace);return end}E.get_end_by_period=get_end_by_period;E.get_end_date=function(membership){var end=membership&&(membership.end||membership.trial_end||membership.grace_end||membership.start&&membership.period&&get_end_by_period(membership));return end?new Date(end):null};E.is_active=function(membership){if(!membership)return false;if(membership.trial_end&&Date.now()<=new Date(membership.trial_end))return true;if(membership.grace_end&&Date.now()<=new Date(membership.grace_end))return true;if(membership.end&&Date.now()<=new Date(membership.end))return true;if(membership.start&&membership.period&&Date.now()<=get_end_by_period(membership)&&!E.is_trial(membership)){return!membership.cancelled||!membership.end}return false};E.is_lifetime=function(membership){return membership&&membership.period=="100 Y"};E.is_in_trial=function(membership){return E.is_trial(membership)&&Date.now()<new Date(membership.trial_end||membership.end)};E.is_trial=function(membership,type){return!!membership&&(!!membership.trial_end&&(!type||type==(membership.type||"start"))||!!(membership.plan=="trial")&&!!membership.end)};E.is_in_grace=function(membership){return E.is_grace(membership)&&Date.now()<new Date(membership.grace_end)};E.is_grace=function(membership,type){return!!membership&&!!membership.grace_end&&(!type||type==(membership.type||"start"))};E.had_premium=function(history){return!!history&&history.some((function(h){return!E.is_trial(h)}))};E.had_trial=function(history,type){return!!history&&history.some((function(h){return E.is_trial(h,type)}))};E.had_grace=function(history,type){return!!history&&history.some((function(h){return E.is_grace(h,type)}))};E.trial_forbidden=function(membership,history,type){if(E.is_in_trial(membership))return"trial exists";if(E.is_trial(membership,type))return"trial expired";if(E.is_active(membership))return"already premium";if(E.had_premium(history))return"had premium";if(E.had_trial(history,type))return"had trial";return false};E.grace_period_forbidden=function(membership,history,type){if(E.is_in_grace(membership))return"grace exists";if(E.is_grace(membership,type))return"grace expired";if(E.is_active(membership))return"already premium";if(E.had_grace(history,type))return"had grace";return false};E.is_paid=function(membership){return!!membership&&!!membership.gateway};E.is_expired=function(membership){var end_date=E.get_end_date(membership);return!!end_date&&Date.now()>end_date};E.classify=function(membership){if(E.is_active(membership))return E.is_in_trial(membership)?"trial":"premium";if(E.is_expired(membership))return E.is_trial(membership)?"trial_expired":"premium_expired";return"free"};E.gen_email_hash=function(email,md5){return md5("hola unsubscribe "+email).substr(0,8)};function date2display(d){return d?zdate.strftime("%o %B %Y",zdate(d)):"-"}E.is_ios=function(membership){return membership.gateway=="apple"||membership.product=="ios"};E.is_mobile=function(membership){var gtw=["paypal","paymill","avangate","bluesnap","paypal2","coupon"];return E.is_ios(membership)||membership.gateway&&!gtw.includes(membership.gateway)};E.period_str=function(membership){var show_price=function(name,price,periods,period_name){var currency="USD";if(membership.amount){price=membership.amount;currency=membership.currency}var p=+(price/periods).toFixed(2);return name+", "+zcountry.currency2prefix(currency)+p+"/"+period_name};switch(membership.period){case"1 M":return show_price("Monthly",11.95,1,"month");case"6 M":return show_price("Half-yearly",54,6,"month");case"1 Y":return show_price("Yearly",83.88,1,"year");case"2 Y":return show_price("2-year",95.75,2,"year");case"3 Y":return show_price("3-year",107.55,3,"year");case"1 D":return show_price("1-day",1,1,"day");case"100 Y":return"Lifetime"}if(!membership.end)return membership.grace_end?"updating":"-";return(membership.gateway?"Till ":"Manual till ")+date2display(membership.end)};E.period_start_str=function(membership){return date2display(membership.start)};E.period_end_str=function(membership){if(E.is_in_trial(membership))return"Trial valid until "+date2display(membership.trial_end);var period=membership.cancelled?null:membership.period=="1 D"?{day:1}:membership.period=="1 M"?{month:1}:membership.period=="6 M"?{month:6}:membership.period=="1 Y"?{year:1}:membership.period=="2 Y"?{year:2}:membership.period=="3 Y"?{year:3}:null;if(!period)return membership.grace_end?"updating":"-";return date2display(zdate.add(zdate(membership.start),period))};E.is_unassoc_trial=function(membership){return E.is_trial(membership)&&E.is_ios(membership)};E.payment_label=function(membership){if(E.is_unassoc_trial(membership))return"-";switch(membership.gateway){case"paypal":case"paypal2":return"PayPal";case"coupon":return"Coupon";case"paymill":return"Credit card ************"+(((membership.paymill|{}).payment||{}).last4||"****");case"avangate":case"bluesnap":return"Credit card";case"apple":return"App Store";default:return membership.grace_end?"updating":"Google Play"}};E.get_id=function(m){switch(m.gateway){case"paypal":return m.paypal.subscr_id;case"paypal2":return m.paypal2.subscr_id;case"coupon":return m.coupon.code;case"bluesnap":return m.bluesnap.subscr_id;case"apple":return m.apple_ios.original_transaction_id;case"android":return m.google_apk.purchase_token;case"avangate":return m.avangate.subscr_ref;case"paymill":return m.paymill.subscription_id;default:return"UNKNOWN"}};E.is_cancellable_mobile=function(membership){return E.is_mobile(membership)&&!E.is_unassoc_trial(membership)&&(membership.cancelled||membership.cancellation_reason)};E.is_cancellable=function(membership){return!membership.cancelled&&!E.is_cancellable_mobile(membership)&&!E.is_unassoc_trial(membership)&&!membership.grace_end};E.get_plan_currency=function(plan,currency){if(!currency||!plan)return"USD";currency=currency.toUpperCase();if(currency=="USD")return"USD";if(!plan.currency||!plan.currency[currency.toLowerCase()])return"USD";return currency};E.get_price_plan=function(plan,currency){currency=(""+currency).toLowerCase();return currency=="usd"||!plan.currency||!plan.currency[currency]?plan:plan.currency[currency]};return E}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))})()},8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"init",(function(){return init}));var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15);var underscore__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39);var classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);var react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32);var react_dom__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);var conf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24);var conf__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t(24,1);var _util_date_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16);var _util_date_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_util_date_js__WEBPACK_IMPORTED_MODULE_5__);var _util_util_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10);var _util_util_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_util_util_js__WEBPACK_IMPORTED_MODULE_6__);var _util_url_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18);var _util_url_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_util_url_js__WEBPACK_IMPORTED_MODULE_7__);var _util_etask_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(11);var _util_etask_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_util_etask_js__WEBPACK_IMPORTED_MODULE_8__);var _bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(25);var _bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(59);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12__);var _bext_vpn_ui_privacy_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(58);var _svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(60);var _svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14__);
// LICENSE_CODE ZON
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const useState=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState,useEffect=react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect;const assign=Object.assign,T=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_9__["a"].T;const perr=(id,info)=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].perr(id,info,{},true);const Switch=({checked:checked,on_change:on_change})=>{const toggle=()=>{if(on_change)on_change(!checked)};const cls="switch"+(checked?" switch-checked":"");return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{type:"button",role:"switch","aria-checked":checked,className:cls,onClick:toggle})};const Label_checkbox=_ref=>{let children=_ref.children,props=_objectWithoutProperties(_ref,["children"]);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{className:"label-checkbox"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",_extends({type:"checkbox"},props)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"content"},children))};const Link_button=({href:href,on_click:on_click,cls:cls,style:style,new_tab:new_tab,children:children})=>{const click=e=>{if(!href)e.preventDefault();if(on_click)on_click(e)};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("link-button",cls),style:style,href:href,onClick:click,target:new_tab?"_blank":undefined},children)};const Link_line=({href:href,children:children})=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"link-line"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{href:href},children));const Row=({cls:cls,children:children})=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"row-sp1"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("row-children",cls)},children));const Report_problem=()=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"section report-problem"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{className:"title",href:"about.html#report_issue"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Report a problem")));const date2display=d=>d?_util_date_js__WEBPACK_IMPORTED_MODULE_5___default.a.strftime("%o %B %Y",_util_date_js__WEBPACK_IMPORTED_MODULE_5___default()(d)):"-";const Mobile_cancel_notice=props=>{const store=_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_ios(props.membership)?"App Store":"Google Play";const faq_url=props.hola_faq?"/faq#premium-cancel":_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_ios(props.membership)?"https://support.apple.com/en-il/HT202039":"https://support.google.com/googleplay/answer/7018481";return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"Note: To cancel your subscription, you must use ",store,". See ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{href:faq_url},"the FAQ."))};class Cancel_modal extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(...args){super(...args);_defineProperty(this,"state",{});_defineProperty(this,"on_change",e=>this.setState({[e.target.name]:e.target.value}));_defineProperty(this,"perr_commit",()=>{perr("cancel_subscription",{user:_util_util_js__WEBPACK_IMPORTED_MODULE_6___default.a.get(this.props.user,"hola_uid"),is_mobile:_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_mobile(this.props.membership)})});_defineProperty(this,"on_back",()=>{if(this.state.step=="cancel"){this.perr_commit();return this.cancel_subscr()}let step=this.history.pop();if(!step)return this.props.close();this.setState({step:step})});_defineProperty(this,"on_next",()=>{let _this=this;let step=this.state.step;this.history.push(step);return _util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){let next_step;switch(step){case"faq":next_step="reason";break;case"reason":if(_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_mobile(_this.props.membership)){_this.perr_commit();next_step=(yield _this.send_reason())?"cancel_mobile":"reason"}else next_step="cancel";break;default:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].refresh_user({force_premium:true,reason:"cancel_subscr_next"});next_step=undefined;_this.props.close()}_this.setState({step:next_step})}))})}componentDidMount(){this.setState({step:"faq"});this.history=[]}render_faq(){const Faq=props=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{href:"https://hola.org/faq#"+props.id},props.children);let body=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null,"Common issues:")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Faq,{id:"premium-streamingservices"},"Netflix/Hulu issues")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Faq,{id:"premium-slowconn"},"Slow connection")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Faq,{id:"premium-appearfree"},"My account appears as free"))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"Search the ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Faq,{id:"faq"},"Full FAQs")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"Still need help? ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{href:"/premium_support"},"Contact us!")));return{title:T("Technical issue?"),next_label:T("Still want to cancel"),body:body}}render_reason(){let reason=this.state.reason||"";let body=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{className:"hfill",name:"reason",value:reason,onChange:this.on_change,placeholder:"Problems with a specific site? "+"Slow connection? Please let us know."});return{title:T("Before you go... tell us why?"),next_label:T("Continue"),next_disabled:reason.trim().length<8,body:body}}render_cancel(){let cancel_error=this.state.cancel_error;let body=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"The subscription allows you to enjoy uninterrupted secure browsing and unblocking of all your favorite sites, on all your devices."),cancel_error&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Alert_message,{type:"error"},cancel_error));return{title:T("Are you sure you want to cancel your subscription?"),next_label:T("Keep using Hola VPN"),back_label:T("Cancel my subscription"),body:body}}render_cancel_mobile(){return{next_label:T("Ok"),back_label:false,body:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Mobile_cancel_notice,{membership:this.props.membership})}}cancel_subscr(){let _this=this;return _util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){this.on("uncaught",()=>{perr("cancel_subscription_unknown_error",{user:_util_util_js__WEBPACK_IMPORTED_MODULE_6___default.a.get(_this.props.user,"hola_uid"),is_mobile:_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_mobile(_this.props.membership)});_this.setState({cancel_error:"Unknown error"})});let data={reason:_this.state.reason};let res=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].hola_api_call("users/payment/cancel_subscription?no_redirect=1",{method:"POST",text:true,data:data});_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.assert(res=="ok",new Error);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].refresh_user({force_premium:true,reason:"cancel_subscr"});_this.props.close()}))}send_reason(){let _this=this;return _util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){try{let data={reason:_this.state.reason};let res=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].hola_api_call("users/payment/update_reason",{method:"POST",text:true,data:data});return res.trim()=="ok"}catch(e){return false}}))}render(){let step=this.state.step;let res=this[`render_${step}`]&&this[`render_${step}`]();if(!res)return null;const actions=[res.back_label!==false&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{key:"back",className:"btn-secondary",onClick:this.on_back},T(res.back_label||"Go back")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{key:"next",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({disabled:res.next_disabled}),onClick:res.next_disabled?undefined:this.on_next},res.next_label)];return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["c"],{title:res.title,on_close:this.props.close,action:actions},res.body)}}const Alert_message=({duration:duration,ts:ts,type:type,children:children})=>{if(duration&&ts+duration<Date.now())return null;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("alert-message",type)},children)};const create_alert_info=(type,message,duration)=>({type:type,message:message,duration:duration,ts:Date.now()});class Account_details extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(props){super(props);_defineProperty(this,"state",{password:"",new_pass:""});_defineProperty(this,"update_membership",()=>this.setState({membership:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_membership()}));_defineProperty(this,"on_change",e=>this.setState({[e.target.name]:e.target.value}));_defineProperty(this,"switch_show",key=>this.setState({[key]:!this.state[key]}));_defineProperty(this,"update_alert",(id,type,message,duration)=>{let _this$state$alerts=this.state.alerts,alerts=_this$state$alerts===void 0?{}:_this$state$alerts;if(!type)return this.setState({alerts:_objectSpread({},alerts,{[id]:undefined})});this.setState({alerts:_objectSpread({},alerts,{[id]:create_alert_info(type,message,duration)})});if(duration)_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.set_timeout(()=>this.forceUpdate(),duration)});_defineProperty(this,"logout_sessions",()=>{let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){this.on("uncaught",()=>{_this.update_alert("logout","error","Unsuccessful logout all sessions except me")});_this.update_alert("logout");let res=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].hola_api_call("users/logout/others",{method:"POST",text:true});_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.assert(res=="ok",new Error);_this.update_alert("logout","success","Successful logout all sessions except me",3e3)}))});_defineProperty(this,"change_password",()=>{let _this=this;let _this$state=this.state,password=_this$state.password,new_pass=_this$state.new_pass;return _util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){this.on("uncaught",()=>{_this.update_alert("password","error","Current password is incorrect")});_this.update_alert("password");if(!password||!new_pass){return _this.update_alert("password","error","Please fill all fields")}let data={password:password,new_pass:new_pass,service:true};let res=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].hola_api_call("users/change_password",{method:"POST",data:data,text:true});_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.assert(res=="ok",new Error);yield _this.logout_sessions();_this.setState({show_change_password:false});_this.update_alert("password","success","Password successfully changed",3e3)}))});_defineProperty(this,"avangate_update_cc",()=>{let _this=this;return _util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){this.on("uncaught",()=>{_this.update_alert("avangate_update_cc","error","Unknown error")});_this.update_alert("avangate_update_cc");let url=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].hola_api_call("users/payment/single_sign_on");_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.assert(_util_url_js__WEBPACK_IMPORTED_MODULE_7___default.a.is_valid_url(url),new Error);location.href=url.replace("?","payment_methods/?")}))});this.switch_show_password=this.switch_show.bind(this,"show_change_password");this.switch_show_manage=this.switch_show.bind(this,"show_manage_subscr");this.switch_show_cancel=this.switch_show.bind(this,"show_cancel_modal")}componentDidMount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("membership_changed",this.update_membership);this.update_membership();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].refresh_user({force_premium:true,reason:"account_details"})}componentWillUnmount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].off("membership_changed",this.update_membership)}render_alerts(keys){let _this$state$alerts2=this.state.alerts,alerts=_this$state$alerts2===void 0?{}:_this$state$alerts2;return Object.entries(alerts).filter(([key,value])=>!!value&&keys.includes(key)).map(([key,value])=>{const message=value.message,props=_objectWithoutProperties(value,["message"]);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Alert_message,_extends({key:key},props),message)})}render(){let _this$props=this.props,user=_this$props.user,is_plus=_this$props.is_plus;let _this$state2=this.state,show_change_password=_this$state2.show_change_password,show_manage_subscr=_this$state2.show_manage_subscr,show_cancel_modal=_this$state2.show_cancel_modal;let m=this.state.membership;let is_active=_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_active(m);const status=!_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_active(m)?"Stopped":_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_in_trial(m)?"Free trial":"Valid";return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["f"],{title:T("Account details:")},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Account ID:")},user.displayName," (",user.hola_uid,")"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Membership:")},is_plus?"PLUS":"FREE"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Row,{cls:"hfill"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{on_click:this.switch_show_password},show_change_password?"Hide change password":"Change password"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{on_click:this.logout_sessions},"Logout all sessions except me")),this.render_alerts(["logout","password"]),show_change_password&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Current password:")},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{name:"password",type:"password",onChange:this.on_change})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("New password:")},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{name:"new_pass",type:"password",onChange:this.on_change})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:" "},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{cls:"btn-primary",style:{marginRight:"20px"},on_click:this.change_password},"Change password"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{href:"https://hola.org/forgot_password",new_tab:true},"Forgot your password?")))),is_active&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Subscribed on:")},_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_mobile(m)?"Mobile":"Desktop"),is_active&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Subscription:")},_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.period_str(m)),is_active&&m.cancelled&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],null,"You cancelled your subscription. It will remain active until ",date2display(m.end),"."),is_active&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Row,{cls:"center"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{on_click:this.switch_show_manage},show_manage_subscr?T("Hide"):T("Manage"))),show_manage_subscr&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Started on:")},_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.period_start_str(m)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T(m.period=="1 D"?"Expires on:":"Next renewal:")},_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.period_end_str(m)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Payment method:")},_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.payment_label(m),m.gateway=="avangate"&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{on_click:this.avangate_update_cc},"Update Credit card")),this.render_alerts(["avangate_update_cc"])),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],{label:T("Subscription status:")},status,_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_cancellable(m)&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_button,{on_click:this.switch_show_cancel},"Cancel subscription"),show_cancel_modal&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Cancel_modal,{close:this.switch_show_cancel,user:user,membership:m}))),_svc_account_pub_membership_js__WEBPACK_IMPORTED_MODULE_14___default.a.is_cancellable_mobile(m)&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["a"],null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Mobile_cancel_notice,{membership:m})))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_line,{href:"https://hola.org/cp"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"My account")))}}function Rule_item(props){let rule=props.rule,href=props.href,cls=props.cls,on_remove=props.on_remove,on_switch=props.on_switch,title=props.title;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",{key:rule.name,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("rule-item",cls)},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"icon-"+(props.icon||rule.mode||"unblock")}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"f32"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("i",{className:"flag "+rule.country})),href&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{className:"rule-name",href:href,target:"_blank",rel:"noopener noreferrer"},rule.name),title&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"rule-name"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,title)),on_switch&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Switch,{checked:rule.enabled,on_change:on_switch}),on_remove&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"icon-remove",title:T("Delete"),onClick:()=>on_remove(rule)}))}class Unblock extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(...args){super(...args);_defineProperty(this,"state",{});_defineProperty(this,"update_rules",()=>{this.setState({rules:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_rules(),vpn_country:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_vpn_country(),protect_pc:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_protect_pc(),protect_browser:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_protect_browser()})});_defineProperty(this,"remove_rule",rule=>{let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){if(rule.mitm){yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].mitm_set_ignore(rule.url);_this.load_mitm_rules();return}let opt=assign({enabled:0,del:1},underscore__WEBPACK_IMPORTED_MODULE_0___default.a.pick(rule,"sid","name","type","country"));yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].set_rule(opt);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].fetch_rules()}))});_defineProperty(this,"render_rule",rule=>{let href="http://"+(_util_url_js__WEBPACK_IMPORTED_MODULE_7___default.a.get_host(_util_url_js__WEBPACK_IMPORTED_MODULE_7___default.a.add_proto(rule.link||"")+"/")||rule.name);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Rule_item,{key:rule.name,rule:rule,href:href,on_remove:this.remove_rule,cls:{"rule-disabled":!rule.enabled}})});_defineProperty(this,"switch_all_browser",enable=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].set_enabled_for_browser(enable,{country:"us"})});_defineProperty(this,"switch_protect_pc",enable=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].set_enabled_for_pc(enable,{country:"us"})})}componentDidMount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("rule_changed",this.update_rules);this.update_rules();this.load_mitm_rules()}componentWillUnmount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].off("rule_changed",this.update_rules)}load_mitm_rules(){let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){let mitm_rules=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_mitm_unblock_rules();_this.setState({mitm_rules:mitm_rules})}))}get_rules(){let state=this.state;let rules=[],all_browser;Object.values(_util_util_js__WEBPACK_IMPORTED_MODULE_6___default.a.get(state,"rules.unblocker_rules",{})).forEach(rule=>{if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.is_all_browser(rule))all_browser=rule;else rules.push(rule)});(state.mitm_rules||[]).forEach(r=>rules.push({name:r.name,url:r.url,country:r.country,enabled:true,mitm:true}));let protect_pc={mode:"protect",country:state.vpn_country||"us",enabled:!!state.vpn_country};all_browser=all_browser||{country:"us",enabled:0};return{rules:rules,all_browser:all_browser,protect_pc:protect_pc}}render(){let _this$get_rules=this.get_rules(),rules=_this$get_rules.rules,all_browser=_this$get_rules.all_browser,protect_pc=_this$get_rules.protect_pc;let _this$props2=this.props,country=_this$props2.country,is_plus=_this$props2.is_plus;let popular_url="https://hola.org/unblock/popular"+(country?"/"+country.toLowerCase():"")+"?utm_source=holaext_settings";return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["f"],{title:T("Unblock")},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,is_plus&&this.state.protect_browser&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Rule_item,{rule:all_browser,title:"Protect browser",on_switch:this.switch_all_browser,icon:"protect"}),is_plus&&this.state.protect_pc&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Rule_item,{rule:protect_pc,title:"Protect entire PC",on_switch:this.switch_protect_pc,icon:"protect"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",{className:"sub-section"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3",{className:"title"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Sites")),!!rules.length&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,rules.map(this.render_rule)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{className:"popular-btn",target:"_blank",rel:"noopener noreferrer",href:popular_url},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Unblock more sites...")))))}}class Popups extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(...args){super(...args);_defineProperty(this,"state",{rules:[]});_defineProperty(this,"update_rules",()=>{let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){let all_sites=false;let rules=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_dont_show_rules("default");if(rules.includes("all")){all_sites=true;rules=rules.filter(r=>r!="all")}_this.setState({rules:rules,all_sites:all_sites})}))});_defineProperty(this,"on_change",enable=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].set_dont_show_again({root_url:"all",period:"default",type:"default",src:"settings",unset:!enable})});_defineProperty(this,"on_remove",({name:name})=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].set_dont_show_again({root_url:name,type:"default",unset:true})});_defineProperty(this,"render_rule",root_url=>{let href="http://"+root_url;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Rule_item,{key:root_url,rule:{name:root_url},href:href,on_remove:this.on_remove,cls:"rule-item-popups"})})}componentDidMount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("settings_changed",this.update_rules);this.update_rules()}componentWillUnmount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].off("settings_changed",this.update_rules)}render(){let _this$state3=this.state,rules=_this$state3.rules,all_sites=_this$state3.all_sites;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["f"],{title:T("Popups")},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",{className:"settings-item"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Don't show popup for any site"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Switch,{checked:all_sites,on_change:this.on_change})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",{className:"sub-section"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3",{className:"title"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Sites")),!!rules.length&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,rules.map(this.render_rule)))))}}const Privacy_modal=props=>{let plus_url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].plus_ref("p2p_settings");let get_plus=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{className:"upgrade-btn",href:plus_url,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Upgrade to"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("i",{className:"icon-plus"}));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["c"],{title:T("Upgrade to"),action:get_plus,on_close:props.on_close},props.children)};const Privacy=props=>{let is_plus=props.is_plus,svc_version=props.svc_version,_props$user=props.user,user=_props$user===void 0?{}:_props$user;let _useState=useState(true),_useState2=_slicedToArray(_useState,2),p2p=_useState2[0],set_p2p=_useState2[1];let _useState3=useState(is_plus&&user.no_log),_useState4=_slicedToArray(_useState3,2),no_log=_useState4[0],set_no_log=_useState4[1];let _useState5=useState(),_useState6=_slicedToArray(_useState5,2),modal=_useState6[0],set_modal=_useState6[1];let on_change=(type,val,set_val)=>()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){set_val(!val);if(!is_plus){yield _util_etask_js__WEBPACK_IMPORTED_MODULE_8___default.a.sleep(100);set_val(val);set_modal(type)}else if(type=="no_log"){yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].hola_api_call("users/set_no_log",{method:"POST",text:true,data:{no_log:!val}});yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].refresh_user({force_premium:true,reason:"set_no_log"})}}));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["f"],{title:T("Privacy")},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,!!svc_version&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",{className:"settings-item"},is_plus&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Never share idle resources"),!is_plus&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Allow to be a peer and share resources"),!is_plus&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Switch,{checked:p2p,on_change:on_change("p2p",p2p,set_p2p)})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",{className:"settings-item"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"No logs"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Switch,{checked:no_log,on_change:on_change("no_log",no_log,set_no_log)}))),modal&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Privacy_modal,{on_close:()=>set_modal(false)},modal=="p2p"&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Upgrade to PLUS to stop sharing idle resources"),modal=="no_log"&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"Upgrade to PLUS to stop sending activity logs")))};class Legal extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(...args){super(...args);_defineProperty(this,"state",{});_defineProperty(this,"update_agree_ts",()=>this.setState({agree_ts:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_agree_ts()}));_defineProperty(this,"show_privacy",e=>{e.preventDefault();this.setState({modal:true})});_defineProperty(this,"hide_privacy",()=>this.setState({modal:false}));_defineProperty(this,"on_change",()=>{let agree_ts=this.state.agree_ts?"":Date.now();this.setState({agree_ts:agree_ts});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].set_agree_ts(agree_ts)})}componentDidMount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("agree_ts_changed",this.update_agree_ts);this.update_agree_ts()}componentWillUnmount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("agree_ts_changed",this.update_agree_ts)}render_modal(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["c"],{className:"page-modal-legal",title:_bext_vpn_ui_privacy_js__WEBPACK_IMPORTED_MODULE_13__["a"].title,on_close:this.hide_privacy},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_privacy_js__WEBPACK_IMPORTED_MODULE_13__["a"].Text,null))}render(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["f"],{title:T("Legal"),cls:"section-legal"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",{className:"settings-item"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Label_checkbox,{onChange:this.on_change,checked:!!this.state.agree_ts},"I agree that Hola can use my personal information as described in the "," ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{href:"",onClick:this.show_privacy,onMouseDown:e=>e.preventDefault()},_bext_vpn_ui_privacy_js__WEBPACK_IMPORTED_MODULE_13__["a"].title)))),this.state.modal&&this.render_modal())}}const Settings=()=>{const get_user_info=()=>({user:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_user(),is_plus:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_is_premium()});const _useState7=useState(get_user_info()),_useState8=_slicedToArray(_useState7,2),user_info=_useState8[0],set_user_info=_useState8[1];const _useState9=useState(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_svc_version()),_useState10=_slicedToArray(_useState9,2),svc_version=_useState10[0],set_svc_version=_useState10[1];const _useState11=useState(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_country()),_useState12=_slicedToArray(_useState11,2),country=_useState12[0],set_country=_useState12[1];useEffect(()=>{perr("settings_show");const update_user=()=>set_user_info(get_user_info());const update_country=()=>set_country(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_country());const update_svc_version=()=>set_svc_version(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].get_svc_version());_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("user_changed",update_user);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("country_changed",update_country);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].on("svc_version_changed",update_svc_version);return()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].off("user_changed",update_user);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].off("country_changed",update_country);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_10__["a"].off("svc_version_changed",update_svc_version)}},[]);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["d"],_extends({},user_info,{title:T("Settings"),cls:"settings"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Report_problem,null),user_info.user&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Account_details,user_info),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Unblock,{country:country,is_plus:user_info.is_plus}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Popups,null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Privacy,_extends({},user_info,{svc_version:svc_version})),!!conf__WEBPACK_IMPORTED_MODULE_4__.check_agree_ts&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Legal,null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["b"],null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Link_line,{href:"about.html"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(T,null,"About"))))};const init=()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_8___default()((function*(){yield Object(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_11__["g"])();react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Settings,null),document.querySelector(".react-root"))}))}}]);
//# sourceMappingURL=https://hola.org/be_source_map/1.168.667/13.js.map