I4c.prototype.V_=W(1397,function(a){Hx(this.ib.Hw(this.D),"docs-icon-comment-blank-highlighted",a)});M4c.prototype.V_=W(1396,function(a){var b=iI(this.D);this.C.Xe(function(c){var d=a&&c.Gp().mb()==b;c.V_(d)})});bP.prototype.$Ta=W(1390,function(a,b){for(var c=this.V[a],d=vd(arguments,1),e=0;e<c.length;++e){var f=c[e];(f.isEnabled(this)||YNc[a])&&f[XNc[a]].apply(f,d)}});
e1b.prototype.bNa=W(1253,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||jG(h)&&d||eUe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||jG(c)&&d||eUe(c)))return c;return null});fma.prototype.Vga=W(7,function(){throw Uca("setValue not supported").C;});eda.prototype.H=W(2,function(){throw Uca("remove").C;});Hda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});
ema.prototype.H=W(0,function(){lda(0<=this.F);lma(this.J,this.L[this.F]);mma(this.J);--this.F});function uah(a,b){a.KU=b.KU;return a}function vah(a,b,c,d){var e=0;Wa(a,b)&&(a=a.slice(e,e+d),e=0);var f=e;for(e+=d;f<e;){var h=Math.min(f+1E4,e);d=h-f;f=a.slice(f,h);f.splice(0,0,c,0);Array.prototype.splice.apply(b,f);f=h;c+=d}}function wah(a,b,c){for(a=a.hj();a.C();){var d=a.D();if(Db(b,d))return c&&a.H(),!0}return!1}function xah(a,b,c){return a.Wg(b)?a.Qya(b,c):null}
function yah(a,b){var c=b.Fr();b=b.Gr();var d=a.get(c);return!Db(b,d)||null==d&&!a.Wg(c)?!1:!0}function zah(a){return a?a.Gr():null}function Aah(a){if(a.F.C())return!0;if(!Wa(a.F,a.R))return!1;a.F=a.L.C.hj();return a.F.C()}function Bah(a,b){return(a=a.C.get(b))?a:[]}function Cah(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(Db(a,d.Fr()))return d}return null}function Dah(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}
function Eah(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function Fah(a,b){for(b=b.hj();b.C();){var c=b.D().Gr();if(Db(a,c))return!0}return!1}function Gah(){this.J=this.F=0}t(Gah,Ua);Gah.prototype.C=function(){return this.F<this.L.size()};Gah.prototype.D=function(){this.C();return this.L.ura(this.J=this.F++)};Gah.prototype.H=function(){this.L.Lja(this.J);this.F=this.J;this.J=-1};function Hah(){Gah.call(this)}t(Hah,Gah);function Iah(){this.J=!1}t(Iah,Ua);
Iah.prototype.C=g("J");Iah.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=Aah(this);return a};Iah.prototype.H=function(){this.O.H();this.O=null;this.J=Aah(this)};function Jah(){}t(Jah,Ua);Jah.prototype.C=function(){return this.F.C()};Jah.prototype.D=function(){return this.F.D().Gr()};Jah.prototype.H=function(){this.F.H()};function Kah(){}t(Kah,Ua);Kah.prototype.C=function(){return this.F.C()};Kah.prototype.D=function(){return this.F.D().Fr()};Kah.prototype.H=function(){this.F.H()};
function Lah(){this.F=this.J=0}t(Lah,Ua);Lah.prototype.C=function(){return this.J<this.L.C.length};Lah.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};Lah.prototype.H=function(){this.L.Lja(this.J=this.F);this.F=-1};function Mah(a){var b;null==a?b=0:b=Gb(a)|0;return b}function Nah(a,b){for(var c=Mah(b),d=Bah(a,c),e=0;e<d.length;e++){var f=d[e];if(Db(b,f.Fr()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Gr()}return null}
function Oah(){this.F=0}t(Oah,Ua);Oah.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};Oah.prototype.D=function(){return this.L=this.J[this.F++]};Oah.prototype.H=function(){Nah(this.O,this.L.Fr());0!=this.F&&this.F--};function Pah(){this.D=0}t(Pah,Ua);Pah.prototype.hj=function(){var a=new Oah;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function Qah(a){var b=0;for(a=a.hj();a.C();){var c=a.D();b+=ica(c);b|=0}return b}function Rah(){}t(Rah,Ua);Rah.prototype.equals=function(a){return null!=a&&a.A0?Db(this.Fr(),a.Fr())&&Db(this.Gr(),a.Gr()):!1};Rah.prototype.fk=function(){return ica(this.Fr())^ica(this.Gr())};Rah.prototype.toString=function(){return Xa(this.Fr())+"="+Xa(this.Gr())};Rah.prototype.A0=!0;function Sah(){this.F=0}t(Sah,Rah);Sah.prototype.Fr=function(){return this.C.value[0]};
Sah.prototype.Gr=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};Sah.prototype.Vga=function(a){return Eah(this.D,this.C.value[0],a)};function Tah(){}t(Tah,Ua);Tah.prototype.C=function(){return!this.J.done};Tah.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new Sah,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};Tah.prototype.H=function(){Dah(this.F,this.O.value[0])};function Uah(){this.D=this.F=0}t(Uah,Ua);
Uah.prototype.hj=function(){var a=new Tah;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function Vah(a){var b=new Pah;b.C=new Map;b.F=a;a.C=b;b=new Uah;b.C=new Map;b.H=a;a.D=b}function Wah(a,b){return Wa(b,a)?"(this Map)":Xa(b)}function Xah(){}t(Xah,Ua);Xah.prototype.toString=function(){return this.C?$b(this.D)?this.C.toString():Xa(this.C.toString())+Xa(this.D):this.J};function Yah(a,b){var c=new Xah;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Xa(c.F)+Xa(c.D);return c}
function Zah(a,b){a.C?Lb(a.C,a.H):a.C=qca(a.F);a=a.C;a.ws=Xa(a.ws)+Xa(b)}function $ah(){}t($ah,Ua);m=$ah.prototype;m.Fr=g("D");m.Gr=g("C");m.Vga=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.A0?Db(this.D,a.Fr())&&Db(this.C,a.Gr()):!1};m.fk=function(){return ica(this.D)^ica(this.C)};m.toString=function(){return Xa(this.D)+"="+Xa(this.C)};m.A0=!0;function abh(){}t(abh,$ah);function bbh(a,b){var c=new abh;c.D=a;c.C=b;return c}
function cbh(a,b,c){var d=Mah(b),e=Bah(a,d);if(0==e.length)a.C.set(d,e);else if(d=Cah(b,e))return d.Vga(c);e[e.length]=bbh(b,c);a.D++;return null}function dbh(a,b,c){for(a=a.DI().hj();a.C();){var d=a.D();if(Db(b,d.Fr()))return c&&(d=bbh(d.Fr(),d.Gr()),a.H()),d}return null}function ebh(){}t(ebh,Ua);m=ebh.prototype;m.add=function(){throw Uca("Add not supported on this collection").C;};m.addAll=function(a){var b=!1;for(a=a.hj();a.C();){var c=a.D();b=!!(+b|+this.add(c))}return b};
m.clear=function(){for(var a=this.hj();a.C();)a.D(),a.H()};m.contains=function(a){return wah(this,a,!1)};m.u5b=function(a){for(a=a.hj();a.C();){var b=a.D();if(!this.contains(b))return!1}return!0};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return wah(this,a,!0)};m.Jc=function(a){for(var b=!1,c=this.hj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Nf=function(){return this.fVa(Array(this.size()))};
m.fVa=function(a){var b=this.size();a.length<b&&(a=uah(Array(b),a));for(var c=a,d=this.hj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};m.toString=function(){for(var a=Yah("[","]"),b=this.hj();b.C();){var c=b.D();Zah(a,Wa(c,this)?"(this Collection)":Xa(c))}return a.toString()};function fbh(){}t(fbh,ebh);fbh.prototype.clear=function(){this.C.clear()};fbh.prototype.contains=function(a){return this.C.Av(a)};fbh.prototype.hj=function(){var a=this.C.DI().hj(),b=new Jah;b.F=a;return b};
fbh.prototype.size=function(){return this.C.size()};function gbh(){}t(gbh,ebh);gbh.prototype.equals=function(a){return Wa(a,this)?!0:null!=a&&a.xEa?a.size()!=this.size()?!1:this.u5b(a):!1};gbh.prototype.fk=function(){return Qah(this)};gbh.prototype.Jc=function(a){var b=this.size();if(b<a.size())for(var c=this.hj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.hj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};gbh.prototype.xEa=!0;function hbh(){}t(hbh,gbh);m=hbh.prototype;m.clear=function(){this.C.clear()};
m.contains=function(a){return null!=a&&a.A0?yah(this.C,a):!1};m.hj=function(){var a=new Iah;a.L=this.C;a.R=a.L.D.hj();a.F=a.R;a.J=Aah(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Fr()),!0):!1};m.size=function(){return this.C.size()};function ibh(){}t(ibh,gbh);m=ibh.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Wg(a)};m.hj=function(){var a=this.C.DI().hj(),b=new Kah;b.F=a;return b};
m.remove=function(a){return this.C.Wg(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function jbh(){}t(jbh,Ua);m=jbh.prototype;m.clear=function(){this.DI().clear()};m.Wg=function(a){return!!dbh(this,a,!1)};m.Av=function(a){for(var b=this.DI().hj();b.C();){var c=b.D().Gr();if(Db(a,c))return!0}return!1};m.equals=function(a){if(Wa(a,this))return!0;if(null==a||!a.U5a||this.size()!=a.size())return!1;for(a=a.DI().hj();a.C();){var b=a.D();if(!yah(this,b))return!1}return!0};
m.get=function(a){return zah(dbh(this,a,!1))};m.fk=function(){return Qah(this.DI())};m.isEmpty=function(){return 0==this.size()};m.yQb=function(){var a=new ibh;a.C=this;return a};m.Qya=function(){throw Uca("Put not supported on this map").C;};m.remove=function(a){return zah(dbh(this,a,!0))};m.size=function(){return this.DI().size()};m.toString=function(){for(var a=Yah("{","}"),b=this.DI().hj();b.C();){var c=b.D();c=Xa(Wah(this,c.Fr()))+"="+Xa(Wah(this,c.Gr()));Zah(a,c)}return a.toString()};
m.values=function(){var a=new fbh;a.C=this;return a};m.replace=function(a,b){return xah(this,a,b)};m.U5a=!0;function kbh(){}t(kbh,jbh);m=kbh.prototype;m.clear=function(){Vah(this)};m.Wg=function(a){var b;bc(a)?b=null==a?!!Cah(null,Bah(this.C,Mah(null))):void 0!==this.D.C.get(a):b=!!Cah(a,Bah(this.C,Mah(a)));return b};m.Av=function(a){return Fah(a,this.D)||Fah(a,this.C)};m.DI=function(){var a=new hbh;a.C=this;return a};
m.get=function(a){var b;bc(a)?b=null==a?zah(Cah(null,Bah(this.C,Mah(null)))):this.D.C.get(a):b=zah(Cah(a,Bah(this.C,Mah(a))));return b};m.Qya=function(a,b){var c;bc(a)?c=null==a?cbh(this.C,null,b):Eah(this.D,a,b):c=cbh(this.C,a,b);return c};m.remove=function(a){var b;bc(a)?b=null==a?Nah(this.C,null):Dah(this.D,a):b=Nah(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return xah(this,a,b)};function lbh(){}t(lbh,kbh);
lbh.prototype.replace=function(a,b){return xah(this,a,b)};function mbh(){}t(mbh,ebh);m=mbh.prototype;m.add=function(a){this.$Fa(this.size(),a);return!0};m.$Fa=function(){throw Uca("Add not supported on this list").C;};m.clear=function(){this.eVa(0,this.size())};m.equals=function(a){if(Wa(a,this))return!0;if(null==a||!a.wEa||this.size()!=a.size())return!1;a=a.hj();for(var b=this.hj();b.C();){var c=b.D(),d=a.D();if(!Db(c,d))return!1}return!0};
m.fk=function(){for(var a=1,b=this.hj();b.C();){var c=b.D();a=31*a+ica(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(Db(a,this.ura(b)))return b;return-1};m.hj=function(){var a=new Gah;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(Db(a,this.ura(b)))return b;return-1};m.Lja=function(){throw Uca("Remove not supported on this list").C;};
m.eVa=function(a,b){var c=new Hah;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.wEa=!0;function nbh(){}t(nbh,mbh);m=nbh.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.$Fa=function(a,b){this.C.splice(a,0,b)};m.addAll=function(a){a=a.Nf();if(0==a.length)return!1;vah(a,this.C,this.C.length,a.length);return!0};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.ura=function(a){return this.C[a]};
m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(Db(a,this.C[b])){a=b;break a}a=-1}return a};m.hj=function(){var a=new Lah;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(Db(a,this.C[b])){a=b;break a}a=-1}return a};m.Lja=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Lja(a);return!0};m.size=function(){return this.C.length};
m.Nf=function(){var a=this.C;return uah(a.slice(0,this.C.length),a)};m.fVa=function(a){var b=this.C.length;a.length<b&&(a=uah(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.eVa=function(a,b){this.C.splice(a,b-a)};m.wEa=!0;function obh(a){var b=new Lta;return Zj(b,6,a)}function pbh(){var a=Sw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function qbh(a){a.Y1a=!1;a.X1a=!1}
function rbh(a){var b=new mm;a.C.forEach(function(c){c.isEmpty()||b.addAll(c.Ed())});return b.Ed()}function sbh(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Um(k,h));return!0});return e}function tbh(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Um(h,f),!0):!1});return d}function ubh(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?sbh(a,!!b,d,e):tbh(a,d,e)}
function vbh(a,b){a.C.V=b;a.xa&&a.D&&(P(a.D,0<b),Ep(a.D.childNodes[1],b))}function wbh(a,b,c){a.C.highlightDoco(lR(a.D,b),null==c?void 0:c)}function xbh(a,b){var c={},d;for(d in b){var e=lR(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function ybh(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function x4(a){return a.C.hasUnpostedDocos()}
function zbh(){}t(zbh,gbh);m=zbh.prototype;m.add=function(a){return null==this.C.Qya(a,this)};m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Wg(a)};m.isEmpty=function(){return this.C.isEmpty()};m.hj=function(){return this.C.yQb().hj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.xEa=!0;function Abh(a,b){return!(!a.C[b]&&!a.J[b])}
function Bbh(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new stf(c,a.H):ttf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||rtf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Tsf(d.D.metadata,d.F):Zsf),e=b(d.C));if(e)return d.getUrl()}}return null}function Cbh(a){null===a.F&&(a.F=Bbh(a.C,function(b){return!!b&&!Usf(b)}),null===a.F&&(a.F=Ktf(a,Bbh)));return a.F}function Dbh(a,b,c,d){nB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(Dbh,nB);
Dbh.prototype.ox=function(){this.cB=[this.C?D$a(this.element):this.element.offsetLeft,this.element.offsetTop];Dbh.Ya.ox.call(this)};function Ebh(a,b){A.call(this);this.Mg=a;this.C=b}v(Ebh,A);m=Ebh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.Cf=function(a,b,c){this.Mg.D.Cf(this.C+":"+a,u(this.CJa,this,b),c)};m.oJ=function(a){this.D=u(this.CJa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Mg.D.send(this.C+":"+a,b)};
m.CJa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ka=function(){this.Mg=this.Mg.C[this.C]=null};function Fbh(a){A.call(this);this.D=a;this.C={};this.D.oJ(u(this.F,this))}v(Fbh,A);function Gbh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new Ebh(a,b);return a.C[b]=c}
Fbh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};Fbh.prototype.Ka=function(){Sd(this.C,function(a){Tf(a)});Tf(this.D);delete this.C;delete this.D};var Hbh={$b:!0,ac:!0,bc:!0,cc:!0,gc:!0,hc:!0},Ibh={Z5a:"all",MAc:"important",NONE:"none"};function Jbh(){return S('<div class="'+T("docs-docos-activitybox")+'"><div class="'+T("docs-docos-activitybox-inner")+'"></div></div>')}
function Kbh(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}t(Kbh,Q);m=Kbh.prototype;m.Ca=function(){Q.prototype.Ca.call(this);var a=this.oa(),b=zy(Jbh,{},{},a);this.pb(b);this.D=a.getElement("docs-docos-caret");this.H=a.eb("docs-docos-activitybox-inner",b);this.L&&(Dx(b,"docos-enable-new-header"),Dx(this.D,"docos-enable-new-header"));this.O?Dx(b,"docos-streampanesize"):Dx(b,"docos-streampanesize-legacy")};
m.Ia=function(){Ez(this.getElement(),"docos");this.F=new wA(this.getElement());this.F.uj("close-box",27);this.C=new Ox(this.getElement(),"toggle_display");Px(this.C,!0);Lle(this.C,!1);this.C.uKa=!1;this.getHandler().listen(this.F,"shortcut",this.$Tb).listen(this.C,"show",this.M9b).listen(this.C,"hide",this.L9b).listen(this.C,"beforeshow",this.K9b).listen(this.C,"beforehide",this.J9b)};m.wb=g("H");m.M9b=function(){P(this.D,!0);this.dispatchEvent("show")};m.L9b=function(){P(this.D,!1)};m.K9b=function(){return this.dispatchEvent("beforeshow")};
m.J9b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.$Tb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ka=function(){Tf(this.F);delete this.F;delete this.D;delete this.H;Tf(this.C);delete this.C;Q.prototype.Ka.call(this)};
function Lbh(a,b,c){hS.call(this,void 0,b,!0,!0);this.L=a;this.H=c;this.setTitle("Comment limit");Sx(this,"You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy.");this.C.setContent("Make a copy");MYe(this,"Reload");this.vs=!0}t(Lbh,hS);Lbh.prototype.Ca=function(){hS.prototype.Ca.call(this);Dx(this.getElement(),"post-limit-error-dialog")};
Lbh.prototype.$z=function(){var a=ez(az(new $y,12));(Ot(),bv).qb(!0,a);this.H.C(30066);hS.prototype.$z.call(this)};Lbh.prototype.cY=function(){SE(this.L,!0);this.H.C(30065)};
function Mbh(a,b,c,d,e,f,h,k,l){f=void 0===f?!1:f;h=void 0===h?new ap:h;k=void 0===k?(Ot(),k4a):k;Wo.call(this);this.F=null;this.ma=!1;this.gb=h;this.C=a;this.Qa=e;this.Ra=new Lbh(b,this.gb,this.Qa);this.Va=c;this.Sa=d;this.Ma=f;this.D=new Kbh(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.gb);this.Oa=new Xo(this);this.V=new Tz(this);this.Ba=new Vz(void 0,void 0,!0,IB.getInstance());this.J=k;this.xa=
!1;this.Da=z(y(),"docs-edll");this.O=(this.H=Ay())&&z(y(),"docs-ehspc");this.Ja=l||null;this.L=null;this.R=!1;this.C.onReady(u(this.Z9b,this))}t(Mbh,Wo);m=Mbh.prototype;m.render=ba();
m.Z9b=function(){var a=this;if(!this.H||this.O)var b=Nbh(this);this.V.yb((Ot(),Pv),ot,this.kfc);b=this.H?cp("docs-chrome"):b.parentNode.parentNode;this.D.render(b);P(this.D.getElement(),!1);Pv.Pa(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.wb());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Da);this.Va&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
Obh(this)?Pbh(this):this.C.isLinkedDocoDeleted()&&Qbh();this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.pWa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,u(this.pWa,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(this.R=!0,Rbh(this,this.C.hasUnseenDocos()),this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){a.R&&Rbh(a,a.C.hasUnseenDocos())}));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.V$b,
this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.V.yb(this.J,mt,this.a_a);this.a_a(new fYa("enabled",this.J.isEnabled(),!1));this.Ma||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.fUb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.O9b,this));this.Oa.listen(this.D,["show","hide"],this.r7b)};
function Nbh(a){var b=a.gb.getElement("docs-docos-commentsbutton");a.F=HT(null);Qy(a.F,16,!1);a.F.Wa(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.L=a.gb.Ca("SPAN","docs-docos-commentsbutton-badge"),Rbh(a,!1),a.gb.appendChild(b,a.L));Xz(a.Ba,a.F,(Ot(),Pv),Zz);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}m.pWa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
m.V$b=function(a){if(!this.H||this.O)a=a.getArgs(),this.bCa(a.getDisplay(),!1),this.Ja&&this.Ja(Iw(this.D.wb()))};m.a_a=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function Obh(a){if(a.H||!a.Da)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}m.kfc=function(){this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(Rbh(this,!1),this.R=!1);Pbh(this);var a=this.D;a.C&&!pab(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.fUb=function(){if(!this.ma&&Dq(this.Sa,0)){if(this.C.hasPendingContent()){var a=nA("Failed to post comment due to a network error.","warning",!0);lA.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason");this.ma=!0}};
m.O9b=function(){var a=this.Ra;a.setVisible(!0);a.H.C(30064);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason")};function Qbh(){var a=nA("This comment has been deleted.","info",!0);lA.getInstance().postMessage(a)}m.r7b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a||this.O);this.F&&this.F.Ib(a);a||this.dispatchEvent("activity-box-closed")};
m.bCa=function(a,b){b=void 0===b?!0:b;a&&Pbh(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function Rbh(a,b){a.L&&P(a.L,b)}function Pbh(a){a.xa||(a.xa=!0,a.C.renderPaneSurface())}m.Ka=function(){Tf(this.F);Tf(this.Oa);Tf(this.D);Tf(this.Ba);Tf(this.V);Wo.prototype.Ka.call(this)};function y4(a,b,c){Ko.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}t(y4,Ko);function Sbh(){Wo.call(this);this.F=new mm;this.D=this.H=this.J=null;this.L=this.C=!1}t(Sbh,Wo);
function Tbh(a,b,c){z4(a);a.D=b;a.H=c;a.dispatchEvent(new y4("Be",[b],c))}Sbh.prototype.R=function(a,b){z4(this);this.D=a;this.H=b;this.dispatchEvent(new y4("ze",[a],b))};function Ubh(a){a.C||a.D||z4(a);a.dispatchEvent("Je")}Sbh.prototype.O=function(){z4(this);this.dispatchEvent("Ee")};Sbh.prototype.reset=function(){z4(this);this.dispatchEvent("He")};function z4(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}
Sbh.prototype.Ka=function(){delete this.J;delete this.F;delete this.H;delete this.D;Wo.prototype.Ka.call(this)};function Vbh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function Wbh(a){var b=new Kta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new BEd(b)}function Xbh(a,b){return(a=eI(a,b))?a.Ec():null}
function Ybh(a,b){return b?(b=KEd(b))&&LEd(MEd(b))?Xbh(a,b.mb()):null:null}var Zbh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,$bh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function ach(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Oe(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(Zbh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Od(n[2],r)&&Yga(n[1],q)>Yga(n[1],r)},l||(e="http://"),l=h.match($bh),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Qe("a",b,h));d.push(l);return""});return Se(d)}function bch(a,b,c){vJ.call(this,35);this.dd=a;this.C=b;this.F=c}t(bch,vJ);bch.prototype.Id=function(){var a=new MF,b=no(this.F,this.C);D(a,1,this.dd);D(a,2,b);return a};bch.prototype.Bg=ea(!1);function A4(){}A4.prototype.getType=ea("ApiEventArgs");A4.prototype.getType=A4.prototype.getType;function cch(a){this.C=a}v(cch,A4);ua("docos.api.FindSelectionArgs",cch,void 0);function dch(a){return"FindSelectionArgs"===a.getType()}cch.isFindSelectionArgs=dch;cch.prototype.getType=ea("FindSelectionArgs");cch.prototype.getVerticalOffset=g("C");cch.prototype.getVerticalOffset=cch.prototype.getVerticalOffset;function ech(a){this.F=a}ech.prototype.C=function(){if(!mI(this.F.C))return[];var a=pI(this.F.C),b=WI(a);if(Ijc(OK(this.F.Ma,a),b).length){var c=vI(a,b);a=a.Jb();var d=b.x;b=b.y;c=[pM(this.F)?z2b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};ech.prototype.D=ea(0);function fch(a,b){this.F=a;this.J=b;this.H=NDd()}fch.prototype.C=function(){if(!mI(this.F.C))return[];var a=pI(this.F.C),b=WI(a);a=Ijc(OK(this.F.Ma,a),b);if(!a.length)return["Not on a comment"];a=this.H.sb(a[0]);b=this.J;b.C.verbalizeDoco(lR(b.D,a));return[]};fch.prototype.D=ea(0);function gch(a,b,c,d,e,f,h,k,l,n,q,r,w){A.call(this);this.D=a;this.V=b;this.xa=c;this.Sa=d;this.H=e;this.Xa=f;this.Qa=h;this.Va=k;this.C=l;this.L=n;this.J=b.Ma;this.F=b.C;this.O=NDd();this.ma={};this.Da=new mm;this.Ba=new DDa(0);a=[this.Ba];ud(q.F,a);Wjb(q,a);q.C=Wib(q.F);Vjb(q);this.Ja=r;this.Ma=new qqf(w,this.Ja.H);this.qa(this.Ma);this.R=new Xo(this);this.qa(this.R);this.Ra=!1;hch(this)}t(gch,A);
function hch(a){var b=bd(BUb,function(d){return!Hbh[d]});a.R.listen(a.Sa,"activity-box-closed",a.ACb).listen(a.H,"mouseover",B4(a,a.dNb)).listen(a.H,"click",B4(a,a.w0b)).listen(a.H,"selectionChange",B4(a,a.eNb)).listen(a.H,"inputBoxActivate",B4(a,a.aNb)).listen(a.H,"hide_docos",B4(a,a.cNb)).listen(a.F,"oa",B4(a,a.v0b)).listen(a.Qa,"Id",a.rJb).listen(a.Qa,"Jd",a.pJb).listen(a.Qa,"Kd",a.oJb).listen(a.H,"insert_doco",a.t0b).listen(new oP(a.Va),FQc(),a.hNb).listen(a.V,"docos_change",a.pNb).listen(a.L,
"Xi",a.pqb).listen(a.F,"na",a.gSa).listen(a.H,"overlay-redraw",a.PEb);var c=vG(a.F);a.R.listen(c,b,a.bNb);a.R.listen(c,["fc"],B4(a,a.u0b));mR(a.D,Docos.EventType.HOVER,B4(a,a.Jvb));mR(a.D,Docos.EventType.SELECTED,B4(a,a.s0b));mR(a.D,Docos.EventType.CREATED,a.UPa,a);mR(a.D,Docos.EventType.UNRESOLVED,a.UPa,a);mR(a.D,Docos.EventType.DELETED,a.VPa,a);mR(a.D,Docos.EventType.RESOLVED,a.VPa,a);mR(a.D,Docos.EventType.POSTED,a.lwb,a);mR(a.D,Docos.EventType.PENDING,a.tFb,a);mR(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.Bzb,a);rD.yb(mt,u(a.xAb,a));(Ot(),Pv).yb(mt,u(a.Vpb,a));Qv.subscribe("action",u(a.iDb,a));Rv.subscribe("action",u(a.pDb,a));Sv.subscribe("action",u(a.qDb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Ja.C(zv,new gw(b));a.Ma.bind(zv.getId(),new fch(a.V,a.D));a.Ja.C(Av,new gw(b));a.Ma.bind(Av.getId(),new ech(a.V));a.gSa()}m=gch.prototype;m.gSa=function(){var a=mI(this.F);(Ot(),Qv).Pa(a);Rv.Pa(a);Sv.Pa(a)};m.PEb=function(){ich(this.L)};
m.xAb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.V.VP())};function B4(a,b){return function(c){a.Ra||b.call(a,c)}}m.t0b=function(){var a=pI(this.F),b=WI(a);if(b&&!x4(this.D)&&!jch(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new bch(c,a.Jb(),sn(b));b=u(this.yAb,this,c,b);a.D=b;this.Xa.C(a)}};m.yAb=function(a,b,c){c&&(a=kch(this,this.O.sb(new KDd(a))))&&(this.C.dispatchEvent(new y4("De",[a],b)),this.xa.Db(2))};
function jch(a,b,c){b=Ijc(OK(a.J,b),c);return b.length?(wbh(a.D,a.O.sb(b[0]),!0),!0):!1}m.UPa=function(a){var b=this;$c(a.D,function(c){lch(b,!0,c);b.Da.add(c)})};m.VPa=function(a){var b=this;$c(a.D,function(c){lch(b,!1,c);b.Da.remove(c)})};
function lch(a,b,c,d,e){c=kch(a,c);d=d||Ybh(a.F,c);e=e||nS(c);if(c&&d&&e){var f=OK(a.J,d);if(b){var h=f.C.ag(e.y,e.x)||new mm;h.add(c);f.J++;UUb(f.C,e.y,e.x,h)}else(h=f.C.ag(e.y,e.x))&&h.remove(c)&&f.J--;UUb(f.D,e.y,e.x,!0);f.H.Fb()||f.H.start();a.F.getActiveGrid()&&(d=d==pI(a.F),b?(a=a.C,(b=d?e:null)&&Vm(b,a.J)&&a.F.add(c),a.dispatchEvent(new y4("ve",[c],b))):(a=a.C,(b=d?e:null)&&Vm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new y4("Ge",[c],b))))}else a.C.dispatchEvent("Ie")}
function kch(a,b){if(!b)return null;if(!a.ma[b]){var c=a.O.D(b);c&&(a.ma[b]=c)}return a.ma[b]}m.v0b=function(){this.C.reset()};m.Jvb=function(a){a=mch(this,a);var b=nS(a);this.C.dispatchEvent(new y4("Ae",[a],b))};m.lwb=ba();m.tFb=function(){WUe(this.Ba,this.D.C.hasPendingContent())};m.Bzb=function(a){this.Sa&&(a.J||this.C&&!this.C.D)&&this.Sa.bCa(!0)};m.ACb=function(){this.xa.Db(3)};
m.s0b=function(a){if(!(a.C&&dch(a.C)||x4(this.D))){var b=mch(this,a),c=nS(b);b&&c?(this.Ra=!0,Tbh(this.C,b,c)):b||a.J?this.C.reset():b||this.xa.Db(3)}};m.pqb=function(){this.Ra=!1};m.cNb=function(){this.C.dispatchEvent("Ce")};m.eNb=function(){if(!this.L.isEmpty()&&!x4(this.D)){this.xa.Db(3);var a=this.C,b=WI(pI(this.F));Vm(a.H,b)||!a.D&&!a.C&&Vm(a.J,b)||(z4(a),a.dispatchEvent(new y4("ye",[],b)))}};
m.w0b=function(){var a=pI(this.F);if(!x4(this.D)&&a){var b=OK(this.J,a),c=(a=WI(a))?Ijc(b,a):[];c.length&&(b=this.C,c=c[0],Vm(b.H,a)?(z4(b),b.dispatchEvent(new y4("we",[],a))):b.dispatchEvent(new y4("we",[c],a)))}};m.aNb=function(){x4(this.D)||this.C.reset()};m.u0b=function(){Ubh(this.C)};m.bNb=function(){Ubh(this.C)};
m.pNb=function(a){a=a.O||[];wd(a);for(var b=0;b<a.length;b++){var c=this.O.sb(new KDd(a[b]));if(c){var d=kch(this,c);(d=xXe(this.J,d))?(lch(this,!1,c,d.model,d.Toa),lch(this,!0,c),this.C.dispatchEvent("Ie")):this.Da.contains(c)&&lch(this,!0,c)}}};m.dNb=function(a){var b=pI(this.F);if(b){if((a=a.Dk)&&Vsc(a)){var c=WH(b,a.y,a.x);a=c?In(c):a}else a=null;b=OK(this.J,b);b=a?Ijc(b,a):[];c=this.C;c.F.clear();c.F.addAll(b);c.J=a;c.dispatchEvent(new y4("xe",b,a))}};
m.rJb=function(){if(!x4(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;z4(a);a.C=b;a.dispatchEvent("Fe")}}};m.pJb=function(){if(!x4(this.D)){var a=this.C;a.C||(z4(a),a.L=!0,a.C=!0,a.dispatchEvent("Fe"))}};m.oJb=function(){if(!x4(this.D)){var a=this.C;a.C&&a.L&&(z4(a),a.dispatchEvent("Fe"))}};m.hNb=function(a){a.stopPropagation()};function mch(a,b){b=b.D;return kch(a,b.length?b[0]:null)}
m.r0b=function(a){var b=kch(this,a);a=Ybh(this.F,b);if(!b||!a)return"";b=nS(b);a=CI(vI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.Vpb=function(){var a=this.D;if(a=vvd(a.D,a.C.getLinkedDoco())||"")if(a=kch(this,a)){var b=nS(a);Tbh(this.C,a,b)}else(Ot(),Pv).qb()};m.iDb=function(){var a=pI(this.F);jch(this,a,WI(a))};m.pDb=function(){nch(this,!1)};m.qDb=function(){nch(this,!0)};
function nch(a,b){var c=och(a,b),d=hI(a.F),e=pI(a.F),f=WI(e),h=OK(a.J,e);f=ubh(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Ec(),h=OK(a.J,e),f=ubh(h,null,b),k=k.xg(),k!=d););f&&null!==k&&(b=Ijc(h,f)[0],kI(a.F,k,u(a.x0b,a,e,b,f)))}function och(a,b){var c=b?u(a.F.bNa,a.F):u(a.F.rsa,a.F);return function(d){return c(d,0,!0,!0)}}m.x0b=function(a,b,c){Tbh(this.C,b,c);ZI(a,c)};
m.Ka=function(){delete this.H;delete this.Va;delete this.O;delete this.ma;delete this.D;delete this.J;delete this.R;delete this.Xa;delete this.F;delete this.V;Tf(this.Ba);delete this.Ba;Tf(this.L);delete this.L;Tf(this.C);delete this.C;A.prototype.Ka.call(this)};var pch={OCc:"docos-insert-discussion",snc:"docos-cancel-insert-discussion",kKc:"docos-new-doco",lKc:"docos-new-reply",Uqc:"docos-delete-doco",Wqc:"docos-delete-reply",Fuc:"docos-edit-doco",Huc:"docos-edit-reply",Guc:"docos-edit-draft",wmc:"docos-before-highlight-doco",mAc:"docos-highlight-doco",ySc:"docos-speak-doco",IPc:"docos-resolve-doco",mmc:"docos-back-to-document",akc:"docos-accept-suggestion",xPc:"docos-reject-suggestion",apc:"docos-convert-doco",Vqc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",DWc:"docos-update-sort",cXc:"docos-vote-doco",dXc:"docos-vote-reply",MJc:"mouse-hover-doco-view"};function qch(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.L=void 0===c?!1:c;this.J=void 0===d?!0:d;this.O=void 0===e?null:e;this.H=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.xT=void 0===k?!1:k}function C4(){return new qch("")}function D4(a){return new rch(a)}function rch(a){this.L=a;this.J=void 0;this.H=!1;this.D=this.F=!0;this.C=void 0;this.xT=!1}function E4(a,b){a.J=b;return a}function sch(a){a.H=!0;return a}function tch(a){a.F=!1;return a}
function uch(a,b){a.D=b;return a}function vch(a){a.xT=!0;return a}function F4(a){return new qch(a.L,a.J,a.H,a.F,void 0,a.D,a.C,a.xT)};function G4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}ua("docos.Event",G4,void 0);ua("docos.api.Event",G4,void 0);G4.prototype.getType=g("type");G4.prototype.getType=G4.prototype.getType;G4.prototype.getAnchors=g("anchors");G4.prototype.getAnchors=G4.prototype.getAnchors;
G4.prototype.getDocos=g("docos");G4.prototype.getDocos=G4.prototype.getDocos;G4.prototype.isNonAnchored=g("nonAnchored");G4.prototype.isNonAnchored=G4.prototype.isNonAnchored;G4.prototype.isUserInitiated=g("userInitiated");G4.prototype.isUserInitiated=G4.prototype.isUserInitiated;G4.prototype.getArgs=g("args");G4.prototype.getArgs=G4.prototype.getArgs;G4.prototype.canPreventDefault=ea(!1);G4.prototype.canPreventDefault=G4.prototype.canPreventDefault;
G4.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};G4.prototype.preventDefault=G4.prototype.preventDefault;G4.prototype.getAnchorIds=g("D");G4.prototype.getAnchorIds=G4.prototype.getAnchorIds;G4.prototype.getDocoHandles=g("F");G4.prototype.getDocoHandles=G4.prototype.getDocoHandles;function wch(a){return new H4(a)}G4.builder=wch;function H4(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}ua("docos.api.Event.Builder",H4,void 0);
H4.prototype.addAnchorId=function(a){this.C.push(a);return this};H4.prototype.addAnchorId=H4.prototype.addAnchorId;H4.prototype.setAnchorIds=function(a){this.C=a;return this};H4.prototype.setAnchorIds=H4.prototype.setAnchorIds;H4.prototype.addDocoHandle=function(a){this.D.push(a);return this};H4.prototype.addDocoHandle=H4.prototype.addDocoHandle;H4.prototype.setDocoHandles=function(a){this.D=a;return this};H4.prototype.setDocoHandles=H4.prototype.setDocoHandles;
H4.prototype.setNonAnchored=function(a){this.F=a;return this};H4.prototype.setNonAnchored=H4.prototype.setNonAnchored;H4.prototype.setUserInitiated=function(a){this.H=a;return this};H4.prototype.setUserInitiated=H4.prototype.setUserInitiated;H4.prototype.setApiEventArgs=function(a){this.args=a;return this};H4.prototype.setApiEventArgs=H4.prototype.setApiEventArgs;H4.prototype.isEmpty=function(){return ld(this.C)&&ld(this.D)&&!this.args};H4.prototype.isEmpty=H4.prototype.isEmpty;
H4.prototype.build=function(){return new G4(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new A4)};H4.prototype.build=H4.prototype.build;function xch(a,b){G4.call(this,a,[],[],!1,!1,new A4);this.interval=this.interval=b}v(xch,G4);ua("docos.api.TimedEvent",xch,void 0);function ych(){this.C={};this.D={}}function zch(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Qo(c,"end",function(){delete f[b];delete h[b];e()})}function Ach(a,b){(a=a.C[b])&&a.stop()}ych.prototype.getDuration=function(a){return this.D[a]};function Bch(a){var b=a.Ri,c=a.cC,d=a.Ee;a=a.oS;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Cch(a){var b=a.size,c=a.Ee,d=a.Aeb,e=a.ypa;a=a.J2;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(d?' src="'+T(lx(d))+'"':"")+(e?' data-hovercard-id="'+T(e)+'"':"")+(a?' data-name="'+T(a)+'"':"")+"/>")};function Dch(a,b){var c=a.SGa,d=a.Fj,e=a.Co;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(Cch({size:32,Ee:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={Fj:d,Co:e};d=e.Fj;e=e.Co;var f='aria-label="'+
jx("Mark as done and hide discussion.");b=""+R(aA({cd:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:ix(f+'"'),style:e?4:0,content:hx(""+R(Bch({Ri:"docos-icon-accept-checkmark-black",cC:"docos-icon-accept-checkmark-size",Ee:"docos-icon-checkmark jfk-button-img"}))),gP:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function Ech(a,b){return a?Fch(I4(a),b):!1}function Gch(a,b){return a?Ech(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function Hch(a,b){a=I4(a);return Ich(a,b)}function Jch(a,b,c){a=Ich(a,b,!0);return c?(new RA("Reassign to {user}")).format({user:a}):(new RA("Assign to {user}")).format({user:a})}function Ich(a,b,c){return Fch(a,b)?c?"you":"You":J4(a)}function Fch(a,b){return null!=a.getEmail()&&null!=b.Vg().getEmail()&&a.getEmail()==b.Vg().getEmail()};function K4(a,b){Q.call(this,b);this.Yc=Kch(a);this.C=L4(a)}v(K4,Q);K4.prototype.Fd=!1;K4.prototype.Ia=function(){K4.Ya.Ia.call(this);this.Fd&&(this.Ud(),Lch(this))};function Mch(a){a.Fd||(a.Fd=!0,a.getHandler().listen(a.C,"r",a.Ud),a.Ud(),Lch(a))}K4.prototype.Ud=function(){if(this.tb()){var a=this.getElement(),b=this.C.D;Hx(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));Hx(this.getElement(),"docos-offline",this.C.J)}};
function M4(a,b,c,d){a.Yc&&(d=a.Yc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function Lch(a){a.tb()&&M4(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.bh)}K4.prototype.bh=function(a){a.stopPropagation()};function Nch(a,b,c,d){this.C=a;this.D=b;this.H=c;this.F=(void 0===d?null:d)||null};function Och(a,b,c,d){K4.call(this,a,b);this.H=a;this.Hc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new bA(null);this.qa(this.R)}t(Och,K4);m=Och.prototype;
m.Ca=function(){var a=this.oa(),b=N4(Pch(this)),c=zy(Dch,{SGa:Hch(b,this.C),Fj:this.C.Fj(),Co:"legacy"!=this.C.F});this.pb(c);this.L=a.eb("docos-icon-checkmark",c);this.O=a.eb("docos-icon-img-container",c);this.J=a.eb("docos-mark-done-button",c);this.R.Wa(this.J);M4(this,this.R,"action",this.zSb);this.F=a.eb("docos-assigneeview-assignee-text",c);this.D=uV(a,"IMG","docos-assigneeview-avatar",c);a=I4(b);Qch(O4(this.H),this.D,a.D,J4(a));Rch(this,b)};
m.Ia=function(){K4.prototype.Ia.call(this);var a=N4(Pch(this));a=I4(a);Sch(this,a,this.F);Sch(this,a,this.D)};
function Rch(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!Ech(b,a.C)||"black"==Dz()&&Hf||"material_light_background"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=Gch(b,a.C);Gx(a.getElement(),["docos-assignee-you","docos-assignee-other"]);Gx(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);Gx(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
Gx(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);Dx(a.L,d);Dx(a.O,e);Dx(a.J,c);Dx(a.getElement(),b)}function Pch(a){return P4(a.H).fd(a.getId())}m.update=function(){var a=N4(Pch(this)),b=Hch(a,this.C)||"";Ep(this.F,b);Q4(O4(this.H),this.D);b=I4(a);Qch(O4(this.H),this.D,b.D,J4(b));Rch(this,a);Sch(this,b,this.F);Sch(this,b,this.D)};
function Sch(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.zSb=function(a){a&&a.stopPropagation();(a=Pch(this))&&!a.isResolved()&&(a=R4(this.H),this.dispatchEvent("br"),a.zf("docos-resolve-doco").qb(new Nch(this.getId(),!0,Tch(this.V))),this.dispatchEvent("ar"))};m.xd=function(){K4.prototype.xd.call(this)};
m.Ka=function(){K4.prototype.Ka.call(this);delete this.F;delete this.D;delete this.L};function S4(a){J(this,a,0,-1,null,null)}v(S4,I);m=S4.prototype;m.ea=function(){var a=new E;Uch(this,a);return Y(a)};function Uch(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function Vch(a){J(this,a,0,1,null,null)}v(Vch,I);var Wch={};Vch.prototype.ea=function(){var a=new E;Xch(this,a);return Y(a)};function Xch(a,b){Kj(a,b,Wch,Vch.prototype.getExtension)};function Ych(a){J(this,a,0,-1,null,null)}v(Ych,I);m=Ych.prototype;m.ea=function(){var a=new E;Zch(this,a);return Y(a)};function Zch(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,Vch,3);null!=c&&b.Aa(3,c,Xch);c=K(a,4);null!=c&&b.Ha(4,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};
m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function $ch(a){J(this,a,0,-1,null,null)}v($ch,I);$ch.prototype.ea=function(){var a=new E;adh(this,a);return Y(a)};function adh(a,b){a=N(a,iY,1);null!=a&&b.Aa(1,a,ukf)};function bdh(a){J(this,a,0,-1,null,null)}v(bdh,I);bdh.prototype.ea=function(){var a=new E;cdh(this,a);return Y(a)};function cdh(a,b){var c=N(a,iY,1);null!=c&&b.Aa(1,c,ukf);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&Bj(b,4,c)}bdh.prototype.D=function(a){L(this,2,a)};function ddh(a){J(this,a,0,-1,edh,null)}v(ddh,I);var edh=[5];ddh.prototype.ea=function(){var a=new E;fdh(this,a);return Y(a)};function fdh(a,b){var c=K(a,1);null!=c&&Bj(b,1,c);c=K(a,2);null!=c&&Bj(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Yj(a,bdh,5);0<c.length&&Gj(b,5,c,cdh)};function gdh(a){J(this,a,0,-1,null,null)}v(gdh,I);gdh.prototype.ea=function(){var a=new E;hdh(this,a);return Y(a)};function hdh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)};function idh(a){J(this,a,0,-1,null,null)}v(idh,I);m=idh.prototype;m.ea=function(){var a=new E;jdh(this,a);return Y(a)};function jdh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&Aj(b,2,c);c=K(a,3);null!=c&&Aj(b,3,c)}m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function kdh(a){J(this,a,0,-1,null,null)}v(kdh,I);m=kdh.prototype;m.ea=function(){var a=new E;ldh(this,a);return Y(a)};function ldh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,idh,3);null!=c&&b.Aa(3,c,jdh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.Ha(5,c);c=K(a,9);null!=c&&b.Ha(9,c);c=K(a,6);null!=c&&b.Ha(6,c);c=N(a,gdh,7);null!=c&&b.Aa(7,c,hdh);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,10);null!=c&&b.Ha(10,c);c=K(a,12);null!=c&&b.Ha(12,c)}
m.getName=function(){return K(this,1)};m.Xc=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Hc=function(a){return L(this,9,a)};function mdh(a){J(this,a,0,-1,ndh,null)}v(mdh,I);var ndh=[8];m=mdh.prototype;m.ea=function(){var a=new E;odh(this,a);return Y(a)};
function odh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=a.getContent();null!=c&&b.Aa(3,c,Uch);c=N(a,S4,4);null!=c&&b.Aa(4,c,Uch);c=N(a,iY,5);null!=c&&b.Aa(5,c,ukf);c=N(a,kdh,14);null!=c&&b.Aa(14,c,ldh);c=K(a,6);null!=c&&Bj(b,6,c);c=K(a,7);null!=c&&Bj(b,7,c);c=T4(a);0<c.length&&Gj(b,8,c,odh);c=U4(a);null!=c&&b.Aa(9,c,Zch);c=N(a,DT,21);null!=c&&b.Aa(21,c,mpe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Bj(b,13,c);
c=K(a,15);null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.Ha(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,$ch,18);null!=c&&b.Aa(18,c,adh);c=N(a,ddh,19);null!=c&&b.Aa(19,c,fdh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Hc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,S4,3)};m.setContent=function(a){return Zj(this,3,a)};m.vt=function(){return null!=K(this,3)};function T4(a){return Yj(a,mdh,8)}
function U4(a){return N(a,Ych,9)}m.getOrigin=function(){return K(this,17)};function pdh(a,b){void 0!==b.getId()&&a.Hc(b.getId());var c=V4(b);if(void 0!==c){var d=V4(a);c?d?qdh(d,c):Zj(a,2,c):Zj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.gq();if(void 0!==d)if(c=a.gq(),d)if(c){void 0!==d.getId()&&c.Hc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?rdh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,W4,3);void 0!==d&&(e=N(c,W4,3),d?e?pdh(e,d):Zj(c,3,d):Zj(c,3,void 0))}else a.bv(d);else a.bv(void 0);void 0!==Mj(b,
6)&&(c=Mj(b,6),L(a,6,c));void 0!==Mj(b,7)&&(c=Mj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Mj(b,9)&&(b=Mj(b,9),L(a,9,b))}
function qdh(a,b){void 0!==b.getId()&&a.Hc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?rdh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,S4,4);void 0!==c&&(d=N(a,S4,4),c?d?rdh(d,c):Zj(a,4,c):Zj(a,4,void 0));c=N(b,iY,5);void 0!==c&&(c?Zj(a,5,c):Zj(a,5,void 0));d=N(b,kdh,14);if(void 0!==d)if(c=N(a,kdh,14),d)if(c){void 0!==d.getName()&&c.Xc(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,idh,3);if(void 0!==e){var f=
N(c,idh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Zj(c,3,e);else Zj(c,3,void 0)}void 0!==Mj(d,4)&&(e=Mj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,gdh,7);void 0!==f&&(e=N(c,gdh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Zj(c,7,f):Zj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Zj(a,14,d);else Zj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));T4(b)&&(c=sd(T4(a),T4(b)),bk(a,8,c));d=U4(b);void 0!==d&&(c=U4(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,Vch,3)&&(e=N(d,Vch,
3),Zj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Zj(a,9,d):Zj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Mj(b,12)&&(c=Mj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Mj(b,15)&&(c=Mj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,$ch,18);void 0!==c&&(e=N(a,$ch,18),c?e?(d=N(c,iY,1),void 0!==d&&(c=N(e,iY,1),d?c?
(void 0!==d.getName()&&c.Xc(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Hc(d.getId()),void 0!==Mj(d,5)&&(e=Mj(d,5),L(c,5,e)),void 0!==Mj(d,6)&&(e=Mj(d,6),L(c,6,e)),void 0!==Mj(d,7)&&(e=Mj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Zj(e,1,d):Zj(e,1,void 0))):Zj(a,18,c):Zj(a,18,void 0));d=N(b,ddh,19);void 0!==d&&(c=N(a,ddh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==
K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),L(c,4,e)),void 0!==Yj(d,bdh,5)&&(d=Yj(d,bdh,5),bk(c,5,d))):Zj(a,19,d):Zj(a,19,void 0));void 0!==N(b,DT,21)?(c=N(b,DT,21),Zj(a,21,c)):void 0!==b.getContent()&&Zj(a,21,void 0);void 0!==Mj(b,22)&&(c=Mj(b,22),L(a,22,c));void 0!==Mj(b,23)&&(b=Mj(b,23),L(a,23,b))}function rdh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function sdh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Ld(b)?Md(b.toLowerCase()):null;this.L=c;this.D=d;this.dd=e;this.H=f;this.C=h}sdh.prototype.getName=g("J");sdh.prototype.getEmail=g("F");sdh.prototype.getId=g("dd");function J4(a){a=Ld(sf(a.getName()))?a.getEmail():a.getName();return sf(a)}sdh.prototype.equals=function(a){return this.J==a.J&&this.F==a.F&&this.L==a.L&&this.dd==a.dd&&this.H==a.H&&this.C==a.C};
function tdh(a){var b=udh(vdh(wdh(xdh((new X4).Xc(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Hc(a.getId()||""),!!Mj(a,5));a=!!Mj(a,7);b.D=a;return ydh(b)}function zdh(a){var b=(new iY).Hc(a.getId()||""),c=a.getName();null!==c&&b.Xc(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function X4(){}X4.prototype.Xc=function(a){this.H=a;return this};function xdh(a,b){a.C=b&&!Ld(b)?Md(b.toLowerCase()):null;return a}
function wdh(a,b){a.L=b;return a}function vdh(a,b){a.J=b;return a}X4.prototype.Hc=function(a){this.dd=a;return this};function udh(a,b){a.F=b;return a}function ydh(a){return new sdh(a.H,a.C,a.L,a.J,a.dd,a.F,a.D)};function Adh(a){N(a,iY,1);this.C=a}function I4(a){a=N(a.C,iY,1);return tdh(a)}Adh.prototype.ue=g("C");Adh.prototype.equals=function(a){return ek(this.C,a.C)};function Bdh(a){var b=new $ch;a=zdh(a);b=Zj(b,1,a);return new Adh(b)};function Cdh(a){N(a,iY,1);K(a,2);this.C=a}Cdh.prototype.ue=g("C");function Ddh(a){this.C=a}function Edh(a,b){var c=[];a=Yj(a.C,bdh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new Cdh(e))}return c}function Y4(a){return null!=K(a.C,4)?K(a.C,4):0}Ddh.prototype.ue=g("C");function Fdh(){var a=Gdh;this.C=[];this.D={};this.F=a}Fdh.prototype.text=function(a){this.C.push(a)};function Hdh(a,b){if(a.D[b])a.C.push(b);else{var c=new Idh(b,a.C.length);a.C.push(c);a.D[b]=c}}function Jdh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=bd(Xd(a.D),function(e){return e.D>c.D});zd(d,function(e,f){return yd(e.D,f.D)});a.C.push(new Kdh(a.F[b].close,d,a.F))}else a.C.push(b)}Fdh.prototype.getResult=function(){return this.C.join("")};
function Idh(a,b){this.F=a;this.D=b;this.C=null}Idh.prototype.getName=g("F");Idh.prototype.toString=function(){return null!==this.C?this.C:this.F};function Kdh(a,b,c){this.F=a;this.C=b;this.D=c}Kdh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function Ldh(a){a=Ne(ach(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new Mdh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new Ndh(a.substring(0,c))),a=a.substring(c);b.push(new Mdh(a));return new Odh(b)}function Pdh(a){var b=new Fdh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=Qdh.test(d);d=Rdh.test(d);f?d?b.D[e]?Jdh(b,e):Hdh(b,e):Hdh(b,e):d?Jdh(b,e):b.text(e)}return new Mdh(b.getResult())}
function Sdh(a){return new Mdh(a.replace(Tdh,"<br>"))}var Tdh=/\r\n|\n|\r/g,Gdh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},Qdh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,Rdh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function Mdh(a){this.$e=a}Mdh.prototype.C=function(a){return a(this.$e)};Mdh.prototype.toString=g("$e");function Ndh(a){this.$e=a}Ndh.prototype.C=function(){return this};Ndh.prototype.toString=g("$e");
function Odh(a){this.Zh=a}Odh.prototype.C=function(a){var b=ed(this.Zh,function(c){return c.C(a)});return new Odh(b)};Odh.prototype.toString=function(){return this.Zh.join("")};function Udh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=Udh.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Zj(a,4,void 0),Zj(a,9,void 0));if(void 0!==N(a,DT,21)||void 0!==a.getContent())this.D=null;qdh(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return ek(this.C,a.C)};
m.hx=function(){var a=N(this.C,iY,5)||new iY;return tdh(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.Lu=function(){this.H||(this.H=aW(K(this.C,6)));return this.H};m.aR=function(){if(void 0===K(this.C,7))return this.Lu();this.J||(this.J=aW(K(this.C,7)));return this.J};function Vdh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=aW(K(a.C,13))),b=a.F;if(!b||a.aR()>b)b=a.aR();return b}
function Wdh(a){if(void 0!==U4(a.C)&&("text/html"==U4(a.C).getType()||"text/plain"==U4(a.C).getType())){var b=U4(a.C).getValue();b="text/html"==U4(a.C).getType()?b:mf(b)}return b||""}m.x4=function(){if(void 0!==U4(this.C)){var a=N(U4(this.C),Vch,3);if(a)return a.Nf()}return null};m.pha=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};
m.qha=function(){if(null!=N(this.C,DT,21)&&!this.D){var a=N(this.C,DT,21);a=K(a,2)||"";this.D=Ue(a,null)}return this.D};m.Ux=function(){return null!=N(this.C,S4,4)?N(this.C,S4,4).getValue()||"":""};m.zs=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.lS=function(){return!!Mj(this.C,12)};m.Pq=function(){return!!K(this.C,13)};m.nC=function(){var a=N(this.C,$ch,18);return null!=a?new Adh(a):null};m.mA=function(){var a=N(this.C,ddh,19);return null!=a?new Ddh(a):null};
m.Vj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};m.JI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function Xdh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.owa=function(){return!!Mj(this.C,22)};m.jwa=function(){return 2==this.getOrigin()};function Z4(a,b){this.C=new mdh;L(this.C,11,a);b&&b!=a&&this.C.Hc(b)}
function Ydh(a,b){var c=T4(a.C);c.push(b.C);bk(a.C,8,c);return a}function Zdh(a,b){L(a.C,16,b);return a}function $4(a){L(a.C,12,!0);return a}function $dh(a,b){L(a.C,6,b);return a}function aeh(a){var b=Ra();L(a.C,13,b);return a}function beh(a){L(a.C,13,0);return a}function ceh(a,b){Zj(a.C,18,b.ue());L(a.C,10,4);return a}function deh(a,b){b=zdh(b);Zj(a.C,5,b);return a}function eeh(a,b){Zj(a.C,19,b.ue());return a}function feh(a){L(a.C,20,1);return a}
function a5(a,b,c){b=Md(b);var d=(new S4).setType("text/plain").setValue(b);Zj(a.C,4,d);b=(new S4).setType("text/html").setValue(Ldh(b).C(Pdh).C(Sdh).toString());a.C.setContent(b);L(a.C,7,c);return a};function geh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function heh(a,b){return a.F.getId()==b.hx().getId()}function ieh(a,b){return heh(a,b)&&!!b.Ux()&&("suggest"==a.C||"full"==a.C)}function jeh(a,b){return b instanceof Udh&&void 0!==b.pha()?!1:(a.H||heh(a,b))&&(!!b.Ux()||b.Vj())&&("suggest"==a.C||"full"==a.C)}function keh(a,b){return a.D&&!b.Vj()&&("suggest"==a.C||"full"==a.C)}geh.prototype.Hwa=g("D");function leh(a){return"suggest"==a.C||"full"==a.C};function meh(a){J(this,a,0,-1,null,null)}v(meh,I);meh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);return Y(a)};function neh(a,b){this.D=a;this.C=b||null}neh.prototype.fp=function(a,b,c){this.D(a,b,c)};neh.prototype.pCa=function(a){this.C&&this.C(a)};function oeh(a,b,c,d,e){d=d?d.Nf():void 0;e=e?e.Nf():void 0;a(b,c,d,e)};function peh(a){Wo.call(this);this.U2(a)}v(peh,Wo);m=peh.prototype;
m.U2=function(a){var b=a.kd;this.dh=b;if(void 0===b.Vg())throw Error("Invalid or missing user.");var c=b.Vg();this.GJa=ydh(udh(vdh(wdh(xdh((new X4).Xc(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Hc(c.getId()||""),!!Mj(c,5)));this.Cfa=!!Mj(b,40);this.kba=!Mj(b,20);this.lba=K(b,11);this.CLa=!!Mj(b,12);this.Zpa=K(b,6);this.FJa=void 0!==a.l?!!a.l:!!Mj(b,25);this.S_a=K(b,21);this.aqa=K(b,23);this.HJa=K(b,24);this.XTa=K(b,31);void 0!==a.i?this.$pa=a.i:this.$pa=void 0;if(a=jY(b))this.V2=K(a,1);this.dispatchEvent("r")};
m.Zpa=null;m.XTa=null;m.$pa=void 0;m.lba=null;m.FJa=!1;m.Cfa=!1;m.S_a=null;m.aqa=null;m.HJa=null;m.kba=!0;m.CLa=!1;m.GJa=null;m.V2=null;m.dh=null;m.Vg=g("GJa");function qeh(a,b,c){function d(f){return c?td(f):f}var e=null;a&&Ea(a)&&(e=d(a),Ea(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function reh(a){this.C=a};function seh(){}seh.prototype.install=function(a){a=a&&$o(a);Mcb(a)};seh.prototype.C=function(a,b){Bz(a,b,void 0)};seh.prototype.ef=function(a){a=a&&$o(a);Rcb(a)};seh.prototype.D=function(a,b){YV(a,b)};function teh(a,b){b=void 0===b?function(){return mre()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));Ea(c)&&(c=qeh(c,"kd",!0),c.unshift("kd"),a.kd=new Bkf(c));peh.call(this,a);this.jj=b}t(teh,peh);m=teh.prototype;
m.U2=function(a){peh.prototype.U2.call(this,a);this.L=this.L||A7b("disco");var b;if(!(b=this.Ra)){b=A7b("usp_dm");var c=new HSd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Ra=b;this.bj=a["anchor-is-orphaned-fn"]||re;this.Ba=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new reh(a.containerdiv));this.gr=b;this.Gb=a.storage||null;this.Yc=!!a["storage-ro"];this.Od=!!a["disable-focus"];this.qD=!!a.so;this.Pf=a.docscroller||null;this.Qo=a["inactive-doco-indent"]||10;this.Xa=
a["instant-docos-div"]||null;this.ob=a["enable-new-delete-ui"]||!1;this.jb=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new neh(b,c));this.zm=a["memory-monitor-fn"]||null;this.ql=a.layout||null;this.Yj=!!a.layoutrtl;this.H=a.listeners||{};this.O=a.panediv||null;this.xa=a.panekbdiv||null;this.n3()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.fb=
b;this.Lc=a.quotefn||null;this.hd=a["user-color-provider-fn"]||null;this.rD=a["user-color-provider-from-name-fn"]||null;this.Us=a.quoterenderfn||null;this.bh=!!a["hide-notification"];this.J=!!a.offline;this.Mb=!!a.nocss;this.Dc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Fd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Mj(this.dh,8);this.D=new geh(this.Vg(),c?c:d?"readonly":"full",!!Mj(this.dh,
3),b);this.Va=!!a.iph;this.wq=a.maxheight||0;this.Pc=!!a.showerrors;this.vd=a["stream-button"]||null;this.Vd=!!a["disable-spfw"];this.Sa=a["anchor-mutate-fn"]||null;ueh(this)||(this.Sa=null);this.dg=!!a["enable-comment-button"];this.Ma=!!a["enable-gsuite-embedding"];this.Pg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.vn=a["acl-fix-fn"]||null;this.Vl=a["load-acl-fixer-fn"]||null;this.Ne=a["intercept-docos-edit-fn"]||null;this.Ph=a["is-an-illegal-write-fn"]||null;this.Ud=
!!a["defer-first-sync"];this.ub=!!a["enable-lazy-loading"];this.Ja=!!a["enable-all-docos-in-anchored-stream"];this.nz=a["stream-pane-banner-message"]||null;this.Vt=a["stream-pane-banner-learn-more-url"]||null;this.On=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Qa=(b=a["impression-recorder-fn"])?Qa(oeh,b):null;this.Ih=a.hidepromofn;this.Ut=a.showpromofn;this.Mm=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new seh;this.Nn=a["browser-app-clipboard"]||
null;this.cb=a["modal-dialog-z-index"]||null;this.bf=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Da=a["static-input-pane-message"]||null;this.yba=a["drive-id"]||null;this.rb=!!a["enable-roving-tabindex"];this.Zg=a["auto-complete-factories"]||[];this.xo=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Cb=a["link-opener"]||null;this.Ij=a["last-viewed-timestamp"]||null;this.dispatchEvent("r")};
function veh(a){return null!=K(a.dh,44)&&null!=K(jY(a.dh),51)&&!!Mj(jY(a.dh),51)}m.JK=function(){if(this.bh)return!1;var a=Mj(this.dh,26);return null!=a?!!a:!0};m.hga=function(){return!!Mj(this.dh,43)};m.wwa=function(){var a=!1,b=jY(this.dh);b&&(a=Mj(b,2));return!!Mj(this.dh,43)&&!!a};function weh(a){return!!jY(a.dh)&&!!Mj(jY(a.dh),32)}m.Vra=g("yba");function ueh(a){return a.dh&&!!Mj(a.dh,18)}m.Fj=function(){return!!Mj(this.dh,39)};
m.n3=function(){return null!=K(this.dh,44)&&!!Mj(jY(this.dh),53)&&!this.Vg().C};m.cH=function(){return null!=K(this.dh,44)&&!!Mj(jY(this.dh),54)&&!this.Vg().C};function b5(a){return null!=K(a.dh,44)&&null!=K(jY(a.dh),55)&&!!Mj(jY(a.dh),55)}function xeh(a){return null!=K(a.dh,44)&&!!Mj(jY(a.dh),56)}function yeh(a){return null!=K(a.dh,44)&&!!Mj(jY(a.dh),57)}function zeh(a){return a.jj()&&!!Mj(a.dh,10)&&!a.Od}function Aeh(a){return Mj(a.dh,10)?a.Zg:[]}
function Beh(a){return!!jY(a.dh)&&!!Mj(jY(a.dh),50)};function Ceh(a,b,c,d,e,f){K4.call(this,a,c);this.D=L4(a);this.Qa=Pm(Wc(y(),"docs-seu")||this.D.bf||window.location.href);this.Qc=new rz(c,new Deh(d));this.F=new Az("",this.Qc,void 0,c);this.F.kO=!0;this.Ga(this.F);this.J=null;kd(e,"edit")&&(this.J=new mz("Edit"),this.J.Kc("docos-edit-menuitem"),this.Qc.Ga(this.J,!0));this.H=null;kd(e,"delete")&&(this.H=new mz("Delete"),this.H.Kc("docos-delete-menuitem"),this.Qc.Ga(this.H,!0));this.R=null;kd(e,"reanchor")&&weh(this.D)&&(this.R=new mz("Reanchor comment"),
this.R.Kc("docos-reanchor-menuitem"),this.Qc.Ga(this.R,!0));this.xa=null;kd(e,"disable")&&(this.xa=new mz("Turn off suggested action items"),this.xa.Kc("docos-disable-menuitem"),this.Qc.Ga(this.xa,!0));this.Ja=null;kd(e,"help")&&(this.Ja=new mz("Learn more"),this.Ja.Kc("docos-help-menuitem"),this.Qc.Ga(this.Ja,!0));d=P4(a).fd(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ma=f?c5(d,f):null;this.V=null;L4(a).D.Hwa()&&kd(e,"resolve")&&(this.V=new mz(""),this.Qc.Ga(this.V,
!0));this.O=this.Ba=this.ma=null;kd(e,"link")&&(this.Ba=new mz("Link to this comment..."),this.Ba.Kc("docos-link-menuitem"),this.Qc.Ga(this.Ba,!0),this.O=new iqf(c,this.D.Nn||void 0,void 0,null===this.D.cb?void 0:this.D.cb),this.Ga(this.O),Dx(Wx(this.O),"docos"),this.O.setTitle("Link to this comment..."),Eeh(this,b));this.Da=L4(a).xo.map(function(h){return{sab:h,yNa:new mz(h.getLabel())}});for(a=0;a<this.Da.length;a++)this.Qc.Ga(this.Da[a].yNa,!0)}t(Ceh,K4);m=Ceh.prototype;
m.Gc=function(a){K4.prototype.Gc.call(this,a);a=this.oa().eb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Yc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Wa(a),this.F.Pa(!0),this.D.C.C(a,"More options..."),this.F.Ce("More options..."))};
m.Ia=function(){var a=this;K4.prototype.Ia.call(this);Feh(this);M4(M4(M4(this,this.Qc.getElement(),"click",this.UVa),this.F.getElement(),"click",this.UVa),this.D,"r",this.Ttb);M4(this,this.F.getElement(),"keyup",this.Ggc);Geh(this,this.J,this.Rhc);Geh(this,this.H,this.Phc);Geh(this,this.Ba,this.Cac);Geh(this,this.R,this.Vhc);Geh(this,this.V,this.Whc);Geh(this,this.xa,this.Qhc);Geh(this,this.Ja,this.Uhc);for(var b={},c=0;c<this.Da.length;b={a$:b.a$},c++)b.a$=this.Da[c],Geh(this,b.a$.yNa,function(d){return function(){d.a$.sab.C((a.Ma||
a.L).Ux())}}(b))};m.Kh=function(a){this.oa().Ti(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){Feh(this)};function Eeh(a,b){if(a.O){var c=a.Qa.clone();b=c.D.set("disco",b);a.O.FWa(Jm(c,b).toString())}}function Geh(a,b,c){b&&M4(a,b,"action",c)}m.Whc=function(a){keh(this.D.D,this.L)&&(this.dispatchEvent(new Heh("r")),Ieh(this,a))};m.Rhc=function(a){Jeh(this)&&(this.dispatchEvent(new Heh("e")),Ieh(this,a))};
m.Qhc=function(a){this.dispatchEvent(new Heh("i"));Ieh(this,a)};m.Phc=function(a){Keh(this)&&(this.F.zd(!1),this.dispatchEvent(new Heh("d")),Ieh(this,a))};m.Vhc=function(a){this.dispatchEvent(new Heh("ra"));Ieh(this,a)};m.Uhc=function(a){this.dispatchEvent(new Heh("h"));Ieh(this,a)};m.Cac=function(a){Ieh(this,a);this.O.setVisible(!0)};function Ieh(a,b){b.stopPropagation();a.F.zd(!1)}m.Ggc=function(a){27==a.keyCode&&a.stopPropagation()};m.UVa=function(a){a.stopPropagation()};m.Ttb=function(){Feh(this)};
function Jeh(a){return ieh(a.D.D,a.Ma||a.L)&&!a.ma}function Keh(a){return jeh(a.D.D,a.Ma||a.L)&&!a.D.ma}function Feh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=Leh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Pa(keh(a.D.D,a.L))}a.J&&(b=Jeh(a),a.J.Pa(b),a.J.setVisible(b));a.H&&(b=Keh(a),a.H.Pa(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Pa(b),a.R.setVisible(b))}function Heh(a){Ko.call(this,a)}t(Heh,Ko);
function Deh(a){a=void 0===a?"docos-docomenu":a;pz.call(this);this.D=a}t(Deh,pz);Deh.prototype.Lb=function(){return(new br("goog-menu"," ","docos"," ",this.D)).toString()};function Meh(){yC.call(this,!1)}t(Meh,yC);Meh.prototype.hO=function(a){yC.prototype.hO.call(this,a)};function Neh(){this.C=!1;this.D=new Of;this.qa(this.D)}v(Neh,A);function Oeh(a,b,c,d,e,f,h){this.H=a;this.D=b;this.J=c;this.F=d;this.Ty=e;this.NW=f;this.C=h}Oeh.prototype.fd=g("D");function Peh(){}function d5(a){var b=new Peh;b.F=a;return b}function e5(a,b){a.D=b;return a}function Qeh(a,b){a.Ty=b;return a}function f5(a){return new Oeh(a.F,a.D,a.J||!1,a.C||null,a.Ty||null,a.NW||null,a.H||null)};function Reh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.$r=h}function g5(){}function h5(a,b){a.H=b;return a}function i5(a,b){a.F=b;return a}function j5(a,b){a.$r=b;return a}function k5(a){return new Reh(a.H,a.L||!1,a.C||null,a.J||null,a.D||null,a.F||null,a.$r||null)};function W4(a){J(this,a,0,-1,null,null)}v(W4,I);function Seh(a){J(this,a,0,-1,null,null)}v(Seh,I);m=W4.prototype;m.ea=function(){var a=new E;Teh(this,a);return Y(a)};function Teh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=V4(a);null!=c&&b.Aa(2,c,odh);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&Bj(b,4,c);c=a.gq();null!=c&&b.Aa(5,c,Ueh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};
m.Hc=function(a){return L(this,1,a)};function V4(a){return N(a,mdh,2)}m.gq=function(){return N(this,Seh,5)};m.bv=function(a){return Zj(this,5,a)};m=Seh.prototype;m.ea=function(){var a=new E;Ueh(this,a);return Y(a)};function Ueh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=a.getTitle();null!=c&&b.Aa(2,c,Uch);c=N(a,W4,3);null!=c&&b.Aa(3,c,Teh)}m.getId=function(){return K(this,1)};m.Hc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,S4,2)};m.setTitle=function(a){return Zj(this,2,a)};function Veh(a,b,c){var d=V4(a);this.F=a;this.O=b;this.It=c||null;this.R=null;this.J={};this.D={};this.C=new Udh(d);this.H=void 0;this.pS=!!N(d,$ch,18);b=this.getId();if(a=V4(a)){a=T4(a);for(c=0;c<a.length;c++)d=new Udh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,Xdh(d)&&(this.H=Xdh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=Veh.prototype;m.hx=function(){return this.C.hx()};m.getId=function(){return this.C.getId()};
function l5(a){return K(a.C.C,11)||""}m.aR=function(){var a=K(this.F,4);if(void 0===a)return this.Lu();this.V||(this.V=aW(a));return this.V};m.getContent=function(){return this.C.getContent()};m.zs=function(){return this.C.zs()};m.pha=function(){return this.C.pha()};m.Ux=function(){return this.C.Ux()};function m5(a){return K(a.F,8)||""}m.qha=function(){return this.C.qha()};m.x4=function(){return this.C.x4()};m.nA=function(){return void 0!==K(this.F,8)};m.isResolved=function(){return!!Mj(this.F,6)};
function n5(a,b){var c=Xd(a.D);b&&c.push(a.C);Ad(c,function(d,e){return $V(d.Lu(),e.Lu())});return c}function c5(a,b){return a.D[b]||null}m.Lu=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=aW(a)):this.L=null;return this.L};m.getNewDocoType=g("It");m.bx=function(){return"draft"==this.It||"client-integrated-draft"==this.It||"instant-doco"==this.It};function Weh(a){return Xeh(a)}function Xeh(a){return a.bx()||"smart-todo"==a.It}m.ZY=function(){return"smart-todo"==this.It};
m.lS=function(){return!!Mj(this.F,9)};m.Pq=function(){return this.C.Pq()};m.mA=function(){return this.C.mA()};m.nC=function(){return this.C.nC()};function N4(a){var b=a.C.nC()?a.C.nC():null;a=n5(a);for(var c=0;c<a.length;c++){var d=a[c];d.nC()&&(d=d.nC(),b?(b=new Adh(fk(b.ue())),d=I4(d),d=zdh(d),Zj(b.C,1,d)):b=new Adh(fk(d.C)))}return b}function Leh(a){return a.C.nC()?a.C:null}m.Vj=function(){return this.C.Vj()};m.isTodo=function(){return null!=this.pS?this.pS:this.pS=!!Leh(this)};m.JI=function(){return this.C.JI()};
function Yeh(a){if(void 0!==a.H)return a.H;if(!a.Vj())return a.H=null;for(var b in a.D){var c=Xdh(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.owa=function(){return this.C.owa()};m.jwa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=n5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};function Zeh(a){this.C=a;this.It=null}
function o5(a){var b=new W4;a=a.C;Zj(b,2,a);a.getId()||K(a,11);b.Hc(a.getId()||K(a,11));return new Zeh(b)}function $eh(a,b){L(a.C,8,b);return a}function p5(a,b){L(a.C,9,b);return a}function afh(a,b){a.It=b;return a}Zeh.prototype.getNewDocoType=g("It");function bfh(a,b){L(a.C,3,b);return a}Zeh.prototype.getId=function(){return V4(this.C).getId()};function cfh(a,b,c,d,e,f,h,k){Ko.call(this,a);this.Tr=b;this.C=c;this.L=d;this.$r=e;this.D=f;this.O=h;this.F=k}t(cfh,Ko);cfh.prototype.getSource=g("Tr");function dfh(){this.$r=this.D=this.F=this.Tr=this.Aw=null;this.H=this.C=0;this.J=!1}function efh(a){var b=new dfh;b.Aw=a;return b}function ffh(a,b){a.Tr=b;return a}function gfh(a,b){a.F=b;return a}function hfh(a,b){a.H=b;return a}function ifh(a,b){a.J=b;return a}function jfh(a){return new cfh(a.Aw,a.Tr,a.F,a.D,a.$r,a.C,a.H,a.J)};function kfh(a){A.call(this);this.C=a;this.F=L4(a);this.D=lfh(this.C);this.H={}}v(kfh,A);function mfh(a,b,c,d,e,f){var h=uf(),k=new Z4(h);d&&a5(k,d,Ra());f&&feh(k);e&&(d=ydh(udh(xdh(new X4,e).Hc(""),!1)),d=Bdh(d),ceh(k,d));c=afh(bfh(p5($eh(o5(k),b),!1),Date.now()),c);nfh(P4(a.C),c);P4(a.C).flush();K5(a.D,k5(j5(i5(h5(new g5,43008),h),b)));return L5(P4(a.C),h)}
function ofh(a,b,c,d,e){d=udh(xdh(new X4,d).Hc(""),!1);Ld(sf(e))||d.Xc(e);e=ydh(d);d=Bdh(e);e=uf();var f=Ra();c=feh(ceh(a5(deh(new Z4(e),a.F.Vg()),c,f),d));c=afh(p5($eh(o5(c),b),!1),"smart-todo");nfh(P4(a.C),c);P4(a.C).flush();K5(a.D,k5(j5(i5(h5(new g5,43023),e),b)));return L5(P4(a.C),e)}
function pfh(a,b,c,d,e){var f=uf(),h=Ra();c=a5(deh($dh($4(new Z4(f)),h),a.F.Vg()),c,h);e&&feh(c);d&&(d=ydh(udh(xdh(new X4,d).Hc(""),!1)),d=Bdh(d),ceh(c,d));b=afh($eh(bfh(p5(o5(c),!0),h),b),"discussion");nfh(P4(a.C),b);P4(a.C).flush();b=P4(a.C).fd(f);M5(a.D,f5(e5(d5(43009),b)));return L5(P4(a.C),f)}m=kfh.prototype;m.ufb=function(a){qfh(P4(this.C),a);P4(this.C).flush()};
m.qfb=function(a,b,c,d,e){e=void 0===e?null:e;if(a=P4(this.C).fd(a)){if(d&&!a.nC())throw Error("Cannot reassign a doco with no existing assignment");if(a.Vj()&&d)throw Error("Cannot reassign a suggestion.");var f=uf(),h=Ra();b=deh($dh(a5($4(new Z4(f)),b,h),h),this.F.Vg());c&&Zdh(b,c);d&&ceh(b,d);c=Ydh(new Z4(l5(a),a.getId()),b);c=p5(o5(c),!0);N5(P4(this.C),c);P4(this.C).flush();d=e5(d5(d?43020:43010),a);e&&(d.C=e);M5(this.D,f5(d))}};
m.xfb=function(a,b){if(a=P4(this.C).fd(a)){var c=new Z4(l5(a),a.getId()),d=null!=a.mA()?new Ddh(a.mA().ue().clone()):new Ddh(new ddh);L(d.C,4,b?1:0);$4(eeh(c,d));c=p5(o5(c),!0);N5(P4(this.C),c);P4(this.C).flush();M5(this.D,f5(e5(d5(b?43040:43041),a)))}};
m.yfb=function(a,b,c){if(a=P4(this.C).fd(a)){var d=new Z4(l5(a),a.getId());if(c=c5(a,c)){var e=null!=c.mA()?new Ddh(c.mA().ue().clone()):new Ddh(new ddh),f=new Z4(l5(a),c.getId());L(e.C,4,b?1:0);Ydh(d,$4(eeh(f,e)));d=p5(o5(d),!0);N5(P4(this.C),d);P4(this.C).flush();M5(this.D,f5(Qeh(e5(d5(b?43042:43043),a),c)))}}};
m.Ljb=function(a,b,c,d){d=void 0===d?null:d;if(a=P4(this.C).fd(a))if(b=c5(a,b)){var e=Ra();c=a5($4(new Z4(K(b.C,11)||"",b.getId())),c,e);c=Ydh(new Z4(l5(a),a.getId()),c);c=p5(o5(c),!0);N5(P4(this.C),c);P4(this.C).flush();a=Qeh(e5(d5(43021),a),b);d&&(a.C=d);M5(this.D,f5(a))}};m.x8b=function(a,b){if(a=P4(this.C).fd(a)){var c=Ra();b=a5(new Z4(l5(a),a.getId()),b,c);b=p5(o5(b),!1);N5(P4(this.C),b);P4(this.C).flush()}};
m.vfb=function(a,b,c,d){d=void 0===d?null:d;if(a=P4(this.C).fd(a)){if(a.Vj())throw Error("Cannot resolve a suggestion.");var e=uf(),f=Ra();e=deh($dh($4(new Z4(e)),f),this.F.Vg());L(e.C,10,b?0:1);c&&a5(e,c,f);c=Ydh(new Z4(l5(a),a.getId()),e);c=p5(o5(c),!0);L(c.C,6,b);N5(P4(this.C),c);P4(this.C).flush();b=e5(d5(b?43014:43015),a);null!=d&&(b.C=d);M5(this.D,f5(b))}};
m.rfb=function(a,b,c){c=void 0===c?null:c;var d=P4(this.C),e=d.fd(a);e&&(this.H[L5(d,a)]=Yd(je(e.D)),a=aeh($4(new Z4(l5(e),e.getId()))),a=p5(o5(a),!0),e.ZY()||(e=e5(d5(43017),e),null!=b&&(e.NW=b),c&&(e.C=c),M5(this.D,f5(e))),N5(d,a),d.flush())};
function rfh(a,b){var c=P4(a.C);if(O5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ja[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=beh($4(new Z4(l5(d),d.getId()))),f=a.H[b];delete a.H[b];a=je(d.J);b=je(d.D);for(var h=0;h<f.length;h++){var k=f[h];Ydh(e,beh($4(new Z4(K((b[k]||a[k]).C,11)||"",k))))}e=p5(o5(e),!0);N5(c,e);c.flush();return L5(c,d.getId())}
m.wfb=function(a,b){if(a=O5(P4(this.C),a)){var c=a.JI();if(!a.Vj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=$4(new Z4(l5(a),a.getId()));c=(new Ych).setType("application/vnd.google-apps.docs.mds");b=Zj(c,3,b);Zj(a.C,9,b);b=p5(o5(a),!0);N5(P4(this.C),b);P4(this.C).flush()}};
m.Jjb=function(a,b,c){c=void 0===c?null:c;if(a=P4(this.C).fd(a)){var d=Ra();b=a5($4(new Z4(l5(a),a.getId())),b,d);b=p5(o5(b),!0);N5(P4(this.C),b);P4(this.C).flush();a=e5(d5(43022),a);c&&(a.C=c);M5(this.D,f5(a))}};m.Heb=function(a,b,c){(a=P4(this.C).fd(a))&&(b=c5(a,b))&&sfh(this,a,b,c)};function sfh(a,b,c,d){d=void 0===d?null:d;var e=Qeh(e5(d5(43016),b),c);d&&(e.C=d);M5(a.D,f5(e));N5(P4(a.C),tfh(b,c));P4(a.C).flush()}
function tfh(a,b){b=aeh($4(new Z4(K(b.C,11)||"",b.getId())));a=Ydh(new Z4(l5(a),a.getId()),b);return p5(o5(a),!0)}m.tfb=function(a){var b=O5(P4(this.C),a,!0);a=ufh(P4(this.C),a);b&&a&&sfh(this,b,a)};m.sfb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=O5(P4(this.C),d,!0);d=ufh(P4(this.C),d);e&&d&&b.push(tfh(e,d))}vfh(P4(this.C),b,"c")};function wfh(a,b){if(!b)return!1;if(!b.Vj()||!b.JI())throw Error("Attempting to accept/reject a non-suggestion.");return xfh(P4(a.C),b)?!0:!1}
function yfh(a,b,c,d){a=Zdh(deh($dh($4(new Z4(c)),Ra()),a.F.Vg()),b.JI());L(a.C,10,d?2:3);b=Ydh(new Z4(l5(b),b.getId()),a);return p5(o5(b),!0)};function zfh(){Wo.call(this)}v(zfh,Wo);function Afh(a,b){Ko.call(this,a);this.xm=b||null}v(Afh,Ko);function Bfh(a){J(this,a,0,-1,null,null)}v(Bfh,I);Bfh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);b=K(this,2);null!=b&&a.Ha(2,b);b=K(this,3);null!=b&&a.Ha(3,b);b=K(this,4);null!=b&&a.Ha(4,b);return Y(a)};Bfh.prototype.Uf=function(){return K(this,1)};function Cfh(){Kq.call(this,"",void 0,!0);this.F=new Fq(u(this.C,this));this.qa(this.F);this.H=null}t(Cfh,Kq);Cfh.prototype.O=function(a,b,c,d){if(this.H&&!Gd(a,"Error in protected function: ")){var e=new Bfh;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);Dfh(this.H,"rjse",c,void 0,ya,!0,1)}};Cfh.prototype.Ka=function(){Kq.prototype.Ka.call(this);delete this.F};function Efh(a){Wo.call(this);var b=this;this.F=null;this.H=new yo;this.qa(this.H);this.C=a;zo(this.H,this.C.FH(),function(){"hidden"===b.C.getState()&&(b.D=new dC);"visible"!=b.C.getState()||Yob(b.D)||(b.dispatchEvent("Yi"),Ffh(b))});this.D=new dC;Ffh(this)}t(Efh,Wo);Efh.prototype.format=function(a){var b=new dC(a);b=(new dC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return Gfh.format(a);b=Jkf(a.getTime());return Hfh.format(a)+(" "+b)};
function Ffh(a){var b=new dC;b.add(new cC(0,0,1));b=b.getTime();fq(a.F);a.F=eq(function(){a.dispatchEvent("Yi");Ffh(a)},b-Ra(),a)}za(Efh);var Hfh=new gC(7),Gfh=new gC(2);function Ifh(a,b,c){this.zy=a;this.src=b;this.C=c};function Jfh(a){A.call(this);this.C=a;this.D={};this.J={};this.L=this.C.J;this.dd=0;this.H=[];this.Oa=new Xo(this);this.qa(this.Oa);this.Oa.listen(this.C,"r",this.O)}t(Jfh,A);function Kfh(a){return"legacy"===a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}function Lfh(a,b,c,d){if(b){var e="dcs-img-"+a.dd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||Mfh(a);Nfh(a,e)}}
function Qch(a,b,c,d){b&&a.H.push(new Ifh(b,c,d))}function Ofh(a){eq(function(){for(;this.H.length;){var b=this.H.pop();Lfh(this,b.zy,b.src,b.C)}},0,a)}function Q4(a,b){b&&b.id&&(a.Oa.zc(b,Pfh,a.F),delete a.D[b.id],delete a.J[b.id])}Jfh.prototype.O=function(){var a=this.C.J;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)Nfh(this,b)};
Jfh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.C(b,"")),this.Oa.zc(b,Pfh,this.F),b.src=Mfh(this)):Q4(this,b)}};function Nfh(a,b){a.Oa.listen(a.D[b],Pfh,a.F);a.D[b].src=a.J[b]}
function Mfh(a){return xeh(a.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png"}var Pfh=[Af?"readystatechange":"load","abort","error"];function Qfh(){TV.call(this);this.V=!1}v(Qfh,TV);function L4(a){return a.get("config")}function R4(a){var b=UV(a,"action_registry");if(!b){b=new Meh;for(var c=Xd(pch),d=0;d<c.length;d++){var e=c[d];e=O((new Ft(e)).Hj("label",e).Hj("visible",!0).Hj("hint",e).Hj("enabled",!0));b.Mt(e);b.qa(e)}a.Cf("action_registry",b)}return b}function P4(a){return a.get("stream")}function O4(a){return a.get("imageManager")}function Rfh(a){return a.get("subscriptionManager")}
function lfh(a){return a.get("impressionRecorder")}function Kch(a){return UV(a,"errorReporter")}function Sfh(a){var b=UV(a,"batchEventTracker");b||(b=new Neh,a.Cf("batchEventTracker",b));return b};function Tfh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=L4(a).On}function Ufh(a,b){a.C!=b&&(a.C=b,b={bk:a.D,FPb:a.O,LPb:b},R4(a.L).zf("mouse-hover-doco-view").qb(b))};function Vfh(a){a=a||{};var b=a.jK,c=a.l1,d=a.MPb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+VV(c)+"><span class="+VV(d)+">"+R(b)+"</span></div>":"<span class="+VV(d)+">"+R(b)+"</span>");return S(a)};function Wfh(a){a=a||{};var b=a.Ri,c=a.cC;a=a.oS;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(Bch({Ri:""+b,cC:""+c,oS:a})):"")+"</div>")};function Xfh(a,b){a=a||{};var c=S;if(a.fl){a=a||{};var d=a.author,e=a.ah,f=a.oF,h=a.aoa,k=a.Ee,l=a.Nm,n=a.iA,q=a.Vj,r=a.bx,w=a.Z7,x=a.jK,F=a.JY,M=a.Fj,X=a.hga,U=a.wwa,ca=a.isBadgingEnabled,ma=a.timestamp,va=a.veb,xa=a.Co;d='<div class="'+T("docos-anchoredreplyview")+(k?" "+T(k):"")+(q?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(Cch({size:32,Aeb:va,ypa:f?""+
f:"",J2:gx(d)&&!e?""+d:"",Ee:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+T("docos-user-presence")+'"></div>':"")+(ca?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'"'+(f?' data-hovercard-id="'+T(f)+'"':"")+(gx(d)&&!e?' data-name="'+T(d)+'"':"")+">"+(d?R(d):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+
" "+T("docos-replyview-timestamp")+'">'+(ma?R(ma):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+" "+T("hide-on-readonly")+'">';gx(q)&&gx(n)?(x=x={Co:xa},x=S(Yfh({cd:"docos-accept-suggestion jfk-button-collapse-right",Co:x.Co},b)),xa=xa={Fj:M,Co:xa},M=xa.Fj,xa=xa.Co,b=""+R(aA({title:"Reject suggestion",style:xa?4:0,cd:"docos-reject-suggestion jfk-button-collapse-left",content:hx(""+(xa?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(Bch({Ri:"docos-icon-reject-suggestion-cross",cC:"docos-icon-reject-suggestion-cross-size",Ee:"jfk-button-img"})))),gP:M},b)),b=S(b),b=x+b):r?b="":(M=n?X?S(Yfh({cd:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},b)):S(R(aA({cd:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},b))):"",!gx(X)||!gx(F)&&x?b="":U?(X=(X=a)||{},xa=X.iA,x=X.JY,X=X.Fj,U=R(Bch({Ri:"docos-icon-thumb-black",cC:"docos-icon-thumb-size",Ee:"jfk-button-img",
oS:!0}))+'<div class="'+T("like-button-text")+'">',U+="0</div>",b=""+R(aA({cd:"docos-like-button "+(gx(xa)&&!x?"jfk-button-collapse-left":""),title:"Like this",content:hx(U),gP:X},b)),b=S(b),b=R(b)):(X=(X=a)||{},xa=X.iA,x=X.JY,X=X.Fj,U='<div class="'+T("vote-button-text")+'">',U+="+1</div>",b=""+R(aA({cd:"docos-vote-button "+(gx(xa)&&!x?"jfk-button-collapse-left":""),title:"+1 this comment",content:hx(U),gP:X},b)),b=S(b),b=R(b)),b=M+b+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
b=d+b+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(h?"":T("docos-collapsible-replyview-empty"))+'">'+(n||F?"":R(Vfh(ex({l1:""},a))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(h?R(h):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';b=b+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');b+="Show less";var Ca;n?
Ca=R(Vfh(ex({l1:"docos-root-reply-action-text-wrapper"},a))):F?Ca=R(Vfh(ex({l1:"docos-action-text-bottom-wrapper"},a))):Ca="";b+="</div></div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+Ca+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(w?R(w):"")+"</div></div>";b=S(b)}else n=a||{},w=n.author,F=n.ah,h=n.oF,d=n.aoa,M=n.Ee,l=n.ooa,Ca=n.Nm,xa=n.iA,a=n.Z7,x=n.timestamp,X=n.isBadgingEnabled,U=n.Co,n.bx?(l=(l=ex({author:w,
oF:h,Ee:M,Z7:a},n))||{},b=l.author,Ca=l.oF,a=l.Ee,l=l.Z7,b=S('<div class="'+T("docos-streamrootreplyview")+(a?" "+T(a):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(Ca?' data-hovercard-id="'+T(Ca)+'"':"")+(b?' data-name="'+T(b)+'"':"")+">"+(b?R(b):"")+'</div><div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div>")):xa?(Ca=(Ca=n)||{},M=Ca.author,xa=Ca.oF,a=Ca.aoa,x=Ca.Ee,l=Ca.Nm,
n=Ca.Vbc,w=Ca.Hwa,F=Ca.Z7,h=Ca.jK,d=Ca.JY,X=Ca.timestamp,b='<div class="'+T("docos-streamrootreplyview")+(x?" "+T(x):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(xa?' data-hovercard-id="'+T(xa)+'"':"")+(M?' data-name="'+T(M)+'"':"")+">"+(M?R(M):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(Wfh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+
T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(X?R(X):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+
T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=jx("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',n&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(n)+'<div class="'+T("docos-replyview-quote-collapse")+
" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(a)+"</div>"+(h?R(Vfh(ex({l1:"docos-root-reply-action-text-wrapper"},Ca))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+
T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=jx("Reply to this comment"),b+='">Reply</div></div>',w&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',d?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',
b+=jx("Mark as done and hide discussion"),b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=jx("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(F?R(F):"")+"</div></div>",b=S(b)):(b='<div class="'+
T("docos-streamreplyview")+'">'+R(Cch({size:U?32:24,ypa:h?""+h:"",J2:gx(w)&&!F?""+w:"",Ee:"docos-replyview-avatar docos-streamreplyview-avatar"}))+(gx(X)&&!xa?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(h?' data-hovercard-id="'+T(h)+'"':"")+(w?
' data-name="'+T(w)+'"':"")+">"+(w?R(w):"")+"</div>"+R(Vfh(n))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(d)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(x?R(x):"")+"</div>",gx(l)||gx(Ca)?(w=w={gcb:!0,ooa:l,Nm:Ca},l=w.ooa,n=w.Nm,w=w.gcb,F='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+
" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',n&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=jx("Make changes to your comment"),F+='">Edit</div>'),l&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+
" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=jx("Permanently delete your comment"),F+='">Delete</div>'),l=S(F+"</div>"),l=R(l)):l="",b=b+l+"</div>"+(Ca?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(a?R(a):"")+"</div></div></div>"),b=S(b);return c(b)}
function Zfh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Yfh(a,b){a=a||{};var c=a.cd;a=a.Co;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(Bch({Ri:"docos-icon-accept-checkmark-black",cC:"docos-icon-accept-checkmark-size",Ee:"jfk-button-img"}));return d(R(aA({cd:c?""+c:"",style:a?4:0,content:hx(""+e)},b)))};function $fh(a,b){a=a||{};var c=a.UHa,d=a.cd,e=a.VKa;a=a.WKa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(Ynd({Yl:c,cd:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function agh(a,b){a=a||{};var c=a.Ee,d=a.taa,e=a.ngc,f=a.uoa,h=a.XKa,k=a.SGa,l=a.Fj,n=a.jK,q=a.dD,r=a.dH,w=a.eH,x=a.Ev;c='<div class="'+T("docos-input")+(c?" "+T(c):"")+'" style="display: none">'+(x?'<div class="'+T("docos-input-textarea")+" "+T("docos-input-contenteditable")+(h?" "+T(h):"")+'" contenteditable="true"></div>':'<textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>');r?(r=""+R(aA({title:"Mention a person",style:4,
cd:"docos-at-mention-icon docs-material",content:hx('<div class="'+T("docs-icon")+" "+T("goog-inline-block")+'"><div class="'+T("docs-icon-img-container")+" "+T("docs-icon-img")+" "+T("docs-icon-at-mention-20")+'" aria-hidden="true">&nbsp;</div></div>'),tabIndex:0},b)),r=S(r)):r="";a=c+r+(n?R(Vfh(ex({l1:"docos-edit-pane-action-text-wrapper",MPb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+'<div id="docos-input-assignment-panel" class="'+
T("docos-input-assignment-panel")+'" style="display: none">'+R(Ynd({cd:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=(w?a+"Your @mention will add people to this discussion and send an email.":a+"Your +mention will add people to this discussion and send an email.")+
('</div><div class="'+T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+T("docos-input-buttons")+
'">'+R(aA({style:2,cd:"docos-input-post docos-input-buttons-post"},b)));w="";w=f?w+(""+f):w+"Discard comment";f="";f=d?f+R(d):f+"Cancel";a+=R(aA({cd:"docos-input-cancel",title:w,content:hx(f),gP:l},b));return S(a+"</div></div>")};function bgh(a,b){a=a||{};var c=S;if(a.fl){a=a||{};var d=a.author,e=a.ZY,f=a.JY,h=a.Fj,k=a.Co;if(a.bx){a=(a=ex({author:d,Fj:h},a))||{};d=a.author;e=a.Fj;f=a.dD;h=a.dH;k=a.eH;var l=a.Ev;b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(Xfh(ex({author:d,fl:!0,iA:!0,Ee:"docos-replyview-first"},a),b))+"</div>"+R(agh({Ee:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",Fj:e,dD:f,dH:h,eH:k,Ev:l},b)))}else e?
(a=(a=ex({Fj:h,Co:k},a))||{},d=a.rcb,e=a.Fj,f=a.Co,h=a.Ev,k='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(Bch({Ri:"docos-icon-explore",cC:"docos-icon-explore-size",oS:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+
'"><div class="'+T("docos-smarttodoview-headertext-inner")+'">',k=k+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(Wfh({cC:"docos-icon-overflow-three-dots-size",Ri:"docos-icon-overflow-three-dots",oS:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),k+=R(agh({Ee:"docos-docoview-input-pane",taa:"Dismiss",uoa:"Dismiss suggested action item",Fj:e,Ev:h},b)),d&&(k+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+
'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+'" role="button" tabindex="0" aria-expanded="false">',k+="Bad suggestion?</div></div>"),e=k,d?(a=a||{},a=a.Fj,d='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',d=d+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),d+=R($fh({UHa:"Not an action item",cd:"docos-smarttodoview-feedback-checkbox-container",
VKa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",WKa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),d+=R($fh({UHa:"Wrong assignee",cd:"docos-smarttodoview-feedback-checkbox-container",VKa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",WKa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),d+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',d=d+'Write feedback</div><div class="'+(T("docos-smarttodoview-feedback-buttonlist")+'">'),d+=R(aA({style:2,cd:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",gP:a},b)),d+=R(aA({cd:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",gP:a},b)),b=S(d+"</div></div>")):b="",b=S(e+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+
'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.ah;var n=
e.oF;h=e.Co;k=e.Fj;l=e.bx;var q=e.cH;a=S;d='<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(Cch({size:h?32:48,ypa:n?""+n:"",J2:gx(f)&&!d?""+f:"",Ee:"docos-streamdocoview-avatar"}))+(gx(q)&&!l?'<span class="'+T("docos-root-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamdocoview-content")+'">';l?(e=(e=ex({author:f,Fj:k},e))||{},f=e.author,h=e.Fj,k=e.dD,l=e.dH,n=e.eH,q=e.Ev,b=S('<div class="'+T("docos-streampane-draft")+'">'+R(Xfh(ex({author:f,fl:!1,iA:!0,bx:!0,
Ee:"docos-replyview-first"},e),b))+"</div>"+R(agh({Ee:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",Fj:h,dD:k,dH:l,eH:n,Ev:q},b)))):b='<div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(Cch({size:h?32:24,Ee:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+
'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};function P5(){this.C=y()}function cgh(a){return"PLACEHOLDER_TEXT"===Wc(a.C,"docs-edpme")}function dgh(a){return"PLUS_MENTION_ICON"===Wc(a.C,"docs-edpme")};function egh(a,b){Ko.call(this,a);this.bk=b}t(egh,Ko);function Q5(a){egh.call(this,"rd",a)}t(Q5,egh);function R5(a,b,c,d,e){K4.call(this,a,d);this.R=a;this.fb=c;this.jb=[];this.O=null;this.Sa=new Tfh(this.R,b,this.fl());this.Hc(b);this.Qa=null;this.Od=e;this.ub=this.xa=null;this.Gd=!0;this.Dc=!1}t(R5,K4);m=R5.prototype;m.fB=ba();m.Hc=function(a){K4.prototype.Hc.call(this,a);this.Sa.D=a};m.getContext=g("R");m.fd=function(){return P4(this.R).fd(this.getId())||null};m.jl=function(){var a=this.getId();return fgh(this.Od,a)};m.FS=ea(null);m.Rxa=ea(!1);
m.Ca=function(){var a=this.fd(),b=a.hx();a=N4(a);var c="Unknown"===b.getName();c=zy(bgh,{author:b.getName(),ah:b.C,oF:this.C.V&&!c?b.getId():null,fl:this.fl(),JY:!!a,Fj:this.C.Fj(),Co:"legacy"!=this.C.F,cH:this.C.cH(),dH:dgh(new P5),eH:yeh(this.C),Ev:b5(this.C)});this.fl()||veh(this.C)||Dx(c,"docos-streampanemargin-legacy");this.pb(c);this.Ce(b,a||void 0)};
m.Ce=function(a,b){b=b?Hch(b,this.C):void 0;a=a.getName();var c=Wd(this.fd().D),d=this.fd().isResolved()?"Resolved":"Open";b=a&&b?(new RA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new RA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new RA("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});zx(this.getElement(),b)};m.Ia=function(){K4.prototype.Ia.call(this);M4(M4(this,this.getElement(),["click","keypress","keyup"],this.wSb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.s9b);Fp(this.getElement(),!0)};m.xd=function(){K4.prototype.xd.call(this);Ufh(this.Sa,!1)};m.qaa=ea(!1);
m.WAa=ba();m.cha=function(){if("legacy"==this.C.F&&this.fl()&&(!this.xa||!this.ub)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");Dx(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");Dx(c,"docos-anchoreddocoview-arrow-outer");this.ub=c;a.zt(b,this.xa,0);a.zt(b,this.ub,0)}};m.Vc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Gd;a||this.setVisible(!0);this.O=new bn(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Vc();return this.O.height};m.wSb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.TVa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.s9b=function(a){var b=this.Sa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||Ufh(b,"mouseenter"==a.type);a.stopPropagation()};m.sZ=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new Q5(this.getId()))};m.setVisible=function(a){this.Gd=a;P(this.getElement(),a)};m.isVisible=g("Gd");m.q5a=ba();
function ggh(a){var b=["docos-docoview-tesla-conflict"],c=[];Ay()&&z(y(),"docs-ehspc")?(hgh(a,"docos-anchoreddocoview",!1,b,c),hgh(a,"docos-streamdocoview",!0,b,c)):(hgh(a,"docos-anchoreddocoview",a.fl(),b,c),hgh(a,"docos-streamdocoview",!a.fl(),b,c));hgh(a,"docos-docoview-active",a.jl(),b,c);veh(a.C)&&hgh(a,"docos-docoview-active-experiment",a.jl(),b,c);var d=a.fd();hgh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)Ex(a.getElement(),b),Gx(a.getElement(),c),a.jb=Ax(a.getElement())}
function hgh(a,b,c,d,e){c&&!kd(a.jb,b)?d.push(b):!c&&kd(a.jb,b)&&e.push(b)}m.eU=da("Qa");function igh(a){return a.Qa?a.Qa:a.C.wq}m.getDocoMaxHeight=g("Qa");m.Ka=function(){K4.prototype.Ka.call(this);delete this.R};function jgh(a,b){this.C=a;this.gb=b}
function kgh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=jx("Contact information.");f+='">'+R(Cch({size:32,Ee:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=cx(d);We(c,d);d=b.getEmail();d=Ld(sf(b.getName()))?d:b.getName()+" "+d;zx(c,d);c=uV(a.gb,"IMG","docos-contact-row-avatar",c);Q4(a.C,c);Lfh(a.C,c,b.D,J4(b));
return c};function lgh(a,b,c,d){d=void 0===d?null:d;Hz.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new jgh(O4(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.fl());this.D=null}t(lgh,Hz);m=lgh.prototype;m.Ia=function(){Hz.prototype.Ia.call(this);this.D=hp("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.SSb).listen(this.getElement(),"focus",this.Py).listen(this.getElement(),["mousedown","blur"],this.U0a)};
m.SSb=function(a){this.C&&this.C.fd()==P4(this.L).R||(this.zd(!this.nf()),this.U0a());a.stopPropagation()};m.Py=function(){Dx(this.D,"docos-assignee-select-focus")};m.U0a=function(){Fx(this.D,"docos-assignee-select-focus")};m.Ye=function(a){return this.Bb()&&2>this.Bb().mc()?!1:Hz.prototype.Ye.call(this,a)};m.Xf=function(a){this.C&&this.C.fd()==P4(this.L).R&&(this.Bb()&&2>this.Oh()||Hz.prototype.Xf.call(this,a))};function mgh(a){return(a=a.tf())?a.Vg():null}
m.He=function(a){Hz.prototype.He.call(this,a);var b=a.getElement();b&&(Dx(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&Dx(b,"docs-gm"),this.O&&a.render(this.H.O))};m.ym=function(){var a=this.Bb().getElement();tw(a,"width",this.J.offsetWidth+"px");Hz.prototype.ym.call(this);var b=parseInt($8a(a,"top"),10)||0,c=zw(this.J).x;this.O?(c-=zw(this.H.O).x,b+=-2):b+=-1;ww(a,c,b)};function ngh(a){var b=new mm;if(!a.Bb())return b;a.Bb().Xe(function(c){b.add(c.Vg())});return b}
m.update=function(a,b){if(!ngh(this).equals(new mm(a))||mgh(this)!=b){for(var c=new rz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new ogh(f,this.R,this.oa());f==b&&(d=h);c.Ga(h,!0)}this.He(c);Jz(this,d);P(this.getElement(),1<this.Oh())}};m.reset=function(){this.Bb().ud();Jz(this,null)};function ogh(a,b,c){var d=c.createElement("div");mz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=kgh(this.C,this.D,d)}t(ogh,mz);m=ogh.prototype;m.Ca=function(){mz.prototype.Ca.call(this);Dx(this.getElement(),"docos-assignee-select-item")};
m.Ia=function(){mz.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.RSb)};m.Vg=g("D");m.Ug=ea("");m.RSb=function(a){a.stopPropagation()};m.Ka=function(){mz.prototype.Ka.call(this);var a=this.F;a&&Q4(this.C.C,a)};function pgh(){qgh(this)}t(pgh,Ua);m=pgh.prototype;m.mx=function(a){ic(a);mda(this.D.add(a),a);this.C=null;return a};m.IA=function(a){kda(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};m.nY=function(a){return this.D.contains(a)};m.cleanup=function(){this.D.clear();this.C=null};m.iterator=function(){if(!this.C){var a=new nbh,b=this.D;a.C=[];b=b.Nf();vah(b,a.C,0,b.length);this.C=a}return this.C.hj()};m.hj=function(){return this.iterator()};
function qgh(a){var b=new zbh,c=new lbh;Vah(c);b.C=c;a.D=b;a.C=null};function rgh(a){qgh(this);this.F=a}t(rgh,pgh);rgh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();sgh(b,this.F)}};rgh.prototype.get=g("F");function tgh(a,b,c){return new ugh(a,b,c)}function ugh(a,b,c){this.C=vgh(a,b);this.Rd=c;this.F=!1;this.D=-1;wgh(this,0)}ugh.prototype.j6=g("F");ugh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function vgh(a,b){for(var c=[],d={},e=0;e<b.length;d={WU:d.WU,d$:d.d$},e++){d.d$=b[e];var f=d;var h=new rgh(null);f.WU=h;d.d$.H(a.token,a.vaa,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.WU.set(new xgh(l,n,r,k.d$.getType(),w,q)):r&&k.WU.set(ygh())}}(d))||d.WU.set(ygh());c.push(d.WU)}return c}function wgh(a,b){a.F||(b>=a.C.length?(a.Rd(ygh()),a.close()):(a.D=b,a.C[b].mx(a),b=a.C[b].get(),null!==b&&sgh(a,b)))}
function sgh(a,b){b.isEmpty()?(a.C[a.D].IA(a),wgh(a,a.D+1)):(a.Rd(b),b.complete&&a.close())}function zgh(a,b,c){this.token=a;this.vaa=b;this.C=c}function xgh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}xgh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function ygh(){return new xgh([],new aEd(!1),!0,0,!1,void 0)};function Agh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function Bgh(a){this.abc=a}t(Bgh,Bhb);function Cgh(a){this.C=a};function Dgh(){this.className="docos-ac-highlighted"}Dgh.prototype.xva=function(a,b,c){Ld(b)||c.C&&/^\W/.test(b)?c=null:(b=pf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.xy(a,c)};
Dgh.prototype.xy=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.xy(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=$o(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Op(b,f)),f=h,h=Op(b,""),b.Zw(f,a),b.Zw(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function Egh(a,b,c,d,e,f,h,k,l){var n=this;l=void 0===l?5E3:l;this.ona=!0;a=new Fgh("\n",null,!0);qbh(a);a.M5a=!1;a.V=null;a.R=null;f=new Ggh(f,k,this);f.R=!0;f.gEa=!1;f.O=!0;f.className="docos-ac";h&&Iib(f,h,void 0,h);aB.call(this,this,f,a);this.L.Eh=this;this.Ma=c.map(function(q){return new Hgh(n,q)});this.Sa=new Dgh;this.jta(cp(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Ra=l;this.Ja=!1;this.Ba=null;this.Da=!1}v(Egh,aB);var Igh=/[\n]$/;m=Egh.prototype;
m.rJ=function(a,b,c){var d=this,e=Ra(),f=this.L.D;this.R&&this.R.fp("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=Jgh(this.L,a),l=Kgh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new Bgh(new Agh(e,f,n.getType(),h,x,F,w)),w.HAa=!h,w.gea=r.Qna,c(a,q,w),h=!1)})}else b=tgh(new zgh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new Bgh(new Agh(e,f,q.type,
h,q.complete,q.F,q.D));r.HAa=!h;q.C&&(r.gea=q.C.Qna);c(a,q.rows,r);h=!1}}),this.C=new Lgh(b,this.Ra)}else c(a,[])};function Kgh(a,b,c){return a.Ma.filter(function(d){return d.F(b,c)})}
m.ux=function(a,b){b||(b=new Bhb);Egh.Ya.ux.call(this,a,b);if(b instanceof Bgh){this.Ba=b.abc;var c=Mgh(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=Ra()-b.startTime,f=Ra()-b.J;this.R&&(b.C&&(this.R.fp("dac",e,d.sb()),this.R.fp("dact",f,d.sb())),b.D&&(this.R.fp("dacfr",e,d.sb()),this.R.fp("dacfrt",f,d.sb())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=this.Da?5:0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=Ngh[a])&&h.c0;b.C=a}else b.C&&0==d&&(h=(h=Ngh[b.C])&&h.p0,b.C=null);h&&
Ogh(b,h,c)}};function Mgh(a,b,c,d){var e=new LSd;e=L(e,1,c).setType(Pgh(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,bB(a,a.J)),L(c,6,b.L));return obh(c)}function Pgh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 8;default:return 0}}m.Pr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.ZQ()&&this.Sa.xva(c,a.data.ZQ().D,new Cgh(a.data.ZQ().C)))};
m.XB=function(){var a=Hhb(this)?this.F[bB(this,this.J)]:null,b;this.Ba&&(b=Mgh(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=Ngh[a.getType()])&&Ogh(c,a.O_,b);c.C=null}this.Ja=!0;return Egh.Ya.XB.call(this)};m.wh=function(){this.Da=!1;if(!this.Ja&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&Ngh[a.C];b&&Ogh(a,b.nW);a.C=null}this.Ja=!1;Egh.Ya.wh.call(this)};function Qgh(a){return Hhb(a)?a.F[bB(a,a.J)].getId():null}
m.Ka=function(){Egh.Ya.Ka.call(this);Uf(this.Ma);this.C&&(this.C.cancel(),this.C=null)};function Fgh(a,b,c,d){this.D=0;dB.call(this,a,b,c,d)}v(Fgh,dB);Fgh.prototype.Xf=function(){this.Eh.nf()&&this.Eh.wh()};Fgh.prototype.Og=function(a){this.D=Ra();return(37===a.keyCode||39===a.keyCode)&&this.Eh.nf()||38===a.keyCode&&this.Eh.nf()&&-1===this.Eh.J?(this.Eh.wh(),!0):Fgh.Ya.Og.call(this,a)};
Fgh.prototype.yF=function(a,b){var c=null;if(a){c=a.tX();var d=Rgh(this,a.getToken());c={start:c.$k()+d,end:c.Lw()+d}}b=Fgh.Ya.yF.call(this,a,b);if(a){d=c.end;var e=this.Wl;e&&(cB(e,c.start),Nhb(e,d));a.O7()}return b};function Rgh(a,b){var c=a.Ro();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function Jgh(a,b){return a.Ro()-Rgh(a,b)}function Hgh(a,b){this.C=a;this.D=b}
Hgh.prototype.H=function(a,b,c,d){var e=this,f=a.replace(Igh,"");return this.D.H(f,b,c,function(h,k,l,n,q){d(h.map(function(r){return new Sgh(e.C,r,a)}),k,l,n,q)})};Hgh.prototype.getType=function(){return this.C.Da?5:this.D.getType()};Hgh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function Sgh(a,b,c){this.F=a;this.C=b;this.D=c}m=Sgh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.F.Da?5:this.C.getType()};m.ZQ=function(){return this.C.ZQ()};
m.tX=function(){return this.C.tX()};m.render=function(a){this.C.render(a)};m.O7=function(){this.C.O7()};m.getToken=g("D");m.toString=function(){var a=Igh.test(this.D)?"\n"[0]:"";return this.tX().C+a};function Lgh(a,b){var c=this;this.D=a;this.C=eq(function(){c.C=null;c.D.close()},b)}Lgh.prototype.cancel=function(){null!==this.C&&(fq(this.C),this.C=null);this.D.close()};function Ggh(a,b,c){pB.call(this,a,c);this.Ma=!!b}v(Ggh,pB);
Ggh.prototype.Wc=function(){Ggh.Ya.Wc.call(this);zx(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=xw(this.getElement()),b=this.Ma?-2:-1;ww(this.getElement(),a.x,a.y+b)}};function Tgh(a){this.C=null;this.D=a}function Ogh(a,b,c){if(c){var d=new uk;Zj(d,11,c)}a.D&&a.D(b,void 0,d)}var Ugh={},Ngh=(Ugh[1]={c0:43002,p0:43004,nW:43006,O_:43E3},Ugh[2]={c0:43003,p0:43005,nW:43007,O_:43001},Ugh[3]={c0:43068,p0:43069,nW:43066,O_:43067},Ugh[4]={c0:43072,p0:43073,nW:43070,O_:43071},Ugh[5]={c0:43088,p0:43090,nW:43091,O_:43089},Ugh[6]={c0:43098,p0:43100,nW:43097,O_:43099},Ugh);function Vgh(a,b,c,d){Wo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new tB(a);Po(this.F,"input",this.L,!1,this);Wgh(this)}v(Vgh,Wo);Vgh.prototype.L=function(){Wgh(this)};function Wgh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Ep(a.H,String(1==a.J?b:a.D-b))}Vgh.prototype.Ka=function(){Vgh.Ya.Ka.call(this);delete this.C;this.F.dispose();this.F=null};function Xgh(a,b){return Ygh(a,b,!1)}function Zgh(a,b){return Ygh(a,b,!0)}function Ygh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?Id(n,h):Kd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function $gh(a,b,c,d,e,f,h){b.getEmail();this.Bc=a;this.D=b;this.dd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v($gh,A);m=$gh.prototype;m.Vg=g("D");m.getId=g("dd");m.getType=g("L");m.ZQ=g("H");m.tX=g("J");m.render=function(a){this.C=kgh(this.Bc,this.D,a)};m.O7=ba();m.Ka=function(){var a=this.C;a&&Q4(this.Bc.C,a)};function ahh(a,b,c){this.D=a;this.C=b;bhh(this.C);this.F=c}function chh(a,b){for(var c=0,d=b-1;0<=d;d--)if(dhh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(dhh.has(a[b])){d=b;break}return{text:a.slice(c,d),aw:c,gH:d}}function ehh(a,b){for(var c=0,d=b-1;0<=d;d--)if(fhh.has(a[d])&&(0==d||dhh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(dhh.has(a[b])){d=b;break}return{text:a.slice(c,d),aw:c,gH:d}}
function ghh(a,b,c,d,e,f,h,k,l){return a.C.Lo(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,ZX(Cbh(r))?w=(new gY(Cbh(r))).setSize(96).vz():w=Cbh(r)||null,w=ydh(vdh(xdh(new X4,r.getEmail()).Xc(r.getName()),w).Hc(""))):w=null;return{Gdb:r,pD:w}}).filter(function(r){return r.pD}).map(function(r,w){var x=r.pD;w=h+w;r=r.Gdb.getType();var F=new iS(d,!0),M=c;x.getName()&&(M=hhh(x.getName(),b,M));var X=(yeh(a.D)?"@":"+")+x.getEmail(),U=dhh.has(b[M.gH]);return new $gh(a.F,x,w,k,F,
new jS(b.slice(0,M.aw)+X+(U?"":" ")+b.slice(M.gH),M.aw+X.length+1,M.aw+X.length+1),r)});l(n,!q.yk(),a.C.C)},e)}
function hhh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(ihh).filter(function(l){return!!l}),e=b.slice(0,c.gH).split(ihh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.gH-a,{text:b.slice(a,c.gH),aw:a,gH:c.gH};f++}return c}
var dhh=new Set([" ","\t","\n"]),fhh=new Set(["@","+"]),ihh=/[ ]/;var jhh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
khh=new mm(["everybody","nobody"]);function lhh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(lhh,A);lhh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=chh(a,b);var f=mhh(this,b.text);a=ghh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,nhh,f.query.length,k,l)});this.C=a.yk()?a:null;return!0};
lhh.prototype.F=function(a,b){a=chh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||kd(jhh,a.text.trim().toLowerCase())||khh.contains(a.text.trim().toLowerCase())?!1:!0};function mhh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:se}:null!=a[2]?{query:a[2],filter:Zgh}:null!=a[3]?{query:a[3],filter:Xgh}:null}lhh.prototype.getType=ea(2);lhh.prototype.Ka=function(){delete this.C};var nhh=new aEd(!1);function ohh(a){A.call(this);this.L=a;this.J=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null;this.D=0}t(ohh,A);ohh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=ehh(a,b);var f=phh(this,b.text);a=ghh(this.L,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",this.getType(),function(h,k,l){k&&(e.C=null);d(h,qhh,f.query.length,k,l)});this.C=a.yk()?a:null;return!0};
ohh.prototype.F=function(a,b){a=ehh(a,b);"@"==a.text.charAt(0)?this.D=6:"+"==a.text.charAt(0)&&(this.D=1);return this.J.test(a.text)};function phh(a,b){a=b.match(a.J);return null===a?null:null!=a[1]?{query:a[1],filter:se}:null}ohh.prototype.getType=g("D");ohh.prototype.Ka=function(){delete this.C};var qhh=new aEd(!0);function rhh(a){var b=[];for(a=a.firstChild;a;){switch(a.nodeType){case 3:b.push(Gp(a));break;case 1:b=b.concat(shh(a));break;default:throw Error("Unexpected NodeType in inputpane: "+a.nodeType);}a=a.nextSibling}return b}function shh(a){var b=[];switch(a.tagName){case "BR".toString():a.previousSibling&&3===a.previousSibling.nodeType||b.push("");break;case "P".toString():case "DIV".toString():b=b.concat(rhh(a));break;default:throw Error("Unexpected TagName in inputpane: "+a.tagName);}return b}
function thh(a){a=a.split("\n");for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(0===c?d:Qe("DIV",null,d||Ve))}return Se(b)};function uhh(a){var b=Pa(a).toString();bP.call(this,b,void 0);this.D=a;this.D.id=this.id;this.ob=new sL(new tL)}t(uhh,tPc);uhh.prototype.xS=function(a,b,c){tPc.prototype.xS.call(this,a,b,c);this.dispatchEvent("dom_manipulated")};var vhh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,whh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function xhh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Md(a[b]).replace(/^\W+/,"").toLowerCase();return a};function yhh(a){this.C=new ZK(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");bhh(this.J)}function zhh(a,b){var c=ydh(udh(xdh(new X4,b).Hc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Lo(b,1,u(a.L,a,b)))}yhh.prototype.L=function(a,b){if(null!==b&&0<b.length&&this.C.Wg(a)){b=b[0];var c=null;ZX(Cbh(b))?c=(new gY(Cbh(b))).setSize(96).vz():c=Cbh(b)||null;b=ydh(vdh(xdh(new X4,a).Xc(b.getName()),c).Hc(""));this.C.set(a,b)}delete this.H[a]};
function Ahh(a){return a.C.C.next.value||null}function Bhh(a){return a.F?a.D:null};function Chh(){$O.call(this);this.Oa=new Xo(this)}t(Chh,$O);Chh.prototype.mR=ea("PastePlugin");Chh.prototype.cBa=function(a){$O.prototype.cBa.call(this,a);this.Oa.Nc(a,"load",this.D)};Chh.prototype.D=function(){this.Oa.listen(this.If.getElement(),"paste",this.C)};Chh.prototype.C=function(a){a.preventDefault();(a=a.re().clipboardData.getData("text/plain"))&&Dhh(this,a)};
function Dhh(a,b){var c=a.If;c.xS(function(){var d=sp(thh(b)),e=Ehh(a,d);c.getRange().lO(d);aN(e,e.nodeValue?e.nodeValue.length:0).select()})}function Ehh(a,b){return b.hasChildNodes()?Ehh(a,b.childNodes[b.childNodes.length-1]):b};function Fhh(a,b,c){Ko.call(this,c)}t(Fhh,Ko);function Ghh(a){a=a.UOb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function Hhh(a,b,c){K4.call(this,a,b);this.D=c}t(Hhh,K4);Hhh.prototype.Ca=function(){this.pb(zy(Ghh,{UOb:this.D}))};Hhh.prototype.Ia=function(){K4.prototype.Ia.call(this);this.setVisible(!1)};Hhh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function Ihh(){$O.apply(this,arguments)}t(Ihh,$O);Ihh.prototype.mR=ea("SuppressKeyboardShortcutPlugin");Ihh.prototype.GQa=function(a){return Jhh(a)};Ihh.prototype.IQa=function(a){return Jhh(a)};function Jhh(a){return(a.ctrlKey||a.metaKey)&&Khh.has(a.keyCode)?(a.preventDefault(),!0):!1}var Khh=new Set([66,85,73]);function Lhh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;K4.call(this,a,b);this.Va=a;this.V=new bA("",b);var e=this.C.Fj();this.V.hP=e;this.Ga(this.V);this.R=new bA("",b);this.Ga(this.R);this.xa=b.Hb().body;this.F=c;this.H=new yhh(this.Va);this.Qa=this.rb=null;this.Ja=new lgh(b,this.C,this.Va,this.F);this.L=(this.Ne="legacy"!=this.C.F)?new MQ(b):new NQ(!1,b);this.ub=!1;this.Ra=!d;c=Sw.getInstance();this.hd=Tw(c);this.Pc=Tw(c);this.vd=Tw(c);this.Dc=null;z(y(),"docs-edp")&&(this.Dc=new Hhh(a,b,"focused-presenceindicator"));
this.Lc=0;this.ma="";this.fb="Comment draft";this.ob=this.Xa=this.Od=null;this.Cb=!0;this.Da=!1;this.Mb=this.Gb=this.O=this.jb=this.cb=null;this.Sa=!1;this.J=this.Ma=null;lfh(a);this.Ba=null}t(Lhh,K4);m=Lhh.prototype;m.Ca=function(){var a=dgh(new P5);this.Gc(zy(agh,{Fj:this.C.Fj(),dD:this.C.Da,dH:a,eH:yeh(this.C),Ev:b5(this.C)},void 0,this.oa()))};
m.Gc=function(a){K4.prototype.Gc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.D=b.eb("docos-input-textarea",a);b5(this.C)&&(this.Ba=new uhh(this.D),dP(this.Ba,new Ihh),dP(this.Ba,new UPc),dP(this.Ba,new Chh));this.Xa=new uB;this.Xa.Wa(this.D);this.qa(this.Xa);cgh(new P5)&&this.D.setAttribute("placeholder",this.ma);if(dgh(new P5)){this.Ma=b.eb("docos-at-mention-icon",a);null!=this.Ma&&(this.J=new bA(null,b),this.J.Wa(this.Ma),this.J.setVisible(!1));var c=this.Xa.Pe()?"left":
"right";tw(this.D,"padding-"+c,"36px")}this.Ra||P(this.D,this.Ra);this.ob=b.eb("docos-input-at-reply-message",a);this.ob.setAttribute("id",this.hd);this.cb=b.eb("docos-input-acl-fixer-message",a);this.cb.setAttribute("id",this.Pc);this.jb=b.eb("docos-input-assignment-message",a);this.jb.setAttribute("id",this.vd);this.Qa=b.eb("docos-input-assignment-panel",a);c=this.Ja;var d=this.Qa;c.J=d;yz(c,new tcb(d,9));this.rb=b.eb("docos-input-assignee-text",a);c=b.eb("docos-input-assignee-select",a);this.Ja.Wa(c);
this.Ja.Pa(!0);if(c=b.eb("docos-input-assignment-box",a))this.L.Wa(c),LQ(this.L,this.rb);c=Mhh(this);if(0<c.length){d=!this.F||!this.F.fl();var e;d?e=this.C.O:this.F&&(e=this.F.getElement());this.O=new Egh(this.C,this.D,c,new Tgh(this.C.Qa),this.C.R||void 0,e||void 0,this.D||void 0,d);this.qa(this.O)}if(e=b.eb("docos-input-cancel",a))this.R.Wa(e),zx(e,this.R.Ml());(a=b.eb("docos-input-post",a))&&this.V.Wa(a);this.Dc&&this.F.fl()&&(a=this.oa().eb("docos-focusedpresenceindicator-container",this.getElement()),
this.Dc.render(a))};function Mhh(a){var b=[],c=new jgh(O4(a.Va),a.oa());c=zeh(a.C)?new ahh(a.C,a.Va.get("contactStore"),c):null;if(zeh(a.C)){var d=new ohh(c);a.qa(d);b.push(d)}d=Aeh(a.C).map(function(e){return e.F()});ud(b,d);zeh(a.C)&&(c=new lhh(a.C.Pg,c),a.qa(c),b.push(c));return b}
m.Ia=function(){K4.prototype.Ia.call(this);ZYe(this.getElement(),!1);b5(this.C)||(this.Gb=new Vgh(this.D,null,2048),this.qa(this.Gb));this.Mb=new tB(this.D);this.qa(this.Mb);M4(M4(M4(M4(M4(M4(M4(M4(M4(M4(M4(M4(M4(this,this.Mb,"input",this.BQa),this.D,"keydown",this.jF),this.D,"keyup",this.WSb),this.D,"keypress",this.VSb),this.R,"action",this.USb),this.V.getElement(),["click","keypress","keyup"],this.d4a),this.V,"action",this.YVa),this.Qa,"click",this.B7b),this.L,"change",this.D7b),this.L.nm(),"keypress",
this.E7b),this.Qa,["keyup","keypress"],this.C7b),this.Ja,"action",this.A7b),this.D,"pointerdown",this.TSb);b5(this.C)&&M4(this,this.Ba,"dom_manipulated",this.BQa);this.J&&(M4(this,this.J,"action",this.e8b),M4(this,this.J.getElement(),"blur",this.N7b));this.O&&(M4(this,this.O,"update",this.Zqb),M4(this,this.O,"suggestionsupdate",this.c5a));this.D[Nhh]=u(this.blur,this);this.D[Ohh]=u(this.M8b,this);this.R.getElement()&&(M4(this,this.R.getElement(),["click","keypress","keyup"],this.d4a),this.R.Pa(!0));
if(this.F&&N4(this.F.fd())&&Xeh(this.F.fd())){var a=this.H,b=I4(N4(this.F.fd())).getEmail();b&&!a.C.Wg(b)&&zhh(a,b);a.C.isEmpty();a=this.H;b=Ahh(this.H);kd(a.C.Ed(),b);a.D=b;a.F=!0;this.L.Ib(!0)}cgh(new P5)?(this.setValue(""),this.Ce(this.fb+". "+this.ma)):this.setValue(this.ma);this.Sa=!0;wx(this.D,"label",this.fb);Beh(this.C)&&(Fp(this.getElement(),!0),zx(this.getElement(),"This is the input pane."))};m.TSb=function(a){oj&&Jf(73)&&a.target.setPointerCapture(a.pointerId)};
m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};
m.getValue=function(){if(b5(this.C))if(this.Ba){var a=this.Ba;var b=a.ob;if(a.queryCommandValue("usinglorem"))a="\u00a0";else if(a.Kf()){var c=a.getElement(),d=c.cloneNode(!1);c=c.innerHTML;Af&&c.match(/^\s*<script/i)&&(c="\u00a0"+c);d.innerHTML=c;a.$Ta(11,d);a=a.Eja(10,d.innerHTML)}else a=a.D.innerHTML;b.D=Wmc(b);b=Amc.prototype.L.call(b,a);b=rhh(b).join("\n")}else b="";else b=this.D?this.D.value:"";return b};m.setValue=function(a){b5(this.C)?wYe(this.Ba,thh(a.trim())):this.D.value=a};
m.isEmpty=function(){return Ld(this.getValue())};function S5(a){return!Ld(a.getValue())&&!a.Sa}m.Ce=da("fb");m.reset=function(a){this.Da||this.isDisposed()||(cgh(new P5)?(this.D.setAttribute("placeholder",this.ma),this.setValue("")):this.setValue(this.ma),this.Sa=!0,this.J&&this.J.setVisible(!1),wx(this.D,"label",this.fb),Af?eq(this.WSa,0,this):this.WSa(),T5(this,a),this.D&&(this.D.style.height=""),a||Phh(this),Qhh(this,"none"))};
function Qhh(a,b){if(a.ob&&a.cb&&a.jb){P(a.ob,"atReplyMessage"==b);P(a.cb,"aclFixerMessage"==b);P(a.jb,"assignmentMessage"==b);var c=a.L.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.hd;break;case "assignmentMessage":d=a.vd;break;case "aclFixerMessage":d=a.Pc}null!=d?wx(c,"describedby",d):xx(c,"describedby")}}}
m.ready=function(a,b,c){this.isDisposed()||(this.Ba&&!this.Ba.Kf()&&xOc(this.Ba),this.Sa&&(this.Od=!b&&a||"",this.setValue(a||""),this.Sa=!1),Dx(this.getElement(),"docos-input-typing"),c||this.focus(),T5(this))};m.blur=function(a){this.F&&this.dispatchEvent(new Ko("b",this.F));if(this.J){var b=this.J.Fb();a=a&&a.relatedTarget==this.J.getElement();b||a||this.J.setVisible(!1)}};m.N7b=function(a){a.relatedTarget!=this.D&&this.J.setVisible(!1)};m.focus=function(){Af||eq(this.XVa,0,this);this.XVa()};
m.XVa=function(){!this.isDisposed()&&Kw(this.D)&&(this.D.focus(),this.J&&!this.C.J&&(this.J.setVisible(!0),Rhh(this)))};m.WSa=function(){this.isDisposed()||Fx(this.getElement(),"docos-input-typing")};
function T5(a,b){var c=Md(a.getValue());c=!a.Sa&&c!=a.Od;a.V.Pa(!a.Da&&(!a.Ra||c&&!a.isEmpty()));a.c5a();var d=Shh(a),e=a.H.D,f=a.H.C.Ed().length;if(a.Ra){var h=a.H;var k=a.getValue(),l=d?I4(d):void 0;d=xhh(whh,k);k=h.C;h.C=new ZK(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];k.Wg(q)?h.C.set(q,k.get(q)):zhh(h,q)}l&&(l=sf(l.getEmail()),!Ld(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=Ahh(h))?k.getEmail():null;(h.F||l==n)&&l&&h.C.Wg(l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
Thh(a,!1);e=a.C;0!=f||!h||a.Da||!Mj(e.dh,33)||e.J||e.ma||(f=e.Vl,e=Ahh(a.H)?Ahh(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.ub&&a.F&&!a.F.fd().isResolved()&&a.Ra&&(a.F.Rxa()||!!Leh(a.F.fd()));Mj(a.C.dh,38)&&(f?(a.L.Pa(!a.Da),a.Ja.Pa(!a.Da),a.Ja.update(a.H.C.Ed(),d),f=Jch(d,a.C,!!Shh(a)),e=a.Ja.getElement(),Ep(a.rb,f),zx(e,f+". Choose an assignee."),Hx(a.rb,"docos-input-assignee-text-no-chevron",!Kw(e)),P(a.Qa,!0),Uhh(a,!0)):(Thh(a,!1),a.L.Pa(!1),a.Ja.reset(),P(a.Qa,!1),Uhh(a,!1)));a.Da&&zeh(a.C)&&
!a.H.C.isEmpty()?Qhh(a,"aclFixerMessage"):a.Cb&&zeh(a.C)&&!a.H.C.isEmpty()?a.L.isChecked()?Qhh(a,"assignmentMessage"):a.Cb?Qhh(a,"atReplyMessage"):Qhh(a,"none"):Qhh(a,"none");(f=Bhh(a.H))&&a.F?(e=!!Shh(a),f=Jch(f,a.C,e),e=e?"Reassign":"Assign"):a.ub?(f="Save changes",e="Save"):!a.F||a.F.fd().bx()?(f="Post Comment",e="Comment"):a.F.fd().ZY()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.V.getElement()&&L4(a.Va).C.C(a.V.La(),f);Ep(a.V.getElement(),e);c?(Vhh.contains(a)||
(Vhh.add(a),a.dispatchEvent(new Fhh(a.F.getId(),1,"pr"))),Dx(a.getElement(),"docos-input-nohide")):(Whh(a),Fx(a.getElement(),"docos-input-nohide"));Xhh(a);b||a.dispatchEvent("s")}function Whh(a){Vhh.contains(a)&&(Vhh.remove(a),a.dispatchEvent(new Fhh(a.F.getId(),0,"pr")))}
m.c5a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.O&&this.O.nf()&&(this.getElement().setAttribute("aria-autocomplete","list"),Hhb(this.O)&&this.getElement().setAttribute("aria-activedescendant",Qgh(this.O)))};function Uhh(a,b){if(b=b&&a.F)b=a.F,b=b.fl()&&b.Dc;b?(a.C.Ut||re)("docosTodos",u(a.U9b,a)):(a.C.Ih||re)("docosTodos")}m.U9b=function(){this.dispatchEvent("ph")};function Thh(a,b){a.L.Ib(b);a.H.F=b}
function Shh(a){return a.F&&!a.F.fd().bx()&&Leh(a.F.fd())?N4(a.F.fd()):null}m.d4a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.USb=function(){this.dispatchEvent("c");this.reset()};m.YVa=function(){if(this.V.isEnabled()){var a=this.H.C.cf(),b=this.C;if(Mj(b.dh,33)&&!b.J&&!b.ma&&!ld(a)&&(b=this.C.vn)){Qhh(this,"aclFixerMessage");this.Da=!0;T5(this);this.R.getElement()&&this.R.Pa(!1);b(a,u(this.Jpb,this));return}Yhh(this)}};
m.B7b=function(){this.Da||(Thh(this,!this.L.isChecked()),T5(this))};m.D7b=function(){var a=this.L.isChecked();this.H.F=a;T5(this)};m.E7b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.L,a.Ib(a.iE?!1:!0),this.L.dispatchEvent("change"),this.V.focus())};m.C7b=function(a){a.stopPropagation()};m.A7b=function(){this.L.Ib(!0);var a=this.H,b=mgh(this.Ja);kd(a.C.Ed(),b);a.D=b;a.F=!0;T5(this)};
m.Jpb=function(a){this.Da&&(this.Da=!1,"continue"==a?Yhh(this):Qhh(this,"atReplyMessage"),this.F.getContext()&&(T5(this),this.R.getElement()&&this.R.Pa(!0)))};function Yhh(a){Af&&a.F&&a.F.fd().bx()&&Tf(a.Gb);a.dispatchEvent("p");a.reset()}m.M8b=function(){this.ready(void 0,void 0,!0);this.F&&this.dispatchEvent(new Ko("f",this.F));this.J&&!this.C.J&&(this.J.setVisible(!0),Rhh(this))};
function Xhh(a){if(!a.D)return!1;var b=a.D.clientHeight,c=a.D.scrollHeight,d=Hw(a.D).height;return b!=c&&0<d?(Gw(a.D,d+c-b),Rhh(a),!0):!1}function Rhh(a){if(null!=a.Ma){var b=xw(a.D),c=Hw(a.D),d=Hw(a.Ma).height;if(a.Xa.Pe())a.Ma.style.left=b.x+"px";else{var e=Qw(a.D.parentElement).right;a.Ma.style.right=e+"px"}a.Ma.style.top=b.y+c.height-d+"px"}}
m.jF=function(a){Xhh(this)&&this.dispatchEvent("s");this.Lc=a.keyCode;if(13==a.keyCode)Zhh?a.metaKey&&Gf&&oj&&$hh(this,a):$hh(this,a);else if(27==a.keyCode){Df&&a.preventDefault();if(this.O&&this.O.nf())return;this.isEmpty()&&this.reset();this.F&&this.dispatchEvent(new Ko("e",this.F));Phh(this)}a.stopPropagation()};
m.WSb=function(a){Xhh(this)&&this.dispatchEvent("s");var b=this.Lc;this.Lc=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Vd){Hd(this.getValue(),"\n")?this.jF(a):a.preventDefault();return}this.Vd=!1}a.stopPropagation()};m.VSb=function(a){if(13==a.keyCode&&Zhh)$hh(this,a);else if(27==a.keyCode){if(this.O&&this.O.nf())return;this.blur();Phh(this)}a.stopPropagation()};function $hh(a,b){if(b.ctrlKey||b.metaKey)a.Vd=!0,a.V.getElement().focus(),a.YVa()}
function Phh(a){a.xa&&(Af&&!Jf("9")?a.xa.focus():eq(function(){return a.xa.focus()}))}m.BQa=function(){T5(this)};m.Zqb=function(){T5(this)};m.e8b=function(){this.O.Da=!0;this.focus();aih(this,yeh(this.C)?"@":"+");var a=Mhb(this.D,!0)[0];bih(this,a-1)&&(aih(this," ",a-1),a+=1,LZe(this.D,a));bih(this,a+1)&&(aih(this," ",a),LZe(this.D,a));this.O.update(!0)};
function aih(a,b,c){c&&LZe(a.D,c);c=a.D;if(Ihb(c)){var d=c.value,e=c.selectionStart;c.value=d.substr(0,e)+b+d.substr(c.selectionEnd);c.selectionStart=e;c.selectionEnd=e+b.length}else if(Jhb())d=Khb(c),c=d[1],d[0].inRange(c)&&(d=c.duplicate(),c.text=b,c.setEndPoint("StartToStart",d),c.select());else throw Error("Cannot set the selection end");b=Mhb(a.D,!1)[1];LZe(a.D,b)}function bih(a,b){a=a.getValue();return 1>b||b>a.length?!1:" "!=a[b-1]}
m.Ka=function(){K4.prototype.Ka.call(this);Whh(this);this.D&&(this.D[Nhh]=null,this.D[Ohh]=null);delete this.D;delete this.Gb;delete this.Mb};var Vhh=new mm,Nhh=Af?"onfocusout":"onblur",Ohh=Af?"onfocusin":"onfocus",Zhh=Gf||zf||Df;Ef&&Jf("530");function cih(a,b,c,d,e,f,h,k){d=void 0===d?0:d;egh.call(this,a,b);this.xn=c||null;this.Yp=d;this.C=e||null;this.N1=h;this.fl=k}t(cih,egh);function dih(a){this.C=L4(a)};function eih(a,b){b.ZY()?a.V+=1:b.bx()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Vj()?(b=Yeh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function fih(a,b,c,d,e){this.bk=a;this.C=b||null;this.xn=c||null;this.Yp=d||null;this.flags=e||null};function gih(a,b,c,d){Ko.call(this,b,a);this.source=c;this.C=d}t(gih,Ko);function hih(a,b){this.D=a;this.Tr=b;this.C=[]}function iih(a){return new gih(a.D,"bu",a.Tr,a.C)};function jih(){this.D={};this.C={};this.F=0}function kih(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function lih(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new mih(c,d);a.C[c][d||"$"]=b}jih.prototype.bind=function(a,b){if(null!==kih(this,a,b))return!1;this.F++;lih(this,this.F,a,b);return!0};function nih(a,b,c){var d=kih(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function oih(a,b,c,d,e){var f=kih(a,b,c);if(null===f||null!==kih(a,d,e))return!1;nih(a,b,c||void 0);lih(a,f,d,e);return!0}
function pih(a,b,c){return kih(a,b,c)||0}jih.prototype.getDocoHandles=function(){for(var a=Yd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function mih(a,b){this.C=a;this.D=b||null};function qih(){this.D={}}qih.prototype.C=function(a){Xeh(a)||(this.H(a),a.lS()&&(this.D[a.getId()]=!0))};qih.prototype.H=function(a){delete this.D[l5(a)];delete this.D[a.getId()]};qih.prototype.F=function(){return!ce(this.D)};function rih(a){this.J=a;this.D=new qih}rih.prototype.C=function(a){this.D.C(a);a=this.J.Ph;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};rih.prototype.H=function(a){this.D.H(a)};rih.prototype.F=function(){return this.D.F()};function sih(a){Wo.call(this);this.L=a;this.C={};this.R=null;this.F={};this.J=[];this.Ma=[];this.Ja={};this.V={};this.H=new Map;this.D=new jih;this.Qa=[];this.xa=!1;this.Ba=this.O=null;this.Sa=!1;this.Da=new rih(this.L)}v(sih,Wo);function tih(a,b){a.Vj();var c="<i>Made a suggestion</i>";(a=a.x4())&&(b=b.Us)&&(b=b(a).C())&&(c=b);return c}function uih(a,b){return"n"!=b&&!Xeh(a)&&a.lS()}
function vih(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new hih(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=m5(d);h.C.push(new fih(b,c,d,e,f));k&&a.dispatchEvent(iih(h))}
function N5(a,b,c,d){c=c||"c";var e=wih(a),f=xih(a,b.getId(),K(V4(b.C),11)||"");if(f){var h=f.getId(),k=f.Pq();b=b.C;var l=fk(f.F);V4(b);var n=V4(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.Pq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.Pq(),x=T4(n),F=!1,M=0;M<x.length;M++){var X=x[M],U=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;U||(U=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!U);if(U){var ca=U.getId();U.update(X);if(ca!=U.getId()&&(delete f.D[ca],f.D[U.getId()]=U,pih(f.O,
r,ca)&&!oih(f.O,r,ca,r,U.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+U.getId());U.Pq()?(delete f.D[U.getId()],f.J[U.getId()]=U,nih(f.O,r,U.getId())):F&&!U.Pq()&&(delete f.J[U.getId()],f.D[U.getId()]=U,f.O.bind(r,U.getId()))}else U=new Udh(X),U.Pq()?(f.J[U.getId()]=U,nih(f.O,r,U.getId())):(f.D[U.getId()]=U,delete f.J[U.getId()],f.O.bind(r,U.getId())),U=T4(V4(f.F)),U.push(X),X=V4(f.F),bk(X,8,U)}r=0;void 0!==Mj(b,6)&&Mj(b,6)!=f.isResolved()&&(r=Mj(b,6)?r|2:r|4);q&&!F?r|=16:
w&&(r|=8);bk(n,8,[]);q&&(n.setContent(void 0),Zj(n,4,void 0),Zj(n,9,void 0));pdh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.pS=null;ek(f.F,l)||(r|=1);b=r;a.Da.C(f);yih(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.H.delete(h),l=pih(a.D,h),delete a.Ja[l],a.C[f.getId()]=f,l&&!oih(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=pih(a.D,f.getId());f.Pq()?(delete a.C[f.getId()],a.H.delete(h),nih(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ja[l]=f),uih(f,
c)&&(nd(a.J,f.getId()),nd(a.Ma,f.getId())),d=gfh(ffh(efh("dd"),c),f.getId()),k=m5(f),d.$r=k,d.C=l,d=hfh(d,b),h!=f.getId()&&(d.D=h),a.dispatchEvent(jfh(d))):(k&&(delete a.F[f.getId()],delete a.Ja[l],a.C[f.getId()]=f,(a.L.Ja||m5(f))&&a.D.bind(f.getId()),l=pih(a.D,f.getId())),0!=b&&(uih(f,c)&&nd(a.J,f.getId()),vih(a,c,h,f,l,b,d)))}else f=new Veh(b.C,a.D,b.It?b.It:void 0),a.Da.C(f),f.Pq()?a.F[f.getId()]=f:zih(a,f,c,d);wih(a)!=e&&(e=wih(a)?32:0,c=jfh(hfh(ffh(efh("p"),c),e)),a.dispatchEvent(c))}
function vfh(a,b,c){for(var d=new hih(a,c),e=0;e<b.length;e++)N5(a,b[e],c,d);a.dispatchEvent(iih(d))}function nfh(a,b){b.getNewDocoType()||afh(b,"draft");b=new Veh(b.C,a.D,b.It?b.It:void 0);a.Da.C(b);zih(a,b)}
function zih(a,b,c,d){if(Mj(a.L.dh,38)||!b.isTodo()){c=c||"c";var e=null;b.nA()&&(e=Aih(a,m5(b)));e&&Xeh(e)?(oih(a.D,e.getId(),null,b.getId(),null),qfh(a,e.getId(),c)):(a.L.Ja||b.nA())&&a.D.bind(b.getId());a.C[b.getId()]=b;yih(a,b);e=8|(b.isResolved()?2:0);uih(b,c)&&nd(a.J,b.getId());var f=pih(a.D,b.getId());vih(a,c,void 0,b,f,e,d)}}
function qfh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.nA()){var e=m5(d);delete a.V[m5(d)]}a.Da.H(d);d=pih(a.D,b);delete a.C[b];nih(a.D,b);b=gfh(ffh(efh("dd"),c),b);b.C=d;b=hfh(b,16);void 0!=e&&(b.$r=e);a.dispatchEvent(jfh(b))}}function U5(a,b){if(!b)a.R=null;else if(!b||a.fd(b)){if(a.L.cH()){var c=!0;c=void 0===c?!1:c;a.H.delete(b);a.dispatchEvent(jfh(gfh(ffh(efh("sd"),"c"),b)));c&&Bih(a)}a.R=a.fd(b)}}function xfh(a,b){b=b.getId();return kd(a.Qa,L5(a,b))}
sih.prototype.ma=function(a){return(this.L.Ja||a.nA())&&(!a.isResolved()||this.xa)};function Cih(a){var b=je(a.C);le(b,a.F);return b}function Dih(a){var b=new Vbh;a=Xd(Cih(a));for(var c=0;c<a.length;c++)eih(b,a[c]);return Wbh(b)}function Eih(a){function b(d){return d.lS()}var c=bd(Xd(a.C),b);a=bd(Xd(a.F),b);return c.concat(a)}function Fih(a,b,c){var d=!1;d=void 0===d?!1:d;a.H.set(b,new Set(c));a.dispatchEvent(jfh(gfh(ffh(efh("ud"),"c"),b)));d&&Bih(a)}
function Bih(a){(a=a.L.H["unseen-docos-updated"])&&a((new H4("unseen-docos-updated")).setNonAnchored(!0).build())}function wih(a){return a.Sa?a.Da.F():!1}function Gih(a){for(var b=0;b<a.J.length;b++){var c=a.J[b],d=a.fd(c);d||(d=a.F[c]);if(d&&d.lS())return!0}return!1}sih.prototype.fd=function(a){return this.C[a]};function xih(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function yih(a,b){m5(b)&&(b.Pq()?delete a.V[m5(b)]:a.V[m5(b)]=b)}
function Aih(a,b){var c=a.V[b]||null;return c&&m5(c)!=b?(delete a.V[b],null):c}function O5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function ufh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?c5(a,b):null:null}sih.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function L5(a,b,c){return pih(a.D,b,c)}
sih.prototype.flush=function(a){this.dispatchEvent(jfh(ifh(ffh(efh("f"),"c"),!!a)));this.dispatchEvent(jfh(ffh(efh("af"),"c")))};function Hih(a,b){a=a.Ba;if(!a)return null;b=b.Fc(a.getKey());if(!b)return null;a=b.eb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new kn(b,b+a.height)}function Iih(a,b){return(a=Jih(a,b))?new hY(a.getKey().getId(),a.getValue()):null}
function Jih(a,b){var c=a.O;if(!c)return null;var d=a.Ba;if(!d)return null;var e=d.getKey();e=je(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=n5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+Kih(h,c,b);if(k>d)return new hY(h,d-a);a=k}return null}function Lih(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Rq('<span class="%s">%s</span>',d,h));c+=h}return c}
function Kih(a,b,c){a=Mih(a,c);if(!a)return 0;a=sp(a).textContent.toLowerCase();return Yga(a,b.toLowerCase())}function Mih(a,b){var c=a.qha();if(!c){var d=Nih();a.Vj()?c=uL(d,tih(a,b)):a.getContent()?c=uL(d,a.getContent()):c=null}return c}function Nih(){var a=Nmc(new tL);a.F=se;return new sL(a)};function Oih(a,b){this.C=a;this.D=b};function Pih(a,b,c){this.C=a;this.D=b;this.F=c};function Qih(a,b,c,d){K4.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new bA(null);this.F=this.J=this.H=null;this.qa(this.D)}t(Qih,K4);m=Qih.prototype;m.Gc=function(a){K4.prototype.Gc.call(this,a);this.H=this.oa().eb("like-button-text",a);this.J=this.oa().eb("docos-icon",a);this.F=this.oa().eb("docos-icon-img",a);this.D.Wa(this.getElement())};m.Ia=function(){M4(this,this.D,"action",this.HSb);M4(this,this.getElement(),["click","keypress","keyup"],this.GSb);this.update()};m.VVa=da("L");
m.GSb=function(a){a.stopPropagation()};function Rih(a){var b=P4(a.R).fd(a.L);return null!=a.O?c5(b,a.O):b}m.HSb=function(a){a.stopPropagation();a=R4(this.R);var b=Rih(this).mA();b=!b||1!=Y4(b);null!=this.O?a.zf("docos-vote-reply").qb(new Pih(this.L,b,this.O)):a.zf("docos-vote-doco").qb(new Oih(this.L,b))};
m.update=function(){var a=Rih(this).mA(),b=!a||0==Edh(a,1).length&&1!=Y4(a);Fx(this.H,"no-votes");!b||Dx(this.H,"no-votes");Gx(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);Gx(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?Dx(this.F,"docos-icon-thumb-black"):1==Y4(a)?(Dx(this.J,"current-user-has-up-vote"),Dx(this.F,"docos-icon-thumb-green")):0<Edh(a,1).length&&(Dx(this.J,"post-has-votes-no-current-user-vote"),Dx(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=Edh(a,1),b=Y4(a),c=c.length,1==b&&c++);Ep(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==Y4(a))&&(b="Unlike this"),a=Edh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=tf(b,"\n",J4(tdh(N(a[c].C,iY,1))));this.D.getElement()&&L4(this.R).C.C(this.D.La(),b)};function Sih(a,b){a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';a+=R(aA({id:"docos-shadow-confirm",
content:hx("Delete")},b));a+=R(aA({id:"docos-shadow-cancel",content:hx("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function Tih(a,b){K4.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.Rd=null;this.H=new bA(null,b);this.Ga(this.H);this.F=new bA(null,b);this.Ga(this.F);this.Jg=this.O=null;this.ma=!1;this.xa=new Tz(this);this.qa(this.xa);a=R4(a);this.xa.yb(a.Ta("docos-highlight-doco"),ot,this.a2)}t(Tih,K4);function Uih(a,b){Vih||(Vih=new Tih(a,b),Vih.render());return Vih}m=Tih.prototype;m.Ca=function(){this.pb(zy(Sih,{},void 0,this.oa()))};
m.Ia=function(){K4.prototype.Ia.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Wa(a.getElement("docos-shadow-cancel"));this.H.Pa(!0);this.F.Wa(a.getElement("docos-shadow-confirm"));this.F.Pa(!0);this.O=new FB(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);GB(this.O);this.Jg=new Nx(a.Hb());this.qa(this.Jg);this.ma=!0}M4(M4(M4(M4(this,this.H,"action",this.$Sb),this.F,"action",this.aTb),this.getElement(),
["keyup","keydown"],this.bTb),this.Jg,"focusin",this.Py)};m.prompt=function(a,b,c,d,e,f){this.tb()&&this.xd();if(c!=this.V){var h=Wih[c];h&&this.oa().Be(this.L,h);this.V=c}this.Rd=b;this.R=a;this.J=e||null;b=Hw(a);Ew(this.D,b);b=uw(a,"paddingLeft");c=uw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?Uw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.cTb))};
m.xd=function(){K4.prototype.xd.call(this);this.J=this.R=this.Rd=null};m.a2=function(){Ew(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();wp(this.getElement());this.tb()&&this.xd()};m.aTb=function(){this.Rd&&this.Rd();this.a2()};m.bTb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.a2())};m.$Sb=function(){this.a2()};m.cTb=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
m.Py=function(a){a=a.target;Cp(this.getElement(),a)||this.a2()};var Vih=null,Xih={},Wih=(Xih["delete-discussion"]="Delete this comment thread?",Xih["delete-reply"]="Delete this comment?",Xih);function Yih(a,b){return 1==b&&!a.C&&!a.getId()};function Zih(a,b,c,d){K4.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new bA(null);this.F=null;this.qa(this.D)}t(Zih,K4);m=Zih.prototype;m.Gc=function(a){K4.prototype.Gc.call(this,a);this.F=this.oa().eb("vote-button-text",a);this.D.Wa(this.getElement())};m.Ia=function(){M4(this,this.D,"action",this.QSb);M4(this,this.getElement(),["click","keypress","keyup"],this.PSb);this.update()};m.VVa=da("H");m.PSb=function(a){a.stopPropagation()};
function $ih(a){var b=P4(a.L).fd(a.H);return null!=a.J?c5(b,a.J):b}m.QSb=function(a){a.stopPropagation();a=R4(this.L);var b=$ih(this).mA();b=!b||1!=Y4(b);null!=this.J?a.zf("docos-vote-reply").qb(new Pih(this.H,b,this.J)):a.zf("docos-vote-doco").qb(new Oih(this.H,b))};
m.update=function(){var a=$ih(this).mA();Gx(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==Y4(a)?Dx(this.F,"current-user-has-up-vote"):0<Edh(a,1).length&&Dx(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=Edh(a,1);b=Y4(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Ep(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==Y4(a))&&(b="Remove your +1"),a=Edh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=
tf(b,"\n",J4(tdh(N(a[c].C,iY,1))));this.D.getElement()&&L4(this.L).C.C(this.D.La(),b)};function ajh(a,b,c,d,e,f,h){K4.call(this,a,d);this.F=a;this.rb=L4(this.F).R;this.Pg=new dih(a);this.O=b;this.H=e;this.Zg=h||"";this.Ne=u(this.ISb,this);this.D=null;this.Hc(f||"root");this.xa=c;this.Cb=!0;this.cb=2;this.Vd=!1;this.bf=this.F.get("relativeDateFormatter");this.Pc=this.Qa=this.Va=this.Ja=this.Ra=this.Od=this.Xa=this.fb=this.jb=this.hd=this.Dc=this.vd=this.Mb=this.Ba=this.dg=this.Gb=this.ub=this.Da=this.Pf=this.R=this.L=this.J=this.V=this.ma=this.Sa=this.Lc=this.Ma=null;this.ob=new sL(Jmc(Nmc(new tL),
["data-rawHref"]));M4(this,this.bf,"Yi",u(this.EVa,this,!0))}t(ajh,K4);m=ajh.prototype;m.fd=function(){return P4(this.F).fd(this.O)};function bjh(a){return c5(a.fd(),a.getId())}function V5(a){return W5(a)?a.fd():bjh(a)}
m.Ca=function(){var a=this.oa(),b=V5(this),c=b.hx(),d=cjh(this),e=djh(this);if(W5(this)&&Wdh(this.fd().C)){var f=Md(Wdh(this.fd().C));f=f.replace(ejh,"<br>").replace(fjh," ");f=uL(this.ob,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=zy(Xfh,{author:c.getName(),ah:c.C,oF:this.C.V&&!k?c.getId():null,aoa:e||"",Ee:this.Zg,fl:this.xa,ooa:gjh(this),Nm:X5(this),Hwa:d,iA:W5(this),Vj:b.Vj(),Vbc:h?h:"",Z7:hjh(this),jK:ijh(this),JY:!!V5(this).nC(),Fj:this.C.Fj(),hga:this.C.hga(),
wwa:this.C.wwa(),isBadgingEnabled:this.C.cH(),timestamp:jjh(this),veb:xeh(this.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Co:f},void 0,a);this.pb(b);d=a.eb("docos-accept-suggestion",b);h=a.eb("docos-reject-suggestion",b);this.Mb=a.eb("docos-body-action-text",b);this.Dc=a.eb("docos-anchoredreplyview-buttonholder",b);this.Ra=a.eb("docos-author",b);d&&h&&(this.ma=new bA(null,a),k=this.C.Fj(),this.ma.hP=k,this.qa(this.ma),this.V=
new bA(null,a),this.qa(this.V),this.ma.Wa(d),this.V.Wa(h));if(k=a.eb("docos-replyview-resolve-button",b)){this.J=new bA(null,a);var l=this.C.Fj();this.J.hP=l;this.qa(this.J);this.J.Wa(k)}(k||d&&h)&&kjh(this);d=this.oa();h=d.eb("docos-vote-button",b);k=d.eb("docos-like-button",b);if(h||k)h?(this.R=new Zih(this.F,this.O,d,W5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(h)):k&&(this.R=new Qih(this.F,this.O,d,W5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(k));d=a.eb("docos-overflowmenu-outer",
b);(X5(this)||gjh(this)||W5(this))&&d&&(f=zy(Wfh,{Ri:"docos-icon-overflow-three-dots",cC:"docos-icon-overflow-three-dots-size",oS:f}),a.appendChild(d,f),tw(d,"visibility",""),f=[],X5(this)&&(f=f.concat(["edit"])),gjh(this)&&(f=f.concat(["delete"])),W5(this)&&(this.C.Dc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new Ceh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Wa(d));this.Ma=a.eb("docos-replyview-body",b);this.Pf=a.eb("docos-streamreplyview-text",b)||
this.Ma;this.Da=a.eb("docos-collapsible-replyview",b);this.ub=a.eb("docos-replyview-timestamp",b);W5(this)&&Wdh(this.fd().C)&&(this.Ba=a.eb("docos-replyview-quote",b),this.jb=a.eb("docos-replyview-quote-expand",b),this.Xa=a.eb("docos-replyview-quote-collapse",b));(this.Gb=a.eb("docos-show-less",b))&&ljh(this);this.dg=a.eb("docos-show-more",b);this.Od=a.Vf("docos-replyview-static",b);X5(this)&&this.D&&mjh(this);(X5(this)||gjh(this))&&(this.fb=a.eb("docos-replyview-control",b))&&P(this.fb,!this.fd().isResolved());
this.Ja=uV(a,"IMG","docos-replyview-avatar",b);if(f=a.eb("docos-user-presence",b))d=this.C,c=(h=d.hd)&&c.getId()?h(c.getId()):(d=d.rD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Va=a.eb("docos-replyview-origin",b);njh(this);this.C.cH()&&(!this.xa&&W5(this)?this.Qa=this.H.vd:this.Qa=a.eb("docos-new-tag",b),a=P4(this.F),c=this.O,a=a.H.has(c)?a.H.get(c):new Set,c=V5(this))&&(a=a.has(c.getId()),this.Qa&&P(this.Qa,a));e&&(this.Sa=e,ojh(this,Ne(e)),pjh(this),qjh(this));rjh(this)};
function rjh(a){if(Beh(a.C)){var b={AUTHOR_NAME:V5(a).hx().getName(),CREATION_TIME:jjh(a)};if(a.Ma.textContent)if(ijh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ma.textContent;b.ACTION_TEXT=ijh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ma.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=ijh(a);c=(new RA(c)).format(b);zx(a.getElement(),c)}}
function sjh(a){var b=a.fd();if(b)if(b.isResolved()){if(a.H.XBa(!1),b=a.fd())b.Vj(),tjh(a,!1,Tch(a.H))}else a.dispatchEvent("br"),a.H.XBa(!1),(b=a.fd())&&(b.Vj()?ujh(a):tjh(a,!0,Tch(a.H))),a.dispatchEvent("ar")}function vjh(a){a.D||(a.D=new Lhh(a.F,a.oa(),a.H),a.qa(a.D),a.Ga(a.D),a.D.ma="Edit your comment...",a.D.Cb=!1,M4(M4(M4(a,a.D,"p",a.Ngc),a.D,"c",a.GHa),a.D,"s",a.JSb),a.getElement()&&mjh(a))}
function mjh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.xa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):W5(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=ijh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");var h=dgh(new P5);d=zy(agh,{Ee:c,XKa:d,uoa:e,jK:f,Fj:a.C.Fj(),dD:a.C.Da,dH:h,eH:yeh(a.C),Ev:b5(a.C)});c=a.getElement();e=b.eb("docos-edit-pane-placeholder",c);b.WC(d,e);a.D.Wa(d);a.D.setVisible(!1);d=a.H.getElement();a.D.xa=d;a.vd=
b.eb("docos-edit-pane-action-text",c)}m.j$b=function(a){a&&a.stopPropagation();sjh(this)};
m.Ia=function(){K4.prototype.Ia.call(this);M4(this,this.getElement(),["click","keypress","keyup"],this.KSb);this.Ba&&(M4(M4(this,this.Xa,"click",this.I4a),this.jb,"click",this.I4a),wjh(this));this.J&&M4(this,this.J,"action",this.j$b);this.ma&&this.V&&M4(M4(M4(this,this.ma,"action",this.q7b),this.V,"action",this.i$b),this.C,"r",this.LSb);this.L&&M4(M4(M4(this,this.L,"d",this.h8b),this.L,"e",this.MSb),this.L,"ra",this.a$b);var a=V5(this).hx();xjh(this,a);this.Ra&&yjh(this,a);zjh(this,a);this.D&&(a=
this.H.getElement(),this.D.xa=a);this.collapse();Beh(this.C)&&Fp(this.getElement(),!0)};m.LSb=function(){kjh(this)};
function kjh(a){var b=a.fd();if(b){var c=V5(a);if(c){var d=c.Vj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.JI())return;d=a.C.D;d=c.Vj()&&"full"==d.C&&xfh(P4(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Vj()&&(heh(e,c)||"full"==e.C)&&xfh(P4(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&L4(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&L4(a.F).C.C(a.V.getElement(),f);a.ma.Pa(d);a.V.Pa(b)}else Leh(b)?
(c=!0,a.J.Pa(!1),P(a.J.getElement(),!1)):(c=cjh(a),a.J.Pa(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":P4(a.F).xa?"Mark as resolved":"Mark as resolved and hide discussion",a.C.hga()||Ep(a.J.getElement(),d),a.J&&a.J.getElement()&&L4(a.F).C.C(a.J.La(),b));!a.Dc||null!==a.hd&&a.hd==c||(P(a.Dc,c),a.hd=c)}}}}function Ajh(a){var b=F4(E4(D4(a.H.getId()),a.H.fb)),c=R4(a.F);c.zf("docos-before-highlight-doco").qb(b);U5(P4(a.F),a.H.getId());c.zf("docos-highlight-doco").qb(b)}
m.MSb=function(){Ajh(this);Bjh(this)};m.h8b=function(){Ajh(this);W5(this)?this.H.v3a():Cjh(this)};m.a$b=function(a){Ajh(this);this.dispatchEvent(new egh("ra",this.O));a.stopPropagation()};function xjh(a,b){var c=b.D,d=O4(a.F);a.Ja&&Yih(b,V5(a).getOrigin())&&(c=Kfh(d),Dx(a.Ja,"docos-avatar-unverified"),a.C.C.C(a.Ja,"Author from imported document"));Qch(d,a.Ja,c,J4(b))}function yjh(a,b){(b=b.getName())?(b=uL(a.ob,b),We(a.Ra,b)):(b=uL(a.ob,""),We(a.Ra,b))}
function zjh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ra&&a.C.C.C(a.Ra,c),a.Ja&&a.C.C.C(a.Ja,c))}function Djh(a,b){a.J&&a.oa().Ti(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Ti(a.ma.getElement(),b),a.oa().Ti(a.V.getElement(),b));a.L&&a.L.Kh(b);a.R&&a.oa().Ti(a.R.getElement(),b)}function Ejh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.jl()&&this.Cb&&wjh(this);var a=this.D&&X5(this)&&S5(this.D),b=djh(this),c=Ne(b),d=!this.Sa||Ne(this.Sa)!=c;d&&(this.Sa=b,We(this.Ma,b),qjh(this));pjh(this);ojh(this,c);W5(this)||this.dispatchEvent(new Q5(this.getId()));X5(this)&&this.fb&&!a&&P(this.fb,!this.fd().isResolved());b=V5(this).hx();xjh(this,b);this.Ra&&yjh(this,b);zjh(this,b);njh(this);if(this.xa&&!a){switch(this.cb){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.jl()?this.expand():this.collapse()}ljh(this)}this.EVa();
d&&(this.D&&this.D.tb()&&this.D.reset(!0),this.GHa());kjh(this);this.R&&this.R.update();this.L&&this.L.update();rjh(this)};m.fB=function(){if(this.Lc){var a=Fjh(this,this.Lc);a.Vo()!=this.Sa.Vo()&&(this.Sa=a,We(this.Ma,this.Sa),qjh(this))}};function djh(a){var b=V5(a),c=b.qha();if(!c){c=b.getContent();var d=b.zs();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Vj()&&(c=tih(b,a.C));c=uL(a.ob,c)}a.Lc=c;return Fjh(a,c)}
function Fjh(a,b){var c=P4(a.F),d=c.O;if(!d)return b;a=(c=Iih(c,a.C))&&c.getKey()==V5(a).getId()?c.getValue():void 0;c=Nih();var e=qp("DIV");e.appendChild(sp(uL(c,mf(d))));d=e.innerHTML;e.replaceChild(sp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new kn(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new kn(f,r)),f=r):k||((w=Kd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new kn(f,r+1)),h=Lih(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=Lih(q,b,h);h+=b.slice(f,b.length);return uL(c,h)}m.EVa=function(a){if(this.ub){var b=jjh(this);b&&(a&&(this.ub.textContent=b),a=V5(this),W5(this)||this.xa||a.Lu().equals(a.aR())||(this.ub.textContent=b))}};function jjh(a){var b=a.bf,c=V5(a),d=c.Lu();return d?a.xa||W5(a)||!(a=c.aR())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return Kw(this.getElement())};m.JSb=function(a){this.dispatchEvent(new Q5(this.O));a.stopPropagation()};function Cjh(a){var b=a.getElement();b&&(a.C.ob?(b=a.C.jb,b(function(){return a.Ne()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):Uih(a.F,a.oa()).prompt(b,a.Ne,"delete-reply",a,a.H.getElement(),!a.xa))}
m.KSb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!W5(this)&&Cx(c,"docos-replyview-delete")&&b?(Cjh(this),a.stopPropagation(),a.preventDefault()):Cx(c,"docos-replyview-edit")&&b?(Bjh(this),a.stopPropagation(),a.preventDefault()):Cx(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new Q5(this.O)),this.Gb.focus()):Cx(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new Q5(this.O)),this.dg.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Cp(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function Gjh(a,b){var c=a.fd();if(!c||xfh(P4(a.F),c)){var d=V5(a);d&&d.JI()&&(c=a.C.H[b])&&(a=L5(P4(a.F),a.O))&&(d=d.nA&&d.nA()&&!d.isResolved()?m5(d):void 0,b=(new H4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function ujh(a){var b=a.fd();b&&b.Vj()&&Gjh(a,"before-suggestion-accepted")}m.q7b=function(){var a=Date.now();ujh(this);this.rb&&this.rb.fp("dsabb",Date.now()-a)};function tjh(a,b,c){var d=a.fd(),e=a.H;e.D&&S5(e.D)&&e.D.setValue("");d&&!d.Vj()&&d.isResolved()!=b&&R4(a.F).zf("docos-resolve-doco").qb(new Nch(a.O,b,c||null,a.xa?null:105))}m.i$b=function(){var a=Date.now();Gjh(this,"before-suggestion-rejected");this.rb&&this.rb.fp("dsrbb",Date.now()-a)};
m.expand=function(){V5(this).Vj()||(Fx(this.Da,"docos-collapsed-replyview"),this.cb=150>=this.Da.offsetHeight?2:1,ljh(this))};m.collapse=function(){!V5(this).Vj()&&this.xa&&(Fx(this.Da,"docos-collapsed-replyview"),150>=this.Da.offsetHeight?this.cb=2:(this.cb=0,Dx(this.Da,"docos-collapsed-replyview")),ljh(this))};function ljh(a){if(!V5(a).Vj()){var b=1==a.cb;b!=a.Vd&&(a.Gb.style.display=b?"block":"none",a.Vd=b)}}function W5(a){return"root"==a.getId()}
function gjh(a){var b=V5(a);return b?jeh(a.C.D,b)&&!a.C.ma:!1}function X5(a){var b=V5(a);return b?ieh(a.C.D,b):!1}function cjh(a){var b=a.fd();return b?keh(a.C.D,b):!1}m.ISb=function(){if(this.isDisposed())return!1;R4(this.F).zf("docos-delete-reply").qb({bk:this.O,lBa:this.getId(),xf:this.xa?null:105});return!0};function Bjh(a){X5(a)&&(vjh(a),Hjh(a,!1),a.Da&&a.expand(),a.D.setVisible(!0),a.D.ub=!0,a.D.ready(V5(a).Ux()))}
m.GHa=function(){X5(this)&&(Hjh(this,!0),this.Da&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.ub=!1))};m.Ngc=function(){if(X5(this)){vjh(this);var a=R4(this.F),b=this.D.getValue(),c=this.xa?null:105;Ld(b)||(W5(this)?a.zf("docos-edit-doco").qb({id:this.O,text:b,vqa:this.D,xf:c}):(b={bk:this.O,lBa:this.getId(),text:b,vqa:this.D,xf:c},a.zf("docos-edit-reply").qb(b)))}};function Hjh(a,b){for(var c=0;c<a.Od.length;++c)P(a.Od[c],b)}
m.I4a=function(){var a=Cx(this.Ba,"docos-replyview-quote-collapsed");P(this.jb,!a);P(this.Xa,a);this.Cb=!a;a?Jx(this.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):Jx(this.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function wjh(a){!a.Ba||0>=Hw(a.Ba).height||(Jx(a.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<Hw(a.Ba).height?(P(a.jb,!0),P(a.Xa,!1),Jx(a.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.jb,!1),P(a.Xa,!1)),a.Cb=!0)}m.xd=function(){K4.prototype.xd.call(this);Q4(O4(this.F),this.Ja)};function njh(a){var b=hjh(a);b?(b=uL(a.ob,b),We(a.Va,b),P(a.Va,!0)):P(a.Va,!1)}
function hjh(a){var b=V5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=jY(a.dh)&&Mj(jY(a.dh),33)&&b.owa()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function ijh(a){var b=a.Pg;var c=V5(a),d=a.fd();c&&d?(a=c.pha(),0==a&&N4(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.nC(),c=(d=Leh(d))&&d.getId()!=c.getId(),a=I4(a),b=Ich(a,b.C,!0),b=c?(new RA("Reassigned to {user}")).format({user:b}):(new RA("Assigned to {user}")).format({user:b})):b=""):b="";return b}function ojh(a,b){b=-1==ye(b,!0);if(null===a.Pc||b!=a.Pc)ZYe(a.Pf,b),a.Pc=b}
function pjh(a){var b=ijh(a);a.Mb&&Ep(a.Mb,b);a.vd&&Ep(a.vd,b)}function qjh(a){if(a.C.Cb)for(var b=ep("A",a.Ma),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Qf(d,So,a.O7b)}}m.O7b=function(a){UYe(this.C.Cb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var fjh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,ejh=/[\n-\x0B]/g;function Ijh(a,b){K4.call(this,a,b);this.D=!1;this.F=null}t(Ijh,K4);Ijh.prototype.Ca=function(){var a=this.oa();this.pb(zy(Zfh,{},void 0,a));this.F=a.eb("docos-showrepliesbutton-collapsed",this.getElement())};Ijh.prototype.setVisible=function(a){a!=this.D&&this.tb()&&(P(this.getElement(),a),this.D=a)};Ijh.prototype.isVisible=g("D");function Y5(a,b,c,d,e){R5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new ajh(a,b,this.fl(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Lc=u(this.ASb,this);this.Pc=lfh(a);this.Ja="docos-docoview-input-pane";this.Mb="";this.vd=this.Cb=this.hd=null;this.rb=!1;this.J=null;this.cb=new P5;Beh(this.C)&&(a=new wA(this),this.qa(a),a.uj("up",38),a.uj("down",40),this.getHandler().listen(a,"shortcut",this.Mvb))}t(Y5,R5);
function Jjh(a){if(!a.D){a.D=new Lhh(a.getContext(),a.oa(),a);a.qa(a.D);var b=Kjh(a);a.D.ma=b;a.D.Ce("Reply");a.rCa();a.getElement()&&Ljh(a)}}m=Y5.prototype;m.Mvb=function(a){switch(a.identifier){case "down":a=Mjh(this);var b=Njh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=Mjh(this),b=Njh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function Mjh(a){var b=n5(a.fd(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function Njh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Rp(e);if(d==f||e.contains(d,f))return c}return-1}
function Ljh(a){var b=a.oa(),c=dgh(a.cb);c=zy(agh,{Ee:a.Ja,XKa:"",uoa:a.Mb,jK:"",Fj:a.C.Fj(),dD:a.C.Da,dH:c,eH:yeh(a.C),Ev:b5(a.C)});var d=a.getElement(),e=b.eb("docos-input-pane-placeholder",d);b.WC(c,e);a.D.Wa(c);a.D.xa=d}m.rCa=function(){this.D&&M4(M4(M4(M4(M4(M4(this,this.D,"p",this.FSb),this.D,"c",this.DSb),this.D,"b",this.CSb),this.D,"e",this.ESb),this.D,"s",this.sZ),this.D,"f",this.FRb)};
m.Ca=function(){R5.prototype.Ca.call(this);var a=this.getElement(),b=this.oa();this.D&&Ljh(this);ux(a,"listitem");this.Cb=b.eb("docos-docoview-replycontainer",a);this.hd=b.eb("docos-docoview-rootreply",a);this.C.cH()&&(this.vd=b.eb("docos-root-new-tag",a));this.F.render(this.hd);Ojh(this)};m.Ia=function(){R5.prototype.Ia.call(this);M4(this,this.getElement(),["keydown","keypress","keyup"],this.BSb);if(this.D){var a=this.getElement();this.D.xa=a}Fp(this.getElement(),!0)};m.wb=g("Cb");
m.Hc=function(a){R5.prototype.Hc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&Eeh(b.L,a);b.R&&b.R.VVa(a)}};m.fl=ea(!1);m.TVa=function(a){if(!Cx(a.target,"docos-noclick")){var b=R4(this.getContext()),c=E4(D4(this.getId()),this.fb);b.zf("docos-before-highlight-doco").qb(F4(c));U5(P4(this.R),this.getId());b.zf("docos-highlight-doco").qb(F4(vch(c)));this.ma=!0;this.VZa(a)}};m.VZa=ba();
m.BSb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&Q$a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&leh(this.C.D)&&this.ma&&(Jjh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.v3a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.fd().Vj())this.Lc("suggestion");else if(b){var c=function(){return a.Lc("discussion")};this.C.ob?(0,this.C.jb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):Uih(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function Ojh(a){for(var b=n5(a.fd()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new ajh(a.getContext(),a.getId(),a.fl(),a.oa(),a,e);a.Ff(f,Yw(a,c)+1,!0);c=a.H[e]=f}}}m.FSb=function(){if(this.D){var a=this.D.getValue(),b=Bhh(this.D.H);b=b?Bdh(b):void 0;if(!Ld(a)){var c=L5(P4(this.getContext()),this.getId());this.dispatchEvent(new cih("sr",this.getId(),m5(this.fd()),c,a,void 0,b,this.fl()))}}};
m.DSb=function(){var a=j5(i5(h5(new g5,43012),this.fd().getId()),m5(this.fd()));this.fl()||(a.C=105);K5(this.Pc,k5(a))};m.CSb=function(){this.jl()&&(this.ma=!0)};m.ESb=function(){this.jl()&&(this.ma=!0)};m.q5a=function(){var a=P4(this.getContext()),b=this.fd().getId();a=a.H.has(b)?a.H.get(b):new Set;var c=this.F;b=a.has(b);c.Qa&&P(c.Qa,b);for(var d in this.H)b=this.H[d],c=a.has(d),b.Qa&&P(b.Qa,c)};
m.FRb=function(){if(dgh(this.cb)||cgh(this.cb)&&null==Tch(this)){var a=j5(i5(h5(new g5,43095),this.fd().getId()),m5(this.fd()));this.fl()||(a.C=105);K5(this.Pc,k5(a))}};m.focus=function(){Jjh(this);var a=this.jl();a&&Kw(this.getElement())&&leh(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=Rp(b);(Af&&!a||!b.contains(this.getElement(),a))&&eq(function(){this.tb()&&!b.contains(this.getElement(),Rp(b))&&this.getElement().focus()},0,this)}};
function Pjh(a){var b=a.fd();if(b){var c=null,d;b:{for(d=Yw(a,a.F);d<a.mc();d++){var e=a.Ac(d);if((e=e==a.J?null:e)&&2==(bjh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.mc();d++)if(e=a.Ac(d),e=e==a.J?null:e){if(2!=(bjh(e)||b).getOrigin())break;P(e.Va,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Va,!0)}}
m.update=function(){var a=this.fd();this.F.update();this.Ce(a.hx(),N4(a)||void 0);Ojh(this);for(var b in this.H){var c=this.H[b];c5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.rb&&(this.rb=a.isResolved(),Jjh(this),this.rb?(this.D.ma="Adding a comment will re-open this discussion...",this.D.Ce("Adding a comment will re-open this discussion")):(b=Kjh(this),this.D.ma=b,this.D.Ce("Reply")),!a.isResolved()&&S5(this.D)||this.D.reset(!0));ggh(this);!this.jl()&&
this.D&&this.D.blur();Pjh(this);a=this.Sa;b=this.getElement();a.C&&b&&a.F&&(Iw(b).contains(new Um(a.H,a.J))||Ufh(a,!1))};m.ASb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");R4(this.getContext()).zf("docos-delete-doco").qb({xn:m5(this.fd()),bk:this.getId(),Yp:L5(P4(this.getContext()),this.getId()),yT:a,xf:0==this.fl()?105:null});return!0};function Kjh(a){return cgh(a.cb)?"Reply or add others with @":"Reply..."}
function Qjh(a){var b=R4(a.getContext()),c=a.fl()?null:105;b.zf("docos-resolve-doco").qb(new Nch(a.getId(),!1,null,c))}function Tch(a){return a.D&&S5(a.D)?a.D.getValue():null}function Rjh(a){var b=a.getContext(),c=a.fd();c&&M5(lfh(b),f5(e5(d5(43045),c)));a=a.getId();R4(b).zf("docos-speak-doco").qb(a)}m.XBa=ba();m.Ka=function(){R5.prototype.Ka.call(this);this.J&&delete this.J;delete this.Cb;delete this.H;delete this.D};function Sjh(a,b,c,d,e){Y5.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Da=new Och(a,d,b,this);this.Ma=this.ob=this.Ra=null;this.Va=new wA(this);this.qa(this.Va);b=this.Va;b.uj("backToDocument",85);b.uj("resolve",69);b.uj("blur",27);b.uj("next",74);b.uj("next",Bt(["N","C"]));b.uj("prev",75);b.uj("prev",Bt(["P","C"]));b.uj("speakComment",Bt(["A","C"]));b.uj("reply",82);this.getHandler().listen(this.Va,"shortcut",this.xSb);this.getHandler().listen(this,"rd",this.ySb);this.Xa=!1;this.Ja+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Gb=null;z(y(),"docs-edp")&&(this.Gb=new Hhh(a,d,"unfocused-presenceindicator"));this.Vd="legacy"!=this.C.F;this.Ba=null}t(Sjh,Y5);m=Sjh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&P4(this.R).O&&this.fB();Y5.prototype.setVisible.call(this,a)};m.fB=function(){this.F.fB();for(var a in this.H)this.H[a].fB()};m.Hc=function(a){Y5.prototype.Hc.call(this,a);this.Da&&this.Da.Hc(a)};m.fl=ea(!0);m.FS=function(){return this.fd()?m5(this.fd()):null};
m.Ca=function(){Y5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Ra=a.eb("docos-replyview-control",b);this.ob=a.eb("docos-anchoreddocoview-internal",b);this.Ma=a.eb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.fd(),d=!!c&&keh(L4(this.getContext()).D,c);Hx(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=N4(c))a=a.eb("docos-anchoreddocoview-assigneecontainer",b),this.Da.render(a),Tjh(this,c);this.D&&(a=this.getElement(),
this.D.xa=a);this.Gb&&(a=this.oa().eb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Gb.render(a))};m.Ia=function(){Y5.prototype.Ia.call(this);var a=this.fd();a&&N4(a)&&this.Ff(this.Da,Yw(this,this.F));ggh(this);2<=Wd(this.fd().D)&&(a=Ujh(this))&&Vjh(this,a);this.r0(!0);Pjh(this);Wjh(this);M4(M4(this,this,"show",this.d_a),this,"hide",this.c_a)};
m.xd=function(){var a=this.fd();if(a)if(this.D&&S5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().zc(this,"show",this.d_a);this.getHandler().zc(this,"hide",this.c_a);Y5.prototype.xd.call(this)};m.Kh=function(a){this.oa().Ti(this.getElement(),a)};function Xjh(a,b){Djh(a.F,b);for(var c in a.H)Djh(a.H[c],b)}m.L8b=function(){var a=new qch(this.getId(),this.fb),b=R4(this.getContext());b.zf("docos-before-highlight-doco").qb(a);U5(P4(this.R),this.getId());b.zf("docos-highlight-doco").qb(a)};
m.ySb=function(){this.O=null;if(igh(this)){var a=this.Ma.scrollHeight>this.Ma.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new ZJ(b),M4(this,this.Ba,"mousewheel",this.gNb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?w9a():0;b=this.Vd?282:240;Fw(this.getElement(),b+a);Fw(this.Ma,b+a)}};m.d_a=function(a){a.target instanceof rz&&(Dx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.c_a=function(a){a.target instanceof rz&&(Fx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.XBa=function(a){this.Ra&&P(this.Ra,a)};m.qaa=ea(!0);m.update=function(){Y5.prototype.update.call(this);var a=this.jl();this.jl()?this.L||this.C.rb||(this.L=new FB(this.getElement(),this.oa()),this.qa(this.L),GB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Xa&&Yjh(this);this.Xa=a;Wjh(this);if(a=N4(this.fd()))this.Da.update(),Tjh(this,a);this.V&&this.WAa()};
function Wjh(a){var b=a.fd();null!=b.R&&(Jjh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.r0(!0);Pjh(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=Ujh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.wb().style.maxHeight="",Vjh(this,a),this.r0(!0),Pjh(this)}};m.rCa=function(){Y5.prototype.rCa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.r0,this,!0)),this.getHandler().listen(this.D,"e",this.gQa),this.getHandler().listen(this.D,"f",this.L8b))};
function Ujh(a){var b=L4(a.getContext()).gr;a=igh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function Vjh(a,b){var c=a.getElement(),d=Wd(a.fd().D);if(!(2>d||c.offsetHeight<b)){var e=Yw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new Ijh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Ff(a.J,f+e);var h=a.J;h.F&&Ep(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Ac(l+e).setVisible(!1)}}}
m.WAa=function(){var a=this.Vc();this.V&&this.expand();this.collapse();var b=this.Vc();cn(a,b)||this.dispatchEvent(new Q5(this.getId()))};m.r0=function(a){var b=igh(this);b&&(Jjh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.wb().style.maxHeight=b+"px":this.wb().style.maxHeight="",a&&(this.ob.scrollTop=this.ob.scrollHeight))};
m.xSb=function(a){var b=R4(this.getContext());switch(a.identifier){case "backToDocument":b.zf("docos-back-to-document").qb({bk:this.getId()});break;case "resolve":sjh(this.F);break;case "blur":this.gQa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":Rjh(this);break;case "reply":this.D.focus()}};m.gQa=function(){var a=R4(this.getContext());a.zf("docos-before-highlight-doco").qb(C4());U5(P4(this.R),null);a.zf("docos-highlight-doco").qb(C4())};
m.focus=function(){Y5.prototype.focus.call(this);this.Xa=this.jl();Yjh(this)};function Yjh(a){Jjh(a);S5(a.D)||a.Xa||a.D.reset(!0);a.jl()&&(a.expand(),a.cha());a.r0(!0);a.dispatchEvent(new Q5(a.getId()))}m.eU=function(a){Y5.prototype.eU.call(this,a);this.r0(!1)};m.Ka=function(){Y5.prototype.Ka.call(this);delete this.Va;delete this.Ra};function Tjh(a,b){var c=a.xa;c&&(a=Gch(b,a.C),Gx(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),Dx(c,a))}m.gNb=function(a){this.jl()&&a.stopPropagation()};function Zjh(a,b,c,d,e){this.It=a;this.$e=void 0===b?null:b;this.Sab=void 0===c?null:c;this.dja=void 0===d?null:d;this.gjc=void 0===e?!1:e}m=Zjh.prototype;m.getNewDocoType=g("It");m.getText=g("$e");m.getAssigneeEmail=g("Sab");m.getOriginatingDocoType=g("dja");m.getWasSmartTodo=g("gjc");function $jh(a,b,c,d){return Zjh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t($jh,Zjh);function Z5(a,b,c,d,e,f,h){R5.call(this,a,b,c,e,f);this.$r=d;this.Da=this.Va=null;this.D=new Lhh(a,this.oa(),this,h);this.Ga(this.D);this.Hc(b)}t(Z5,R5);m=Z5.prototype;m.Ca=function(){this.Da=new wA(this.getElement());this.qa(this.Da);var a=this.Da;a.uj("backToDocument",85);a.uj("blur",27);a.uj("next",74);a.uj("next",Bt(["N","C"]));a.uj("prev",75);a.uj("prev",Bt(["P","C"]));a.uj("reply",82)};
m.Ia=function(){R5.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.u_a).listen(this.D,"c",this.Bza).listen(this.D,"s",this.sZ).listen(this.D,"b",this.uSb).listen(this.D,"e",this.uua).listen(this.D,"f",this.Hza);this.getHandler().listen(this.Da,"shortcut",this.vSb);var a=this.getElement();this.D.xa=a;this.Va=new FB(this.getElement(),this.oa());this.qa(this.Va);GB(this.Va)};m.klb=function(a,b,c,d,e){R4(this.getContext()).zf("docos-convert-doco").qb({bk:a,xn:b,Yp:c,yZa:d,yT:e})};
m.u_a=function(){var a=this.Qxa()?this.Qxa().getEmail():void 0,b=this.fd().getNewDocoType()?this.fd().getNewDocoType():void 0,c=this.Eca();var d=this.fd().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new $jh(c,a,b,1==d);c=L5(P4(this.getContext()),this.getId());eq(u(this.klb,this,this.getId(),this.FS(),c,a,b))};m.jlb=function(a,b,c,d){R4(this.getContext()).zf("docos-delete-doco").qb({bk:a,xn:b,Yp:c,yT:d})};
m.Bza=function(){var a=L5(P4(this.getContext()),this.getId()),b=this.fd().getNewDocoType()?this.fd().getNewDocoType():void 0;eq(u(this.jlb,this,this.getId(),this.FS(),a,b))};m.fl=ea(!0);m.FS=g("$r");m.Rxa=ea(!0);m.TVa=function(a){akh(this);a.stopPropagation()};function akh(a){var b=R4(a.getContext()),c=vch(E4(D4(a.getId()),a.fb));b.zf("docos-before-highlight-doco").qb(F4(c));U5(P4(a.R),a.getId());b.zf("docos-highlight-doco").qb(F4(c))}
m.vSb=function(a){var b=R4(this.getContext());switch(a.identifier){case "backToDocument":b.zf("docos-back-to-document").qb({bk:this.getId()});break;case "blur":b.zf("docos-before-highlight-doco").qb(C4());U5(P4(this.R),null);b.zf("docos-highlight-doco").qb(C4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){ggh(this);this.cha()};m.uSb=function(a){this.sZ(a)};
m.uua=function(){var a=R4(this.getContext());a.zf("docos-before-highlight-doco").qb(C4());U5(P4(this.R),null);a.zf("docos-highlight-doco").qb(C4())};m.Hza=function(){this.jl()||akh(this)};m.focus=function(){this.jl()&&(Af?eq(this.H0a,0,this):this.H0a())};m.sZ=function(a){var b=igh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}R5.prototype.sZ.call(this,a)};
m.H0a=function(){this.D.ready();var a=this.oa(),b=Rp(a);(Af&&!b||!a.contains(this.getElement(),b))&&eq(function(){this.tb()&&this.getElement().focus()},0,this)};function bkh(a,b,c,d,e,f){Z5.call(this,a,b,c,d,e,f);this.H=new P5;cgh(this.H)?this.D.ma="Comment or add others with @":this.D.ma="Reply...";this.L=!1;this.F=this.J=null;this.Ba=lfh(a)}t(bkh,Z5);m=bkh.prototype;
m.Ca=function(){var a=this.oa(),b=this.C.Vg(),c="Unknown"===b.getName(),d=dgh(this.H);c=zy(bgh,{author:b.getName(),ah:b.C,oF:this.C.V&&!c?b.getId():null,bx:!0,fl:!0,Fj:this.C.Fj(),dD:this.C.Da,dH:d,eH:yeh(this.C),Ev:b5(this.C)},void 0,a);this.pb(c);this.D.Wa(a.eb("docos-docoview-input-pane",c));Ay()&&z(y(),"docs-ehspc")&&this.D.focus();this.J=a.eb("docos-author",c);this.F=uV(a,"IMG","docos-replyview-avatar",c);d=a.eb("docos-replyview-origin",c);P(d,!1);if(a=a.eb("docos-user-presence",c))if(c=this.C.hd)a.style.backgroundColor=
c(b.getId());Z5.prototype.Ca.call(this)};m.Ia=function(){Z5.prototype.Ia.call(this);ggh(this);var a=this.fd().Ux();Ld(a)||this.D.ready(a,!0,!0);a=this.C.Vg();Lfh(O4(this.getContext()),this.F,a.D,J4(a))};m.Qxa=function(){return Bhh(this.D.H)};m.Eca=function(){return this.D.getValue()};m.uua=function(a){S5(this.D)?this.sZ(a):Z5.prototype.uua.call(this,a)};
m.update=function(){Z5.prototype.update.call(this);var a=this.jl();a!=this.L&&(this.jl()||S5(this.D)?this.dispatchEvent(new Q5(this.getId())):this.Bza());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.L=a};m.Hza=function(){Z5.prototype.Hza.call(this);if(dgh(this.H)||cgh(this.H)&&null==(this.D&&S5(this.D)?this.D.getValue():null)){var a=j5(i5(h5(new g5,43094),this.fd().getId()),m5(this.fd()));K5(this.Ba,k5(a))}};
m.xd=function(){Z5.prototype.xd.call(this);R4(this.getContext()).zf("docos-edit-draft").qb({bk:this.getId(),text:this.Eca(),ZGa:this.F})};m.Ka=function(){Z5.prototype.Ka.call(this);delete this.J;delete this.F};function ckh(a,b,c,d,e,f){bkh.call(this,a,b,c,d,e,f);this.fd()}t(ckh,bkh);function dkh(a,b,c,d,e,f){bkh.call(this,a,b,c,d,e,f);this.fd()}t(dkh,bkh);dkh.prototype.V=function(a,b,c,d,e,f){this.dispatchEvent(new cih("sd",a,b,c,d,e,f,this.fl()))};dkh.prototype.u_a=function(){var a=L5(P4(this.getContext()),this.getId()),b=Bhh(this.D.H);if(null!=b){Mj(this.C.dh,38);var c=Bdh(b)}eq(u(this.V,this,this.getId(),this.FS(),a,this.Eca(),"instant-doco"==this.fd().It,c))};dkh.prototype.ma=function(a,b,c,d){R4(a).zf("docos-cancel-insert-discussion").qb({bk:b,xn:c,Yp:d})};
dkh.prototype.Bza=function(){var a=L5(P4(this.getContext()),this.getId());eq(u(this.ma,this,this.getContext(),this.getId(),this.FS(),a))};function ekh(a,b,c,d,e,f){b=Zjh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.od=a||null;return b}t(ekh,Zjh);ekh.prototype.getPosition=g("od");function fkh(a){this.dja=a}fkh.prototype.getOriginatingDocoType=g("dja");function gkh(a,b,c){this.dja=a;this.pS=b;this.pQb=c;return this}t(gkh,fkh);gkh.prototype.isTodo=g("pS");gkh.prototype.isWrongAssignee=g("pQb");function hkh(a,b,c,d,e,f){Z5.call(this,a,b,c,d,e,f,!0);this.Ma=this.Ja=this.H=this.L=this.ma=this.J=this.F=this.Ra=this.V=this.Ba=null;this.Xa=lfh(a)}t(hkh,Z5);m=hkh.prototype;
m.Ca=function(){var a=this.C,b=this.oa();a=zy(bgh,{fl:!0,ZY:!0,rcb:!!Mj(a.dh,41),Fj:a.Fj(),Co:"legacy"!=a.F,Ev:b5(a)},void 0,b);this.pb(a);this.D.Cb=!1;this.D.Wa(b.eb("docos-docoview-input-pane",a));this.Ba=b.eb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=Vw(this,"body");this.F=b.eb("docos-smarttodoview-feedback",a);this.Ja=b.eb("docos-smarttodoview-showfeedbackdialog-button",a);this.Ma=b.eb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");
c.push("disable");c.push("help");this.H=new Ceh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Wa(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=ikh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=ikh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Ra=jkh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=jkh(this,"docos-smarttodoview-feedback-submit"))&&
this.aEa());b=b.Fa("docos-smarttodoview-headertext",a);b.id=Vw(this,"headertext");wx(a,"labelledby",b.id);wx(a,"describedby",this.V.id);Z5.prototype.Ca.call(this)};function ikh(a,b,c){var d=a.oa(),e=a.getElement();b=d.eb(b,e);c=d.eb(c,e);e=null;b&&(e=new NQ(!1,d),c&&LQ(e,c),e.Wa(b),a.qa(e));return e}function jkh(a,b){var c=a.oa();b=c.eb(b,a.getElement());var d=null;b&&(d=new bA(null,c),d.Wa(b),zx(b,d.Ml()),a.qa(d));return d}
m.Ia=function(){Z5.prototype.Ia.call(this);M4(M4(M4(this,this.H,"e",this.OSb),this.H,"i",this.yvb),this.H,"h",this.qzb);this.F&&(this.Ja&&this.getHandler().Qf(this.Ja,So,this.SJb),this.Ma&&this.getHandler().Qf(this.Ma,So,this.rNb),this.J&&M4(this,this.J,"change",this.aEa),this.L&&M4(this,this.L,"change",this.aEa),this.Ra&&M4(this,this.Ra,"action",this.Gxb),this.ma&&M4(this,this.ma,"action",this.NSb));this.D.ready(void 0,void 0,!0);this.update()};
m.cha=function(){Z5.prototype.cha.call(this);this.xa&&Dx(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){Z5.prototype.update.call(this);var a=N4(this.fd());a=I4(a);a=Ich(a,this.C,!0);a=(new RA("Assign to {user}?")).format({user:a});Ep(this.Ba,a);P(this.Ba,!0);a=uL(new sL(new tL),this.fd().getContent());We(this.V,a);this.resize()};
m.OSb=function(){var a=I4(this.fd().nC()).getEmail();a=new ekh(void 0,"client-integrated-draft",this.fd().Ux(),a,"smart-todo",!0);var b=L5(P4(this.getContext()),this.getId());R4(this.getContext()).zf("docos-convert-doco").qb({bk:this.getId(),Yp:b,yZa:a,yT:"smart-todo"})};m.yvb=function(){R4(this.getContext()).zf("docos-disable-smart-todo-feature").qb()};
m.qzb=function(){Zw("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});K5(this.Xa,k5(j5(i5(h5(new g5,43029),this.fd().getId()),m5(this.fd()))))};m.SJb=function(){this.F&&P(this.F,!0);K5(this.Xa,k5(j5(i5(h5(new g5,43025),this.fd().getId()),m5(this.fd()))))};m.rNb=function(){R4(this.getContext()).zf("docos-write-feedback").qb({source:"smart-todo"})};m.Gxb=function(){this.F&&P(this.F,!1);this.focus()};
m.aEa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Pa(a||b)};m.NSb=function(){R4(this.getContext()).zf("docos-reject-doco-with-feedback").qb({bk:this.getId(),xn:this.FS(),Yp:L5(P4(this.getContext()),this.getId()),yT:"smart-todo",Ykb:new gkh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.Qxa=function(){return N4(this.fd())?I4(N4(this.fd())):null};m.Eca=function(){return this.fd().Ux()};
m.Ka=function(){Z5.prototype.Ka.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ja;delete this.Ma};function kkh(a,b,c,d){this.C=a;this.H=b;this.gb=c;this.D=d}kkh.prototype.F=function(a){a=P4(this.C).fd(a);var b=this.H.vk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new dkh(this.C,a.getId(),b,m5(a),this.gb,this.D);case "client-integrated-draft":return new ckh(this.C,a.getId(),b,m5(a),this.gb,this.D);case "smart-todo":return new hkh(this.C,a.getId(),b,m5(a),this.gb,this.D);default:return new Sjh(this.C,a.getId(),b,this.gb,this.D)}};function lkh(a,b){this.C=a;this.D=b}lkh.prototype.clone=function(){return new lkh(this.C,this.D)};lkh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function $5(a,b){Wo.call(this);this.gb=b;this.L=a;this.D=null;if(a=a6(this).L)this.D=new lkh(a,!0);this.xa=!a;this.Ba=!a;this.ob=this.H=null}v($5,Wo);m=$5.prototype;m.TBa=da("O");m.vk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.RQ=function(){return[]};m.pr=function(){return this.H?this.H.getId():null};m.WW=function(){return this.H?l5(this.H):null};m.XW=function(){var a=this.pr();return a?this.O.Fc(a):null};
m.oa=g("gb");function a6(a){return L4(a.L)}m.getContext=g("L");m.$G=function(){return this.vk().getId()};m.wca=g("D");m.zka=function(a,b){var c=this.pr();return a||c?b==this.$G()||this.D&&this.D.C==a?!0:!fgh(this,a):!1};function fgh(a,b){if(a.pr()==b)return!0;a=a.WW();return!!a&&a==b}
m.eqa=function(a,b,c){if(this.zka(a,b)){var d=fgh(this,a)?null:this.H;this.H=P4(this.L).fd(a)||null;var e=d&&a!=d.getId()&&(!l5(d)||a!=l5(d));if(e){var f=this.O.Fc(d.getId());f&&!d.Pq()&&f.update()}d=!d||e;b=b==this.$G()&&(void 0===c||c);a&&(d||b)&&(d&&this.j1a(),(c=this.O.Fc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new lkh(a,b),d&&this.Iza(a))}};m.j1a=ba();
m.dTa=function(a,b){var c=R4(this.L);c.zf("docos-before-highlight-doco").qb(a);U5(P4(this.L),b.getId());c.zf("docos-highlight-doco").qb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==a6(this).L&&(a=a6(this).H["highlight-initial-doco"]))&&(b=(new H4("highlight-initial-doco")).addAnchorId(m5(b)).addDocoHandle(L5(P4(this.getContext()),c)).setNonAnchored(!(b.nA()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){mkh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){mkh(this,!1,void 0,a,b,c)};m.Oia=ba();m.Mia=ba();function mkh(a,b,c,d,e,f){var h=P4(a.L),k=nkh(a,h,b,!!d,!!e);k||!c||e||(k=nkh(a,h,!b,!!d,!1));b=R4(a.L);k&&(a=F4(vch(uch(sch(E4(D4(k.getId()),a.$G())),void 0!==f?f:!0))),b.zf("docos-before-highlight-doco").qb(a),U5(h,k.getId()),b.zf("docos-highlight-doco").qb(a))}
function nkh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.vk().mc();if(0==h)return null;a:{var k=a.pr();if(k){var l=a.vk();if(k=l.Fc(k)){l=Yw(l,k);break a}}l=-1}0>l&&(l=0,f=a.vk().Ac(l));for(k=l;!f||d&&!xfh(b,f.fd());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.vk().Ac(l)}return f}
m.Iza=function(a){if(a==a6(this).L){var b=this.O.Fc(a);b&&b.jl()&&!this.Ba&&(this.Ba=!0,b=a6(this).H["linked-doco-highlighted"])&&(a=P4(this.L).fd(a),a=wch("linked-doco-highlighted").addAnchorId(m5(a)).setUserInitiated(!0).build(),b(a))}};m.Tca=function(a){for(var b=this.vk(),c=b.mc(),d=c,e=0;e<c;++e){var f=b.Ac(e);if(f&&0>=this.aW(a,f)){d=e;break}}return d};
function okh(a){if(a.z4()){for(var b=a.vk(),c=[],d=b.mc(),e=0;e<d;++e)c.push(b.Ac(e));c.sort(u(a.aW,a));for(e=0;e<d;++e)b.Ac(e)!=c[e]&&b.Ff(c[e],e)}}m.Lz=function(){Ofh(O4(this.getContext()))};m.qK=ba();m.rla=function(a){(a=this.O.Fc(a))&&a.q5a()};m.dqa=function(){for(var a=this.vk().mc(),b=new Vbh,c,d=0;d<a;d++)c=this.vk().Ac(d),null!=c&&(c=c.fd(),null!=c&&eih(b,c));return Wbh(b)};m.YK=ya;m.oba=re;m.X2=re;m.Y2=ba();m.Ka=function(){$5.Ya.Ka.call(this);this.H=null};
m.cqa=function(a){a=a.rW()||a;a instanceof $5&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ba=this.Ba)};m.rW=ea(null);m.SBa=da("ob");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof $5){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ba==a.Ba}else a=!1;return a};function pkh(a,b){Ko.call(this,a);this.EJa=b}v(pkh,Ko);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function qkh(a){this.C=[];if(a)a:{if(a instanceof qkh){var b=a.cf();a=a.Ed();if(0>=this.ke()){for(var c=this.C,d=0;d<b.length;d++)c.push(new hY(b[d],a[d]));break a}}else b=Yd(a),a=Xd(a);for(d=0;d<b.length;d++)rkh(this,b[d],a[d])}}function rkh(a,b,c){var d=a.C;d.push(new hY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=qkh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)md(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function skh(a){return a.C[0]&&a.C[0].getKey()}m.Ed=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.cf=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Av=function(a){return gd(this.C,function(b){return b.getValue()==a})};m.Wg=function(a){return gd(this.C,function(b){return b.getKey()==a})};m.clone=function(){return new qkh(this)};m.ke=function(){return this.C.length};m.isEmpty=function(){return ld(this.C)};m.clear=function(){md(this.C)};function tkh(){qkh.call(this)}v(tkh,qkh);tkh.prototype.enqueue=function(a,b){rkh(this,a,b)};function ukh(a,b){$5.call(this,a,b);this.V=P4(this.getContext());this.C={};this.R={};this.fb=new tkh;this.J=new ych}v(ukh,$5);m=ukh.prototype;m.RQ=function(){var a=ukh.Ya.RQ.call(this);a.push("docos-layout-anchored");a6(this).Fd&&a.push("docos-layout-anchored-shadows");return a};m.npa=function(a){return(new kkh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.zP=function(a){if(this.V.ma(a)){var b=a.getId(),c=L5(this.V,b),d=this.Nra(c,!1);if(d){var e=this.npa(a);this.R[c]&&delete this.R[c];c=this.Tca(e);if(c<=this.vk().mc()&&-1<c)for(vkh(this,e,d,c);!this.fb.isEmpty()&&skh(this.fb)<=this.vk().mc();)e=this.fb.remove(),vkh(this,e.view,e.position,e.index);else this.fb.enqueue(c,new wkh(e,d,c))}else this.R[c]=a;b=uch(D4(b),!a.ZY());a.Vj()||E4(b,this.$G());d&&a.bx()&&Ld(a.Ux())&&(d=R4(this.getContext()),d.zf("docos-before-highlight-doco").qb(F4(b)),U5(this.V,
a.getId()),d.zf("docos-highlight-doco").qb(F4(b)));(d=this.wca())&&d.C==a.getId()&&(uch(b,d.D),eq(u(this.dTa,this,F4(b),a),0))}};function vkh(a,b,c,d){var e=Ra();a.vk().Ff(b,d,!0);a.yia(c.x,c.y,b,!1);b=Ra()-e;(a=a6(a).H["doco-rendered"])&&a(new xch("doco-rendered",b))}m.WT=function(a){var b=this.vk().Fc(a);a==this.pr()&&(this.H=null);if(b){var c=this.V.fd(a);c&&c.isResolved()&&b.fl()&&a6(this).vd?xkh(this,a,b):(this.vk().removeChild(b,!0),Tf(b));this.KK(this.C)}};
function xkh(a,b,c){function d(){q||(q=!0,Tf(c),wp(e),Dx(h,"docos-resolve-highlight"),eq(function(){Fx(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=zw(e),h=a6(a).vd,k=Hw(h),l=Hw(e),n=zw(h);n.x+=(k.width-l.width)/2;a.vk().removeChild(c);Dx(e,"docos-readonly");c.xd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;Af?ykh(a,e,f,n,d,b):zkh(a,e,c.getId(),f,n,d)}
function zkh(a,b,c,d,e,f){Ach(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";eq(function(){Qo(b,eFa,f);eq(f,570);Dx(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function ykh(a,b,c,d,e,f){var h=new nB(b,[c.x,c.y],[d.x,d.y],270),k=new Fib(b,270);k.play();zch(a.J,f,h,270,function(){Tf(h);Tf(k);e()})}
function Akh(a){var b=[];a.vk().Xe(function(c){var d=c.fd();null!=d&&null!=m5(d)?(d=L5(this.V,c.fd().getId()),this.Nra(d,!0)||this.R[d]||(this.R[d]=c.fd(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new pkh("rv",b))}m.nba=function(a){for(var b=je(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.KK(b)};m.W2=function(a){var b=je(this.C),c;for(c in a)b[c]=a[c];this.KK(b)};m.Nra=function(a){return this.C[a]||null};
m.oba=function(a){a=Bkh(this,a);return a?(a=a?a.getElement():null)?new Um(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=Bkh(this,a))?a.getDocoMaxHeight():null};m.bqa=function(a,b){(a=Bkh(this,a))&&a.eU(b)};function Bkh(a,b){return(b=O5(a.V,b))?a.vk().Fc(b.getId()):null}m.Ka=function(){ukh.Ya.Ka.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function wkh(a,b,c){this.bk=a.getId();this.view=a;this.position=b;this.index=c};function Ckh(a,b){ukh.call(this,a,b)}v(Ckh,ukh);m=Ckh.prototype;m.z4=ea(!1);m.aW=ea(0);m.q0=ya;m.NK=function(){Akh(this)};m.Lz=function(){Ckh.Ya.Lz.call(this);this.vk().Xe(function(a){var b=a.fd();b&&null!=m5(b)&&(b=L5(P4(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.yia(b.x,b.y,a,!1))},this)};m.KK=function(a){this.C=a;Akh(this);for(var b in this.C)(a=this.R[b])&&this.zP(a);this.Lz()};m.yia=function(a,b,c){(c=c.getElement())&&E$a(c,a,b,L4(this.getContext()).Yj)};function b6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Ld(f)?f:null}ua("docos.api.Assignee",b6,void 0);b6.prototype.getToken=g("L");b6.prototype.getToken=b6.prototype.getToken;b6.prototype.getEmail=g("F");b6.prototype.getEmail=b6.prototype.getEmail;b6.prototype.getAffinity=g("D");b6.prototype.getAffinity=b6.prototype.getAffinity;b6.prototype.getMatchingMethod=g("H");b6.prototype.getMatchingMethod=b6.prototype.getMatchingMethod;b6.prototype.O=g("C");
b6.prototype.isMatchedOnEmailUserName=b6.prototype.O;b6.prototype.getName=g("J");b6.prototype.getName=b6.prototype.getName;function Dkh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function Ekh(a,b,c,d){return new b6(a.C,b,d,a.L,a.D,c)}function Fkh(a,b){return a.C.toLowerCase().replace(Gkh,"")==b?a.D=!0:!1}Dkh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&Hkh(this,e)){var f=sf(e.getEmail());Ld(f)||c.push(Ekh(this,f,e.getName(),0))}}a.resolve(c)};
function Hkh(a,b){if(b.getEmail())var c=sf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||khh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(kd(jhh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&kd(f,d[h]))&&
1<d[h].length)return!0;return Fkh(a,e)}function Ikh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new Dkh(a[d],"full-query",b));return c}function Jkh(a,b){for(var c=[],d=0;d<a.length;d++)ud(c,Kkh(a[d],b));return c}function Kkh(a,b){return xhh(vhh,a).map(function(c){return new Dkh(c,"email",b)})}var Gkh=/^[@+]|[@+]$/g;function Lkh(a){this.nhc=a}Lkh.prototype.get=g("nhc");ua("docos.api.AssigneeThenable",Lkh,void 0);Lkh.prototype.get=Lkh.prototype.get;function Mkh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new mm;this.J=d}function Nkh(a,b,c){c=void 0===c?!1:c;var d=aq();a.C.C?Okh(a,b,d,c||!1):bhh(a.C).then(u(function(e,f,h){h?Okh(this,e,f,c||!1):f.reject()},a,b,d));return new Lkh(d.C)}function Okh(a,b,c,d){var e=Qa(Jkh,b,a.D);b=u(a.H,a,Qa(Ikh,b,a.D),c,function(){return c.resolve(null)},d);a.H(e,c,b,d)}
Mkh.prototype.H=function(a,b,c,d){a=a();for(var e=[],f=0;f<a.length;f++){var h=a[f];var k=this.C,l=aq();Ld(h.C)?l.resolve([]):Fkh(h,h.J)||h.C.toLowerCase()==h.F?l.resolve([Ekh(h,h.F,null,Number.MAX_VALUE)]):k.Lo(h.C,5,u(h.O,h,l));h=l.C;ud(e,h)}Pkh(this,e,b,c,d)};function Pkh(a,b,c,d,e){$p(b).then(function(f){for(var h=[],k=0;k<f.length;k++){var l=f[k];l.PQ&&l.value&&ud(h,l.value)}ld(h)?d():Qkh(a,h,c,e)})}
function Qkh(a,b,c,d){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var e=[],f=[],h=0;h<b.length;h++){var k=b[h];k.C?f.push(k):e.push(k.getEmail())}ld(f)?(Rkh(a,e),d?Skh(a,b,c):a.J(e).then(function(l){return Tkh(a,b,c,l)})):Skh(a,f,c)}else Skh(a,b,c)}function Skh(a,b,c){b.sort(Qa(Ukh,a.D));c.resolve(b[0])}function Rkh(a,b){var c=a.F;gAa(b,c.contains,c)||(a.F.addAll(b),K5(a.L,k5(h5(new g5,43026))))}
function Tkh(a,b,c,d){for(var e=[],f={H0:0};f.H0<d.length;f={H0:f.H0},f.H0++){var h=id(b,function(k){return function(l){return l.getEmail()==d[k.H0]}}(f));h&&e.push(h)}ld(e)?c.resolve(null):Skh(a,e,c)}function Ukh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function Vkh(a){this.tcb=a;return this}t(Vkh,A4);Vkh.prototype.getCancelAnchorId=g("tcb");Vkh.prototype.getCancelAnchorId=Vkh.prototype.getCancelAnchorId;function Wkh(a,b,c,d,e,f){a=G4.call(this,a,b,c,d,e,f||new A4)||this;a.C=!1;return a}t(Wkh,G4);Wkh.prototype.canPreventDefault=ea(!0);Wkh.prototype.preventDefault=function(){this.C=!0};function Xkh(a){return H4.call(this,a)||this}t(Xkh,H4);Xkh.prototype.build=function(){return new Wkh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new A4)};function Ykh(){this.D=!1}Ykh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};Ykh.prototype.yk=function(){return!this.D&&(null==this.C||this.C.yk())};function Zkh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=aq();this.L=c}v(Zkh,A);function bhh(a){if(!mre())return Xp(!1);if(a.C)return Xp(!0);if(!a.F){var b=je(Aqf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Lo(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.R)){var k=new LSd;h=L(k,1,h);h=obh(h);c.fp("dacpc",Ra()-a.L,h.sb())}})}return a.H.C}
Zkh.prototype.Lo=function(a,b,c,d){var e=this;if(!mre())return new vqf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(gf(a)&&this.F&&this.F.yk()){var k=new Ykh,l=Ra();this.H.C.then(function(){var n=e.J.R;if(k.yk()){var q=e.D.Lo(h,c);n&&n.fp("dcrdtdr",Ra()-l);k.D||(k.C=q)}else n&&n.fp("dcrdc",Ra()-l)});return k}return this.D.Lo(h,c)};Zkh.prototype.Ka=function(){delete this.D};function $kh(a){this.C=a}v($kh,A4);ua("docos.api.OriginatingDocoTypeArgs",$kh,void 0);$kh.prototype.getOriginatingDocoTypeArgs=g("C");$kh.prototype.getOriginatingDocoTypeArgs=$kh.prototype.getOriginatingDocoTypeArgs;function c6(a,b,c){this.C=c;this.$r=a;this.D=b}v(c6,$kh);ua("docos.api.ConvertDocoArgs",c6,void 0);c6.prototype.getAnchorId=g("$r");c6.prototype.getAnchorId=c6.prototype.getAnchorId;c6.prototype.getNewDocoArgs=g("D");c6.prototype.getNewDocoArgs=c6.prototype.getNewDocoArgs;function d6(a,b,c,d){this.F=a;this.od=void 0!==b?b:null;this.D=void 0==c?-1:c;this.C=d||null}v(d6,A4);d6.prototype.isInstantDoco=g("F");d6.prototype.getPosition=g("od");d6.prototype.getInstantDocoSpacerIndex=g("D");d6.prototype.getEntryPoint=g("C");d6.prototype.isInstantDoco=d6.prototype.isInstantDoco;d6.prototype.getInstantDocoSpacerIndex=d6.prototype.getInstantDocoSpacerIndex;d6.prototype.getEntryPoint=d6.prototype.getEntryPoint;function alh(a){this.F=a}alh.prototype.C=function(a,b){return b?(a=this.F.fd(b.bk))?N4(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};alh.prototype.D=ea(0);function blh(a,b){this.od=a;this.$r=b;return this}t(blh,A4);blh.prototype.getPosition=g("od");blh.prototype.getAnchorId=g("$r");blh.prototype.getPosition=blh.prototype.getPosition;blh.prototype.getAnchorId=blh.prototype.getAnchorId;function clh(a){A.call(this);this.C=a}t(clh,A);function K5(a,b){var c=L4(a.C).Qa;if(c){var d=new uk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);dlh(a,d,b.D);b.J&&(a=Dih(P4(a.C)).C.clone(),Zj(d,10,a));a=new meh;b.$r&&L(a,1,b.$r);c(b.H,b.F||void 0,d,a)}}
function M5(a,b){var c=L4(a.C).Qa;if(c){var d=b.fd();var e=new uk;var f=d.jwa();e=L(e,2,f);null!=d.mA()&&(f=Edh(d.mA()).length,L(e,8,f));null!=b.Ty&&(f=b.Ty.jwa(),L(e,3,f));if(null!=b.NW){var h=b.NW;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new UOd;var k=new QOd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Zj(f,2,h);Zj(e,5,f);break;case "suggestion":L(e,4,5);break;
default:L(e,4,0)}}null!=b.C&&L(e,7,b.C);null!=L4(a.C).Ra&&(f=L4(a.C).Ra,Zj(e,12,f));null!=L4(a.C).L&&(f=L4(a.C).L==d.getId(),L(e,13,f));f=d.JI();h=N4(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);dlh(a,e,d.getId());b.J&&(a=Dih(P4(a.C)).C.clone(),Zj(e,10,a));a=new meh;d=m5(b.fd());a=L(a,1,d);c(b.H,b.F||void 0,e,a)}}function dlh(a,b,c){a=P4(a.C).R;null!=c&&b.Hg(null!=a&&c==a.getId())}clh.prototype.Ka=function(){A.prototype.Ka.call(this)};function elh(){}elh.prototype.C=function(){return["Comment changed"]};elh.prototype.D=ea(0);function flh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Yp&&a.addDocoHandle(d.Yp),d.xn&&a.addAnchorId(d.xn));return a};function glh(a,b){this.C=a;this.NW=b;return this}t(glh,$kh);glh.prototype.getFeedback=g("NW");ua("docos.api.FeedbackArgs",glh,void 0);glh.prototype.getFeedback=glh.prototype.getFeedback;function hlh(a){this.xT=a;return this}t(hlh,A4);hlh.prototype.isOriginInStreamOrGutter=g("xT");ua("docos.api.HighlightDocoArgs",hlh,void 0);hlh.prototype.isOriginInStreamOrGutter=hlh.prototype.isOriginInStreamOrGutter;function ilh(a){var b=a.JOb,c=a.Nb,d=a.uPb;a=a.KOb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function jlh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=My(Ly,0<c.length?c[0]:"docs-instant-button");Oy.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;Ry(this,2,!0)}t(jlh,Oy);m=jlh.prototype;m.Ca=function(){var a=this.oa(),b={Nb:!1};b.JOb=this.R.join(" ");ld(this.J)||(b.uPb=this.J.join(" "));ld(this.L)||(b.KOb=this.L.join(" "));this.pb(zy(ilh,b,void 0,a))};
function klh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.tb()){var h=0>=c;a.isVisible()||h?(llh(a),mlh(a,b,d,f),e&&e()):(a.D=new nlh(b,d,f,e),b=!a.C,h||b||llh(a),a.C||(a.C=eq(function(){mlh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Rd;k&&k();a.D=null;a.C=null},c,a)))}}
m.ef=function(a){if(this.tb()){if(void 0===a?0:a)tw(this.getElement(),"top","0px"),Dx(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(Fx(this.getElement(),"docs-instant-button-visible"),Jw(this.La(),0),this.F=!1);llh(this)}};m.Xf=function(a){this.isVisible()&&(Oy.prototype.Xf.call(this,a),a.stopPropagation())};m.Um=function(a){this.isVisible()&&(Oy.prototype.Um.call(this,a),a.stopPropagation())};m.WR=function(a){this.isVisible()&&a.stopPropagation()};
function mlh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;Fx(a.getElement(),"docs-instant-quick-hide");Dx(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function llh(a){a.C&&(fq(a.C),a.C=null)}m.isVisible=function(){Cx(this.getElement(),"docs-instant-button-visible");return this.F};function nlh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Rd=d}nlh.prototype.getOpacity=g("C");function olh(a,b){K4.call(this,a,b);this.D=null;this.F=a}t(olh,K4);olh.prototype.Ca=function(){K4.prototype.Ca.call(this);this.D=new jlh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Wa(this.D.getElement())};
olh.prototype.Ia=function(){K4.prototype.Ia.call(this);L4(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||L4(this.F).C.D(this.getElement(),!0);this.D.Ia();M4(this,this.D,"action",this.H)};function plh(a,b,c,d){Ez(a.D.getElement(),"docos");L4(a.F).C.D(a.getElement(),!1);var e=a.D.H;klh(a.D,b,c,d,function(){e!=b&&L4(a.F).C.ef(a.getElement())})}olh.prototype.ef=function(a){this.D.isVisible()&&L4(this.F).C.D(this.getElement(),!0);this.D.ef(a)};olh.prototype.H=function(){this.ef();this.dispatchEvent("create-draft")};function qlh(a,b){A.call(this);this.D=a;this.F=L4(a);this.C=b;this.H=new Tz(this);a=R4(this.D);this.H.yb(a.Ta("docos-edit-reply"),ot,this.A8b).yb(a.Ta("docos-delete-reply"),ot,this.j8b).yb(a.Ta("docos-edit-doco"),ot,this.w8b).yb(a.Ta("docos-edit-draft"),ot,this.z8b)}t(qlh,A);function rlh(a,b,c,d,e,f){return e6(a,u(a.qPb,a,b,c,d,e,void 0===f?!1:f))}m=qlh.prototype;m.qPb=function(a,b,c,d,e,f,h){if(slh(h))return a=mfh(this.C,a,b,c,d,e),f.Xi.callback(a),a;f.Xi.callback(0);return 0};
m.sPb=function(a,b,c,d,e,f){if(slh(f))return a=ofh(this.C,a,b,c,d),e.Xi.callback(a),a;e.Xi.callback(0);return 0};m.pPb=function(a,b,c,d,e,f){if(slh(f))return a=pfh(this.C,a,b,c,d),e.Xi.callback(a),a;e.Xi.callback(0);return 0};function tlh(a,b){return e6(a,u(a.ncc,a,b))}m.z8b=function(a){var b=this,c=a.data;e6(this,u(this.y8b,this,c.bk,c.text)).addCallback(function(d){d&&c.ZGa&&Q4(O4(b.D),c.ZGa);return d})};m.y8b=function(a,b,c,d){f6(u(this.C.x8b,this.C,a,b),c,d)};
m.ncc=function(a,b,c){f6(u(this.C.ufb,this.C,a),b,c)};function ulh(a,b,c,d,e,f,h,k){return e6(a,u(a.Q$a,a,b,c,d,e,f,h,k))}
m.Q$a=function(a,b,c,d,e,f,h,k,l){if(slh(l)){l=this.C;var n,q;a&&(q=Aih(P4(l.C),a))&&"instant-doco"==q.It&&(n=31);var r=h5(new g5,43009);null!=q&&i5(r,q.getId());null!=n&&(r.C=n);q&&q.bx()&&a!=b&&qfh(P4(l.C),q.getId());a=uf();n=Ra();q=deh($dh($4(new Z4(a)),n),l.F.Vg());c&&a5(q,c,n);d&&(c=(new Ych).setType("text/plain").setValue(d),Zj(q.C,9,c));e&&(Zdh(q,e),r.J=e);f&&(ceh(q,f),r.D=f);c=bfh(p5(o5(q),!0),n);b&&($eh(c,b),j5(r,b));h&&(r.C=h);N5(P4(l.C),c);P4(l.C).flush();K5(l.D,k5(r));b=e?43096:f?43101:
null;null!=b&&K5(l.D,k5(h5(r,b)));b=L5(P4(l.C),a);k.Xi.callback(b);return b}k.Xi.callback(0);return 0};m.w8b=function(a){var b=a.data;e6(this,u(this.Kjb,this,b.id,b.text,b.xf)).addCallback(function(c){c||b.vqa.dispatchEvent("c")})};m.Kjb=function(a,b,c,d,e){f6(u(this.C.Jjb,this.C,a,b,c),d,e)};m.j8b=function(a){a=a.data;e6(this,u(this.i8b,this,a.bk,a.lBa,a.xf)).addCallback(ba())};m.i8b=function(a,b,c,d,e){f6(u(this.C.Heb,this.C,a,b,c),d,e)};
m.A8b=function(a){var b=a.data;e6(this,u(this.Mjb,this,b.bk,b.lBa,b.text,b.xf)).addCallback(function(c){c||b.vqa.dispatchEvent("c")})};m.Mjb=function(a,b,c,d,e,f){f6(u(this.C.Ljb,this.C,a,b,c,d),e,f)};m.R$a=function(a,b,c,d,e,f,h){f6(u(this.C.qfb,this.C,a,b,c,d,e),f,h)};m.bjc=function(a,b,c,d){f6(u(this.C.xfb,this.C,a,b),c,d)};m.cjc=function(a,b,c,d,e){f6(u(this.C.yfb,this.C,a,b,c),d,e)};m.Tcc=function(a,b,c,d,e,f){f6(u(this.C.vfb,this.C,a,b,c,d),e,f)};
function f6(a,b,c){slh(c)?(a(),b.Xi.callback(!0)):b.Xi.callback(!1)}m.Deb=function(a,b,c,d,e){f6(u(this.C.rfb,this.C,a,b,c),d,e)};m.gic=function(a,b,c){if(slh(c))return a=rfh(this.C,a),b.Xi.callback(a),a;b.Xi.callback(0);return 0};m.Iec=function(a,b,c,d){f6(u(this.C.wfb,this.C,a,b),c,d)};m.Geb=function(a,b,c){f6(u(this.C.tfb,this.C,a),b,c)};m.Feb=function(a,b,c){f6(u(this.C.sfb,this.C,a),b,c)};function vlh(a,b,c,d){return e6(a,u(a.z$a,a,b,c,d))}
m.z$a=function(a,b,c,d,e){if(slh(e)){e=this.C;a=O5(P4(e.C),a);if(wfh(e,a)){var f=uf();N5(P4(e.C),yfh(e,a,f,b));c||(c=e.D,b=e5(d5(b?43027:43028),a),b.J=!0,M5(c,f5(b)));b=L5(P4(e.C),a.getId(),f)}else b=0;d.Xi.callback(b);return b}d.Xi.callback(0);return 0};
m.XFa=function(a,b,c,d){if(slh(d)){d=this.C;for(var e=[],f=[],h=[],k=0;k<a.length;k++){var l=O5(P4(d.C),a[k]);if(wfh(d,l)){var n=uf();e.push(yfh(d,l,n,b));f.push(l.getId());h.push(n)}}vfh(P4(d.C),e,"c");a=[];for(k=0;k<f.length;k++)a.push(L5(P4(d.C),f[k],h[k]));c.Xi.callback(a);return a}a=[];c.Xi.callback(a);return a};function e6(a,b){var c=new tq,d={Xi:c};(a=a.F.Ne)?a(d,b):b(d,"edit-not-intercepted");return c}function slh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function wlh(a,b){A.call(this);this.C=[];this.F=new Fbh(a);this.D=Gbh(this.F,"user");this.J=Gbh(this.F,"control");this.Bd=new dq(b||50);this.Bd.start();Po(this.Bd,"tick",this.U1a,!1,this);this.J.Cf("setPeerReady_",u(this.Mec,this))}v(wlh,A);m=wlh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.U1a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Bd.stop(),a;}};m.Cf=function(a,b,c){this.D.Cf(a,b,c)};m.oJ=function(a){this.D.oJ(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({U_:a,xm:b})};m.Mec=function(a){a?this.Bd.stop():this.Bd.start();if(!this.H){this.H=!0;this.U1a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.U_,b.xm)}this.C=null}};m.Ka=function(){Tf(this.F);Tf(this.Bd);wlh.Ya.Ka.call(this)};function xlh(a){J(this,a,0,-1,null,null)}v(xlh,I);xlh.prototype.ea=function(){var a=new E;ylh(this,a);return Y(a)};function ylh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}xlh.prototype.getId=function(){return K(this,1)};xlh.prototype.Hc=function(a){return L(this,1,a)};function zlh(a){J(this,a,"u",-1,Alh,null)}v(zlh,I);var Alh=[1,2];zlh.prototype.ea=function(){var a=new E;var b=Yj(this,W4,1);0<b.length&&Gj(a,1,b,Teh);b=Yj(this,xlh,2);0<b.length&&Gj(a,2,b,ylh);return Y(a)};zlh.le="u";function Blh(a){Wo.call(this);this.C=a;this.Oa=new Xo(this);this.qa(this.Oa);this.Oa.listen(this.C,"u",this.D);this.C.Zd(this)}v(Blh,zfh);Blh.prototype.D=function(a){var b=qeh(a.xm.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new Afh("u",new zlh(b))));a.stopPropagation()};function Dfh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&Ea(n[0])&&d(n[0])});a.C.JJa(b,c?c.Nf():void 0,l,e,f,h,k)};function Clh(a,b,c){ere.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.oJ(u(this.D,this));this.F=b}v(Clh,ere);Clh.prototype.send=function(a,b){Ja(b)&&(b=Rm(b));this.C.send(a,{t:this.F,p:b})};Clh.prototype.D=function(a,b){fre(this,a,b)};Clh.prototype.Waa=function(a,b,c){b=Clh.Ya.Waa.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?Clh.Ya.Waa.call(this,a,b.p,c):null};function Dlh(){Wo.call(this)}v(Dlh,Wo);function Elh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Wo.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new yo;this.qa(this.J);zo(this.J,this.H.getStatus().C,function(l){l.D.Jk()&&Ol(l.C)?k.dispatchEvent(new Afh("r")):l.C.equals(Qza)?k.dispatchEvent(new Afh("p")):Pl(l.C)&&k.dispatchEvent(new Afh("e"))});this.F=function(l){l&&k.dispatchEvent(new Afh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(Elh,Dlh);
Elh.prototype.IJa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.kba)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new mNa;var b=this.D.Vg().getId();a.R=b;AMa(a,this.D.lba,this.O,this.D.aqa);this.C=a;this.C.subscribe("9",this.F)}};
Elh.prototype.JJa=function(a,b,c,d,e,f,h){b=b?["p",Rm(b)]:[];Flh(this,b,"/docos/p/"+a,c,d,e,f,h)};function Flh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?DAa(b):void 0;c=dr(a.H.We(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.uq();h?Rl(c,h):Rl(c,3);d&&Tl(c,function(n){d(n.Oe())});e&&Sl(c,e,f);k&&fr(c,k);null!=a.L&&(c.Ra=a.L);c.Re()}Elh.prototype.Ka=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());Dlh.prototype.Ka.call(this)};function Glh(a,b,c){this.seq=Hlh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var Hlh=1;function Ilh(a){Wo.call(this);this.C=a;this.C.Cf("recv",u(this.h$b,this),!0);this.C.Cf("recvEvt",u(this.g$b,this),!0);this.D={}}v(Ilh,Dlh);m=Ilh.prototype;m.h$b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.g$b=function(a){this.dispatchEvent(new Afh(a.type,a.payload))};m.IJa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.JJa=function(a,b,c,d,e,f,h){a=new Glh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ka=function(){Ilh.Ya.Ka.call(this);delete this.C};function Jlh(a){A.call(this);this.F=a;this.D=this.C=null}t(Jlh,A);
function Klh(a){if(a.C)return a.C;var b=L4(a.F),c=b.$pa;if(void 0!==c)return c&&(a.C=new Blh(c),a.qa(a.C)),a.C;if(b.FJa){var d=Fhd();c=new mMa(new l9b,void 0,void 0,void 0,new $Ja,void 0,void 0,$La(WLa(d)));var e=b.aqa;e&&c.g7(e);var f=b.HJa;f&&vMa(c,f);b.CLa&&eKa(c.D,"anon","true");(f=b.XTa)&&eKa(c.D,"invite",f);f=null;if(b.kba){f=new mNa;var h=b.Vg().getId();f.R=h;gKa(c.H,f);AMa(f,b.lba,d,e)}b=new Elh(c,!0,["id",b.lba],f,null!=b.V2?b.V2:6E4,b,d);b.qa(c);a.C=new Blh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.S_a;if(!b)throw Error("Peer missing.");c={};d=new Cm(window.location.href);(e=Nm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Cm(b)).toString());d=Fhd();b=(new Cm(b)).Ob("ctoken",d).toString();c.pu=b;a.D=qp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new TT(c);dse(b,a.D);b.connect();b=new wlh(b);c=Kch(a.F);b=new Clh(b,d,c);c=new Ilh(b);a.C=new Blh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
Jlh.prototype.Ka=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ka.call(this)};function Llh(a,b){this.C=a;this.F=b}Llh.prototype[Bva]=!0;function g6(a,b,c){var d=Ra();b();b=Ra()-d;a.F.fp(c,b)}m=Llh.prototype;m.eqa=function(a,b,c){a=u(this.C.eqa,this.C,a,b,c);g6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);g6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);g6(this,a,"dvmhp")};m.NK=function(){var a=u(this.C.NK,this.C);g6(this,a,"dvmla")};
m.Lz=function(){var a=u(this.C.Lz,this.C);g6(this,a,"dvmfl")};m.zP=function(a){a=u(this.C.zP,this.C,a);g6(this,a,"dvmadv")};m.q0=function(a){a=u(this.C.q0,this.C,a);g6(this,a,"dvmudv")};m.WT=function(a){a=u(this.C.WT,this.C,a);g6(this,a,"dvmrdv")};m.vk=function(){return this.C.vk()};m.TBa=function(a){this.C.TBa(a)};m.RQ=function(){return this.C.RQ()};m.pr=function(){return this.C.pr()};m.WW=function(){return this.C.WW()};m.XW=function(){return this.C.XW()};m.oa=function(){return this.C.oa()};
m.$G=function(){return this.C.$G()};m.wca=function(){return this.C.wca()};m.zka=function(a,b){return this.C.zka(a,b)};m.Oia=function(){this.C.Oia()};m.Mia=function(){this.C.Mia()};m.aW=function(a,b){return this.C.aW(a,b)};m.qK=function(a,b){this.C.qK(a,b)};m.rla=function(a){this.C.rla(a)};m.dqa=function(){return this.C.dqa()};m.YK=function(a){this.C.YK(a)};m.oba=function(a){return this.C.oba(a)};m.X2=function(){return this.C.X2()};m.Y2=function(a){this.C.Y2(a)};m.dispose=function(){this.C.dispose()};
m.isDisposed=function(){return this.C.isDisposed()};m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Nc=function(a,b,c,d){return this.C.Nc(a,b,c,d)};m.zc=function(a,b,c,d){return this.C.zc(a,b,c,d)};m.DU=function(a){return this.C.DU(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.RC=function(a){return this.C.RC(a)};m.xu=function(){return this.C.xu()};m.KQ=function(a,b,c){return this.C.KQ(a,b,c)};m.vL=function(a,b){return this.C.vL(a,b)};
m.ZD=function(a,b,c,d){return this.C.ZD(a,b,c,d)};m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.rW=function(){return this.C.rW()||this.C};m.cqa=function(a){this.rW().cqa(a)};m.equals=function(a){return this===a};m.SBa=function(a){this.rW().SBa(a)};function Mlh(a,b){Llh.call(this,a,b);this.D=a}t(Mlh,Llh);m=Mlh.prototype;m.nba=function(a){a=u(this.D.nba,this.D,a);g6(this,a,"davmddp")};m.W2=function(a){a=u(this.D.W2,this.D,a);g6(this,a,"davmudp")};m.KK=function(a){a=u(this.D.KK,this.D,a);g6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.bqa=function(a,b){this.D.bqa(a,b)};function Nlh(a){J(this,a,0,-1,Olh,null)}v(Nlh,I);var Olh=[1];Nlh.prototype.ea=function(){var a=new E;var b=Yj(this,W4,1);0<b.length&&Gj(a,1,b,Teh);b=K(this,2);null!=b&&Bj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Bj(a,4,b);b=K(this,5);null!=b&&a.Ha(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};function Plh(a){J(this,a,"sr",-1,Qlh,null)}v(Plh,I);var Qlh=[1];Plh.prototype.ea=function(){var a=new E;var b=Yj(this,W4,1);0<b.length&&Gj(a,1,b,Teh);b=K(this,2);null!=b&&Bj(a,2,b);b=K(this,3);null!=b&&Bj(a,3,b);return Y(a)};Plh.le="sr";function Rlh(a,b,c){Wo.call(this);this.C=a;this.xa=b;this.V=c||null;this.Oa=new Xo(this);this.qa(this.Oa);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new Tz(this);this.qa(this.ma);this.Oa.listen(this.H,"r",this.f$b).listen(this.H,"u",this.eac).listen(this.H,"e",this.sSb).listen(this.H,"p",this.tSb);this.Oa.listen(P4(a),["dd"],this.rSb).listen(P4(a),"bu",this.qSb)}t(Rlh,Wo);
function Slh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return Tlh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new tq),a.F="in-progress",Tlh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function Tlh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.SVa(b))}function Ulh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Sd(null):d.callback(c)}m=Rlh.prototype;
m.SVa=function(a){for(var b=P4(this.C),c=Eih(b),d=[],e=0;e<c.length;e++){d.push(fk(c[e].F));var f=c[e].getId();qd(b.J,f)}b=new Nlh;d=bk(b,1,d);this.L&&L(d,2,this.L);L4(this.C).Vra()&&(b=L4(this.C).Vra(),L(d,5,b));Dfh(this.H,"sync",d,u(this.d9b,this),u(this.c9b,this),!1,a?a:void 0)};m.c9b=function(){this.O=!1;Ulh(this,!0)};m.sSb=function(){this.dispatchEvent("net-error")};m.tSb=function(){this.dispatchEvent("post-limit-error")};
m.d9b=function(a){a=new Plh(a);var b=this.O;this.O=!1;var c=Ra();if(b){var d=h6(this.xa,"model-loaded");if(d){var e=(new H4("model-loaded")).build();d(e)}}d=P4(this.C);try{if(Vlh(this,a,b),this.L=K(a,2),Gih(d))eq(u(this.SVa,this));else{var f=Ra()-c;Ulh(this,!1,b?f:void 0);this.V&&this.V.fp("dscat",f)}}catch(h){throw eq(function(){throw h;}),h;}};
function Vlh(a,b,c){var d=P4(a.C),e=Cih(d),f=Yj(b,W4,1);b=0<f.length;var h=P4(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=fk(l.value);var n=V4(l),q=xih(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=P4(r.C);n=V4(l);delete e[q.getId()];var x=q.getId();if(kd(w.J,x))n=!1;else{x=q.getId();if(x=kd(w.Ma,x)){if(q.Pq()){Wlh(r,q);n=!1;break a}r=q.getId();qd(w.Ma,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=je(q.D);w=ja(T4(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(Xlh(fk(q[x.value].C)));q=T4(n);bk(n,8,sd(q,w));n=!0}}n&&k.push(new Zeh(l))}vfh(h,k,"n");h=ja(Eih(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.Pq()&&void 0===k.C.C.getId()&&Wlh(a,k);if(c){h=ja(Object.keys(e));for(k=h.next();!k.done;k=h.next())k=e[k.value],Xeh(k)||void 0===k.C.C.getId()&&!k.Pq()||(b=!0,k=fk(k.F),V4(k),f=V4(k),bk(f,8,[]),l=Ra(),L(f,13,l),L(f,12,!1),
L(k,9,!1),N5(d,new Zeh(k),"n"));if(L4(a.C).cH()&&(a=P4(a.C),e=a.L.Ij)){h=Cih(a);for(var F in h){k=h[F];f=[];if(l=k)l=k.isResolved(),n=k.Vj()&&!!Yeh(k),l=!(l||n);if(l){if(l=k.Lu())l=k.Lu().getTime()>e;if(l)f.push(F),f.push.apply(f,ka(Object.keys(je(k.D)))),Fih(a,F,f);else{l=n5(k);for(n=0;n<l.length;n++){q=l[n].getId();if(w=c5(k,q))w=c5(k,q).Lu().getTime()>e;w&&f.push(q)}0!=f.length&&Fih(a,F,f)}}}Bih(a)}}b&&d.flush(c)}
function Wlh(a,b){a=P4(a.C);var c=fk(b.F),d=V4(c);L(c,9,!1);L(d,12,!1);b=b.getId();qd(a.J,b);N5(a,new Zeh(c),"n")}function Xlh(a){var b=Ra();L(a,13,b);L(a,12,!1);return a}m.f$b=function(){var a=12E4*Math.random();null!==this.R&&fq(this.R);this.R=eq(function(){Slh(this,L4(this.C).Cfa?1:void 0)},a,this)};
m.eac=function(a){if(a.xm){var b=a.xm;a=P4(this.C);var c=0;b=Yj(b,W4,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=fk(d.value);var e=V4(d);e=xih(a,e.getId(),K(e,11));e&&e.lS()||(N5(a,new Zeh(d),"n"),c++)}0<c&&P4(this.C).flush()}};m.rSb=function(a){"n"!=a.getSource()&&wih(P4(this.C))&&Slh(this)};m.qSb=function(a){"n"!=a.source&&wih(P4(this.C))&&Slh(this)};m.Ka=function(){Wo.prototype.Ka.call(this);delete this.C;delete this.Oa;delete this.ma};function Ylh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.Oa=new Xo(this);this.qa(this.Oa);this.C=null;this.O=!1;this.J=null}t(Ylh,A);function Zlh(a){if(!Abh(a.H,"netIo"))return!1;a.C=new Rlh(a.H,a.F,a.D.R||void 0);a.qa(a.C);a.Oa.listen(a.C,"net-error",a.V);a.Oa.listen(a.C,"post-limit-error",a.R);return!0}Ylh.prototype.V=function(){$lh(this.F,"fe")};Ylh.prototype.R=function(){$lh(this.F,"p")};function amh(a){a.O=!0;a.J=Ra();wq(Slh(a.C,a.D.qD?1:void 0).addCallback(a.L,a),a.ma,a)}
function bmh(a){if(ueh(a.D)){var b=a.C.D;b?b.addCallback(function(){return cmh(a)}):cmh(a)}}Ylh.prototype.L=function(a){var b=this.D.R;b&&b.pCa(Dih(P4(this.H)).C.clone().sb());if(b=h6(this.F,"sync-success")){var c=(new H4("sync-success")).build();b(c)}(b=h6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new xch("initial-anchored-render-done",a));(a=h6(this.F,"initial-sync-and-render-complete"))&&a(new xch("initial-sync-and-render-complete",Ra()-this.J));$lh(this.F,"s");$lh(this.F,"r")};
Ylh.prototype.ma=function(){var a=h6(this.F,"sync-error");if(a){var b=(new H4("sync-error")).build();a(b)}$lh(this.F,"e")};function cmh(a){a.C.L=null;Slh(a.C,a.D.Cfa?1:void 0)};function dmh(){}dmh.prototype.C=function(a,b){return b?b.N1?["Action item created"]:["Comment created"]:[]};dmh.prototype.D=ea(0);function emh(){}emh.prototype.C=function(){return["Reply added"]};emh.prototype.D=ea(0);function fmh(a){var b=a.hab,c=a.QOb,d=a.b7b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function gmh(a){ZV.call(this);this.V=a;this.Ja=L4(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(gmh,ZV);m=gmh.prototype;
m.Ca=function(){ZV.prototype.Ca.call(this);Dx(Wx(this),"docos");var a=Pa(Wx(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;xy(this.wb(),fmh,{hab:this.O,QOb:this.R,b7b:this.ma});wy(this,"ok");a=this.Ja.cb;null!==a&&(tw(this.zr(),"z-index",a),tw(Wx(this),"z-index",a+1))};
m.Ia=function(){ZV.prototype.Ia.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=by(this.D,"ok");Po(this.F,"click",u(this.VDa,this));Po(this.H,"click",u(this.VDa,this));Po(this.L,"click",u(this.VDa,this))};
m.update=function(){this.xa.disabled=!0;hmh(Rfh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.yBa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}imh(Rfh(this.V),a)};m.VDa=function(){var a=this;hmh(Rfh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.xd=function(){Vo(this.F);Vo(this.H);Vo(this.L)};m.Ka=function(){ZV.prototype.Ka.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function jmh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}ua("docos.api.StorageUpdate",jmh,void 0);function kmh(a,b){if(a){b||a.unshift(void 0);lmh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),mmh(c[2],b),kmh(c[3],b),b&&c.shift());b&&a.shift()}}function mmh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function lmh(a,b){if(a){b||a.unshift(void 0);mmh(a[3],b);mmh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)lmh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function nmh(a){A.call(this);this.D=a;this.C=L4(a).Gb;this.H=[];this.F=[];L4(a).Yc||(this.Oa=new Xo(this),this.qa(this.Oa),this.Oa.listen(P4(a),["f","dd"],this.Afb).listen(P4(a),"bu",this.zfb))}v(nmh,A);m=nmh.prototype;m.Afb=function(a){if("o"!=a.getSource()&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=td(this.H);var b=td(this.F);this.C.N5a(a,b,u(this.sNb,this,a),u(this.qNb,this,b));this.H=[];this.F=[]}}else omh(this,a.type,a.C,a.L)};
m.zfb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,omh(this,a.type,c.bk,c.C)};function omh(a,b,c,d){if(c){var e;"bu"==b?e=P4(a.D).fd(c):e=P4(a.D).F[c];(b=e)&&b.Pq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!Xeh(b)&&(e=fk(b.F).Nf(),e=ke(e),kmh(e,!1),b=new jmh(c,e,b.lS()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.sNb=function(a){for(var b=0;b<a.length;b++);};
m.qNb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);pmh(this,d,c)};m.bAb=function(a,b){if(0<b.length){for(var c=P4(this.D),d=0;d<b.length;d++){Ea(b[d]);var e=ke(b[d]);kmh(e,!0);e=new W4(e);N5(c,new Zeh(e),"o")}c.flush(!0)}a()};m.aAb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);pmh(this,d,c);a()};
function pmh(a,b,c){if(a=Kch(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ka=function(){nmh.Ya.Ka.call(this);delete this.D;delete this.Oa;delete this.C};function qmh(a,b){var c=new Rqf(new Fqf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));Tqf(c,b);b=c.D;a=null!=K(a.dh,50)?K(a.dh,50):4;L(b,5,rmh(a));return iuf(c)}function rmh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function smh(a,b){this.F=a;this.D=b;this.H=L4(this.D);this.C=null};function tmh(a){this.F=a}tmh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.fd(b.C))?N4(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};tmh.prototype.D=ea(0);function umh(a,b){this.F=a;this.H=P4(this.F);this.J=b}umh.prototype.C=function(a,b){var c=this.H.fd(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.bx())return["Draft comment"];b=[];c=n5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Vj()){var h=this.J;var k=f.x4();null==k?h="":(h=h(k).C(),h=null==h?"":SAd(h,HAd.getInstance()))}else h=f.Ux();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(J4(f.hx())+(" on "+a.format(Vdh(f)))));b.push(h+f)}return b};
umh.prototype.D=ea(0);function vmh(a){this.hfc=a;return this}t(vmh,A4);vmh.prototype.shouldOverrideHide=g("hfc");vmh.prototype.shouldOverrideHide=vmh.prototype.shouldOverrideHide;function wmh(a){this.C=a}v(wmh,A4);ua("docos.api.ToggleShowStreamPaneArgs",wmh,void 0);wmh.prototype.getDisplay=g("C");wmh.prototype.getDisplay=wmh.prototype.getDisplay;function xmh(a){wA.call(this,a);this.uj("back-to-document",[85]);this.uj("next-doco",[74]);this.uj("prev-doco",[75]);this.uj("prev-anch",[75,1]);this.uj("next-anch",[74,1]);this.uj("resolve",[69]);this.uj("reopen",[69,1]);this.uj("reply",[82]);this.uj("speak-comment",Bt(["A","C"]));this.addEventListener("shortcut",this.Da)}t(xmh,wA);xmh.prototype.Da=function(a){this.dispatchEvent(a.identifier)};function ymh(a,b){var c=a.JK,d=a.Q6b,e=a.mbb,f=a.kbb,h=a.Co,k=a.n3,l='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';l+=jx("Comment history box.");var n='"><div class="'+T("docos-streampane-content")+'">';d?(b='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',a=a={Co:h},d="",a.Co?(d+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',d+="Comment</div></div>"):(d+='<div class="'+T("docs-material")+'">'+R(Bch({Ri:"docos-icon-add-comment",cC:"docos-icon-add-comment-size",Ee:"docos-new-comment-icon",oS:!0})),d+="Comment</div>"),a=S(d),b=b+R(a)+"</div>",c?(c='<div class="'+T("docos-notification-settings")+'">',h=h={Co:h},h=h.Co,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(Bch({Ri:"docos-icon-bell",cC:"docos-icon-bell-size",Ee:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=c+R(h)+"</div>"):h="",k=b+h+(k?'<div class="'+T("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=a.pD,k=a.JK,c=a.dD,a=a.Ev,h='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(Cch({size:48,Ee:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+
'"><div class="'+T("docos-streampane-username")+" "+T("goog-inline-block")+'">'+R(h)+"</div>"+R(agh({Ee:"docos-streampane-input-pane",ngc:!0,dD:c,Ev:a},b)),k&&(h+='<div class="'+T("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=S(h+"</div></div>"));l+=n+k;e&&(l+='<div class="'+T("docos-streampane-bannertext")+'">'+R(e),f&&(l+='<a target="_blank" rel="noreferrer" href="'+T(kx(f))+'" class="'+T("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+" "+T("goog-inline-block")+'">';return S(l+"You do not have permission to add comments.</div></div></div>")}function zmh(a){a=a.message;return S('<div class="'+T("docos-streampane-error")+'">'+R(a)+"</div>")};function Amh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+Bmh({ir:"spinner-blue"})+Bmh({ir:"spinner-red"})+Bmh({ir:"spinner-yellow"})+Bmh({ir:"spinner-green"})+"</div></div>")}
function Bmh(a){a=a.ir;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function Cmh(a,b){K4.call(this,a,b);this.D=null}v(Cmh,K4);Cmh.prototype.Ca=function(){var a=this.oa();this.D=zy(Amh,{},void 0,a);this.pb(this.D)};Cmh.prototype.ef=function(){this.D.parentElement.removeChild(this.D)};Cmh.prototype.Ka=function(){delete this.D};function Dmh(a,b){Xo.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=R4(this.O);this.Jg=null;this.R=new wA(this.C.oa().Hb());this.R.uj("blur",27);this.V=new Tz(this);this.qa(this.V);this.V.yb(this.J.Ta("docos-new-doco"),ot,this.hSb).yb(this.J.Ta("docos-highlight-doco"),ot,this.gSb);this.listen(this.C,"bd",this.fSb).listen(this.C,"br",this.iSb)}t(Dmh,Xo);
function Emh(a){0==a.D&&0<a.C.mc()&&(a.D=Fmh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.mc();c++)Fmh(a,c)==a.D&&(b=c);Gmh(a);i6(a.C,!1);b=a.C.Ac(b).getId();b=new qch(b,a.C.getId());a.J.zf("docos-before-highlight-doco").qb(b);a.J.zf("docos-highlight-doco").qb(b)}}function Gmh(a){a.Jg||(a.Jg=new Nx(a.C.oa().Hb()),a.qa(a.Jg));a.listen(a.Jg,"focusin",a.j_a).listen(a.R,"shortcut",a.fQa)}m=Dmh.prototype;
m.j_a=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,Hmh(this,!0),i6(this.C,!0),this.zc(this.Jg,"focusin",this.j_a).zc(this.R,"shortcut",this.fQa),a=C4(),this.J.zf("docos-before-highlight-doco").qb(a),this.J.zf("docos-highlight-doco").qb(a))};m.fQa=function(){i6(this.C,!1);Hmh(this,!1)};
m.gSb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Fc(a)){if(this.D=L5(P4(this.O),b.C),b.D==this.C.getId()){Gmh(this);Hmh(this,!1);a instanceof Sjh&&(a.Kh(!0),Xjh(a,!0));i6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof Sjh)a:if(Jjh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.R.focus();else{b=n5(a.fd(),!1);for(var c=b.length-1;0<=c;c--)if(Ejh(a.H[b[c].getId()]))break a;Ejh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,i6(this.C,!0),Hmh(this,!0)};
m.hSb=function(a){a=a.data;var b=O5(P4(this.O),a.Yp);if(b){for(var c=0;c<this.C.mc();c++)if(b.getId()==this.C.Ac(c).getId()){this.D=a.Yp;break}this.F=!0;i6(this.C,!1,!0);Hmh(this,!1)}};m.fSb=function(){Imh(this)};m.iSb=function(){P4(this.O).xa||Imh(this)};function Imh(a){if(1==a.C.mc())a.D=0,i6(a.C,!1);else{for(var b=0,c=0;c<a.C.mc();c++)if(Fmh(a,c)==a.D){b=c;break}b==a.C.mc()-1?b--:b++;a.D=Fmh(a,b);a.F=!0;i6(a.C,!1,!0);Hmh(a,!1)}}
function Hmh(a,b){for(var c=z9a(a.C),d=0;d<c.length;d++){var e=a.C.Fc(c[d]);e instanceof Sjh&&(e.Kh(b),Xjh(e,b))}}function Fmh(a,b){return L5(P4(a.O),a.C.Ac(b).getId())};function Jmh(a,b,c,d){this.D=a;this.H=b;this.C=c||null;this.F=d||null};function Kmh(a,b,c,d){K4.call(this,a,d);this.Ja=c;this.context=a;this.D=b;this.D.TBa(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.xa=new Tz(this);this.qa(this.xa);a=P4(this.context);this.getHandler().listen(a,"bu",this.I7b).listen(a,"dd",this.k8b).listen(a,"f",this.J8b).listen(a,"sd",this.o$b).listen(a,"ud",this.aac).listen(b,"rv",this.tcc).listen(this,"ra",this.$9b).listen(this,"sd",this.F$b).listen(this,"sr",this.G$b).listen(this,"sn",this.p$b).listen(this,"sp",
this.q$b).listen(this,"bd",this.J7b).listen(this,"ar",this.v7b).listen(this,"ph",this.b9b);Mch(this)}v(Kmh,K4);m=Kmh.prototype;
m.Ia=function(){Kmh.Ya.Ia.call(this);Ez(this.getElement(),"docos");Ex(this.getElement(),["docos","docos-stream-view"]);ux(this.getElement(),"list");veh(this.C)?Dx(this.getElement(),"docos-stream-view-height"):(Dx(this.getElement(),"docos-stream-view-legacy"),Dx(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&Dx(this.getElement(),"docs-gm");Ex(this.wb(),this.D.RQ());this.getHandler().listen(this,"rd",this.Gfb);var a=R4(this.context);this.xa.yb(a.Ta("docos-highlight-doco"),
ot,this.Ria);L4(this.context).rb&&Cx(this.getElement(),"docos-layout-vertical")&&(this.R=new Dmh(this.context,this),this.F=this.ib.createElement("DIV"),Dx(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.Py).listen(this.F,"focus",this.s$b),Lmh(this).appendChild(this.F),this.ma=new vB);this.cGa()};m.KJa=ea(!0);m.Faa=function(){this.D.NK();Mmh(this);this.D.YK(!0);this.dispatchEvent("ail")};m.Py=function(){Emh(this.R)};m.s$b=function(){var a=this.R;a.H=!0;Emh(a)};
m.cGa=function(){var a=P4(this.context);if(Wd(a.C)){this.D.YK(!1);a=je(a.C);for(var b in a)Nmh(this,b);this.D.qK();this.Faa()}};m.fB=function(a,b){for(var c=this.mc()-1;0<=c;--c){var d=this.Ac(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.fB()}};
m.Ria=function(a){var b=a.data;a=b.C;var c=b.D;b=b.H;if(!this.context.V&&this.D.zka(a,c)){if(this.ma&&a&&this.D.pr()!=a){var d=this.mc();d="Comment "+(Yw(this,this.Fc(a))+1+(" of "+(d+" ")));wB(this.ma,d)}this.dispatchEvent("us");this.D.eqa(a,c,b);Mmh(this);this.dispatchEvent("ud")}};m.I7b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.bk;c=c.C;b&&(P4(this.context).fd(b),(c=this.Fc(b)||c&&this.Fc(c))?(c.getId()!=b&&c.Hc(b),this.J.push(b)):this.O[b]=!0)}};m.k8b=function(a){this.H.push(a.C)};
function Mmh(a){a.Ba||a.D.Lz()}m.J8b=function(a){this.D.YK(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)Omh(this,this.H[b]);for(var c in this.O)Nmh(this,c);ce(this.O)||this.D.qK();for(b=0;b<this.J.length;++b)Pmh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.NK();this.D.Lz();this.Ba=!1;this.D.YK(!0)};m.Gfb=function(a){this.Fc(a.bk)&&(this.D.q0(a.bk),Mmh(this))};m.o$b=function(a){a.C&&this.Fc(a.C)&&this.D.rla(a.C)};m.aac=function(a){a.C&&this.Fc(a.C)&&this.D.rla(a.C)};
m.$9b=function(a){var b=P4(this.context).fd(a.bk);if(a=L4(this.context).H.reanchor)b=m5(b),b=wch("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};m.F$b=function(a){var b={text:a.C,xn:a.xn,Yp:a.Yp,Pfb:a.xn,N1:a.N1};a.xn&&L4(this.context).Lc&&(b.quote=(0,L4(this.context).Lc)(a.xn));a.xn&&L4(this.context).Sa&&(b.xn=(0,L4(this.context).Sa)(a.xn));0==a.fl&&(b.xf=105);R4(this.context).zf("docos-new-doco").qb(b)};
m.G$b=function(a){var b=P4(this.context).fd(a.bk);if(!b)throw Error(a.bk+" not contained within appropriate stream.");var c=R4(this.context),d=0==a.fl?105:null;b.isResolved()?c.zf("docos-resolve-doco").qb(new Nch(a.bk,!1,a.C,d)):c.zf("docos-new-reply").qb(new Jmh(a.bk,a.C,a.N1,d))};m.p$b=function(){this.D.highlightNext()};m.q$b=function(){this.D.highlightPrevious()};m.J7b=function(){this.D.Oia()};m.v7b=function(){this.D.Mia()};
function Nmh(a,b){var c=P4(a.context).fd(b);c&&a.Ja(c)&&!a.Fc(b)&&(a.dispatchEvent("us"),a.D.zP(c),a.dispatchEvent("ud"),a.R&&i6(a,!0))}function Pmh(a,b){a.dispatchEvent("us");var c=a.Fc(b);if(c){var d=P4(a.context).fd(b);d&&a.Ja(d)?(c.update(),a.D.q0(b)):Omh(a,b)}a.dispatchEvent("ud")}function Omh(a,b){b&&(a.dispatchEvent("us"),a.D.WT(b),a.dispatchEvent("ud"))}m.tcc=function(a){for(var b=a.EJa.length,c=0;c<b;++c)Omh(this,a.EJa[c])};m.W7=function(){for(var a=this.mc(),b=0;b<a;++b)this.Ac(b).W7()};
function Lmh(a){return(a=a.getElement())?a.parentElement:null}function i6(a,b,c){if(!b&&!c||0!=a.mc())a.oa().Ti(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Ti(a.F,b))}m.Ka=function(){Kmh.Ya.Ka.call(this);delete this.xa};m.b9b=function(){var a=this.D.XW();null==a||a.isDisposed()||(a.update(),a.focus())};function Qmh(a){A.call(this);this.C=[];this.D=!1;this.F=new Eq;this.H=a?!1:!0}t(Qmh,A);Qmh.prototype.start=function(){this.H=!0;Rmh(this)};function Rmh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Ok(u(a.J,a)))}Qmh.prototype.J=function(){this.C.shift()();this.D=!1;Rmh(this)};Qmh.prototype.Ka=function(){this.F.dispose();A.prototype.Ka.call(this)};function Smh(a,b,c,d){Kmh.call(this,a,b,c,d);this.Qa=new Qmh;this.L=[];this.Ma=new Cmh(a,d);this.Da=!1;this.V=null}v(Smh,Kmh);m=Smh.prototype;m.KJa=g("Da");m.Faa=function(){Smh.Ya.Faa.call(this);this.Ma.ef();this.Da=!0;this.V&&this.Ria(this.V)};m.gGa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Fc(b)||(Nmh(this,b),a++)}0==this.L.length?this.Faa():(a=this.Qa,b=u(this.gGa,this),a.C.push(b),Rmh(a))};
m.cGa=function(){var a=P4(this.context);if(Wd(a.C)){this.Ma.render(Lmh(this));this.D.YK(!1);a=je(a.C);for(var b in a)this.L.push(b);b=this.Qa;a=u(this.gGa,this);b.C.push(a);Rmh(b)}};m.Ria=function(a){this.Da?Smh.Ya.Ria.call(this,a):this.V=a};function Tmh(a,b,c,d,e){Y5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];L4(a).Dc&&(c=c.concat(["link"]));this.L=new Ceh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);Jjh(this);this.Ja+=" docos-streamdocoview-input-pane";this.Mb="Discard reply";this.Ba=this.V=this.Ma=this.Va=this.Ra=this.Da=null}t(Tmh,Y5);m=Tmh.prototype;
m.Ca=function(){Y5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Da=a.eb("docos-streamdocoview-inputcontainer",b);this.Ra=a.eb("docos-streamdocoview-reopen-control",b);this.Va=a.eb("docos-streamdocoview-resolve-control",b);this.L.Wa(a.eb("docos-actionmenu-outer",b));zx(this.L.F.La(),"More options");this.Ma=a.eb("docos-author",b);this.V=uV(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=uV(a,"IMG","docos-streamreplyview-avatar",this.Da);a=this.oa();b=this.getElement();var c=a.eb("docos-docoview-comment",
b);c&&(L4(this.getContext()).C.C(c,"Reply to this comment"),zx(c,"Reply to this comment"));if(c=a.eb("docos-docoview-resolve",b))L4(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),zx(c,"Mark as resolved and hide discussion");if(a=a.eb("docos-docoview-reopen",b))L4(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),zx(a,"Mark as open and return discussion to the document view")};
m.Ia=function(){Y5.prototype.Ia.call(this);Umh(this);var a=this.getElement();this.D.xa=a;M4(M4(M4(M4(this,this.L,"d",this.v3a),this.L,"e",this.u8b),this.L,"r",this.k$b),this.L,"ra",this.b$b);a=this.fd().hx();Vmh(this,a);Wmh(this,a);a=L4(this.getContext()).Vg();Qch(O4(this.getContext()),this.Ba,a.D,J4(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ba&&this.C.C.C(this.Ba,a)};m.Hc=function(a){Y5.prototype.Hc.call(this,a);this.L&&Eeh(this.L,a)};
m.update=function(){Y5.prototype.update.call(this);var a=this.fd().hx();Vmh(this,a);Wmh(this,a);this.L.update();Umh(this);this.Da&&(a=!ce(this.H)||S5(this.D)||this.jl(),P(this.Da,a))};function Vmh(a,b){var c=O4(a.getContext()),d=b.D;a.V&&Yih(b,a.fd().getOrigin())&&(d=Kfh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));Qch(c,a.V,d,J4(b))}function Wmh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ma&&a.C.C.C(a.Ma,c),a.V&&a.C.C.C(a.V,c))}
function Umh(a){var b=a.fd();a.Ra&&P(a.Ra,b.isResolved());a.Va&&P(a.Va,!b.isResolved())}m.VZa=function(a){var b=this.getElement();a=a.target;Cx(a,"docos-docoview-comment")&&b?this.D.ready():Cx(a,"docos-docoview-resolve")&&b?Xmh(this):Cx(a,"docos-docoview-reopen")&&b&&Qjh(this)};m.u8b=function(){Bjh(this.F)};m.k$b=function(){this.fd().isResolved()?Qjh(this):Xmh(this)};m.b$b=function(a){this.dispatchEvent(new egh("ra",this.fd().getId()));a.stopPropagation()};
function Xmh(a){var b=R4(a.getContext());a.dispatchEvent("br");var c=new Nch(a.getId(),!0,S5(a.D)?a.D.getValue():null,105);b.zf("docos-resolve-doco").qb(c);a.dispatchEvent("ar")}m.W7=function(){var a=this.F;a.Cb&&!a.H.jl()||wjh(a)};m.xd=function(){Y5.prototype.xd.call(this);var a=O4(this.getContext());Q4(a,this.V);Q4(a,this.Ba)};m.Ka=function(){Y5.prototype.Ka.call(this);delete this.L;delete this.Ma;delete this.V;delete this.Ba;delete this.Da;delete this.Ra;delete this.Va};function Ymh(a,b,c,d){this.C=a;this.H=b;this.gb=c;this.D=d}Ymh.prototype.F=function(a){a=P4(this.C).fd(a);var b=this.H.vk().getId();switch(a.getNewDocoType()){case "draft":return new dkh(this.C,a.getId(),b,m5(a),this.gb,this.D);default:return new Tmh(this.C,a.getId(),b,this.gb,this.D)}};function Zmh(a,b){$5.call(this,a,b)}v(Zmh,$5);m=Zmh.prototype;m.z4=function(){return"none"!=L4(this.getContext()).fb};m.npa=function(a){return(new Ymh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.aW=function(a,b){a=a.fd();b=b.fd();if(!a||!b)throw Error("Doco view missing doco.");var c=a6(this).fb;a6(this).Vg().getEmail();switch(c){case "creation":c=b.Lu().getTime()-a.Lu().getTime();break;case "priority":c=a.isResolved()||a.Vj()&&!!Yeh(a);var d=b.isResolved()||b.Vj()&&!!Yeh(a);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=N4(a),c=N4(b),d=Ech(d,a6(this))?1:0,c=(Ech(c,a6(this))?1:0)-d));c=c||$mh(this,a,b)||anh(a,b);break;default:c=anh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<
a.getId()?1:0);return c};function anh(a,b){return b.aR().getTime()-a.aR().getTime()}function $mh(a,b,c){a=a6(a).Vg().getEmail();var d=new Set,e=new Set;n5(b,!0).forEach(function(f){d.add.apply(d,ka(xhh(whh,f.Ux())))});n5(c,!0).forEach(function(f){e.add.apply(e,ka(xhh(whh,f.Ux())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.zP=function(a){var b=this.vk(),c=this.npa(a),d=0;this.z4()&&(d=this.Tca(c));b.Ff(c,d,!0);c.update();if(c=b=this.wca())b.C!=a.getId()?c=!1:(c=a.nA()?m5(a):void 0,d=L4(this.getContext()).bj,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Yeh(a)||d);c&&(b=F4(uch(E4(D4(a.getId()),this.$G()),b.D)),this.dTa(b,a))};m.WT=function(a){this.vk().Fc(a)&&(a=this.vk().removeChild(a),Tf(a))};m.q0=function(a){if(this.z4()){var b=this.vk();if(a=b.Fc(a)){var c=Yw(b,a),d=this.Tca(a);c!=d&&b.Ff(a,d)}}};
m.Oia=function(){mkh(this,!0,!0)};m.Mia=function(){if(this.H&&this.pr()){var a=this.pr();U5(P4(this.getContext()),a);this.$G()&&R4(this.getContext()).zf("docos-highlight-doco").qb(F4(sch(E4(D4(a),this.$G()))))}};m.NK=function(){okh(this)};function bnh(a){a=a||{};var b=a.hdc,c=a.idc,d=a.ecb,e=a.dcb;a=a.ueb;if(gx(d)||gx(c)){var f;gx(a)&&gx(c)?f='<a href="'+T(kx(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function cnh(a,b){Q.call(this,b);this.C=a}t(cnh,Q);cnh.prototype.Ca=function(){this.pb(zy(bnh,{dcb:K(this.C,4),ecb:this.C.Al(),ueb:K(this.C,5),hdc:K(this.C,2),idc:K(this.C,1)},void 0,this.oa()))};function dnh(a,b){K4.call(this,a,b);this.Qc=new rz(b);this.F=a;for(var c in Ibh){a=Ibh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new rU(d,a,b);this.Qc.Ga(a,!0)}this.D=new xz("",this.Qc,GG.getInstance(),b);yz(this.D,new tcb(null,9));this.D.kO=!0;this.Ga(this.D)}t(dnh,K4);m=dnh.prototype;
m.Ia=function(){K4.prototype.Ia.call(this);var a=this.oa(),b=a.eb("docos-ns-caption",this.getElement());a=a.eb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().Be(a,"Notifications");b=L4(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Qc.mc();a++){var c=this.Qc.Ac(a),d=c.getElement();a:{switch(c.Ua()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}M4(this,this.D,"action",this.ZSb);M4(this,this.C,"r",this.Sxa);M4(this,this.getElement(),"keyup",this.flb);M4(this,this.Qc,"show",this.YSb);M4(this,this.Qc,"hide",this.XSb);this.Sxa()};m.YSb=function(){0<this.Qc.mc()&&this.Qc.Rh(0)};m.XSb=function(a){a.stopPropagation()};m.flb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.ZSb=function(a){var b=a.target.Ua(),c=Rfh(this.F);b!=hmh(c)&&imh(c,b);this.Sxa();a.stopPropagation()};m.Sxa=function(){var a=this;!this.C.J&&this.C.JK()?hmh(Rfh(this.F)).then(function(b){for(var c=0;c<a.Qc.mc();++c){var d=a.Qc.Ac(c);d.Ib(d.Ua()==b)}b=!a.C.J&&a.C.JK();a.D.Pa(b)},void 0,this):this.D.Pa(!1)};function enh(a,b,c,d){K4.call(this,a,b);this.F=new Zmh(a,b);this.qa(this.F);this.D=c?new Smh(a,this.F,hfa(Weh),b):new Kmh(a,this.F,hfa(Weh),b);this.Ga(this.D);this.J=a;this.Ba=null;this.Ja=!!d;Mj(this.C.dh,30)||(this.H=new Lhh(a,b),this.qa(this.H),this.Ga(this.H),this.H.ma="Add a comment");this.V=null;Mj(this.C.dh,30)&&this.C.JK()&&!this.C.ma&&(this.V=new dnh(a,b),this.Ga(this.V));this.L=null;this.C.n3()&&(this.L=new eU(b),this.Ga(this.L));this.R=null;Mj(this.C.dh,30)&&(this.R=new bA("",b,"legacy"!=
this.C.F?4:void 0),this.Ga(this.R));this.Da=new Tz(this);this.qa(this.Da);this.xa=new cnh(N(this.C.dh,vkf,2)||new vkf,b);this.Ga(this.xa);this.O="";this.ma=null;Mch(this)}v(enh,K4);m=enh.prototype;m.r0a=0;m.Mz=null;m.mba=null;m.qW=null;m.KD=null;m.ZG=null;
m.Ca=function(){var a="legacy"!=this.C.F,b=this.oa(),c=zy(ymh,{pD:this.C.Vg().getName(),JK:this.C.JK(),Q6b:!!Mj(this.C.dh,30),dD:this.C.Da,mbb:this.C.nz,kbb:this.C.Vt,Co:a,n3:this.C.n3(),Ev:b5(this.C)},void 0,b);Mj(this.C.dh,30)&&Dx(c,"docos-enable-docs-header");a&&Dx(c,"docs-gm");this.pb(c);a=b.eb("docos-streampane-content",c);this.D.render(a);this.ZG=Mj(this.C.dh,30)?this.D.wb():this.C.O;this.xa.render(c);this.mba=b.eb("docos-streampane-username",c);this.qW=uV(b,"IMG","docos-streampane-avatar",
c)};
m.Ia=function(){enh.Ya.Ia.call(this);var a=this.oa(),b=this.getElement();this.H&&this.H.Wa(a.eb("docos-streampane-input-pane",b));if(this.V){var c=a.eb("docos-notification-settings",b);this.V.Wa(c)}c=L4(this.J).C;if(this.L){var d=a.Fa("docos-priority-checkbox",b);this.L.render(d);this.L.Ib(!0);this.L.setContent("For you");M4(this,this.L,"action",this.Ecb);c.C(this.L.La(),"Sort by discussions relevant to me")}this.R&&(a=a.eb("docos-new-comment-button",b),this.R.Wa(a),c.C(a,this.C.Ma?"Add comment not available":"Add a comment"),
M4(this,this.R,"action",this.Bfb),this.p5a(),this.getHandler().listen(this.C,"r",this.p5a));this.C.xa&&(b=this.C.xa,this.H&&(this.H.xa=b));Fp(b,!0);this.KD=new xmh(b);Po(this.KD,"next-doco",this.y9b,!0,this);this.KD.addEventListener("prev-doco",this.R9b,!0,this);Po(this.KD,"resolve",u(this.y$a,this),!0);Po(this.KD,"reopen",u(this.Ffb,this),!0);Po(this.KD,"back-to-document",this.ebb,!0,this);Po(this.KD,"speak-comment",this.ygc,!0,this);b=R4(this.J);a=this.C.Ma?this.V8b:this.Efb;this.Da.yb(b.Ta("docos-highlight-doco"),
ot,a);this.H&&M4(this,this.H,"p",this.s7b);M4(M4(M4(M4(M4(M4(M4(M4(this,this.getElement(),"click",this.Cfb),this.D,"f",this.K8b),this.D,"b",this.M7b),this.D,"e",this.C8b),this.D,"us",this.E$b),this.D,"ud",this.D$b),this.D,"ail",this.C$b),this,["aftershow","afterhide"],this.Dfb);b=this.C.Vg();Lfh(O4(this.J),this.qW,b.D,J4(b));this.mba&&(a=b.getName())&&this.C.C.C(this.mba,a);this.qW&&(a=b.getName())&&this.C.C.C(this.qW,a);this.Ja||(this.Ba=new FB(this.getElement(),this.oa()),this.qa(this.Ba),GB(this.Ba));
fnh(this)};m.Dfb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof iqf;var d=(new H4(b)).setNonAnchored(!0).setApiEventArgs(new vmh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.W7=function(){this.D.W7()};m.Cfb=function(a){Cx(a.target,"docos-streampane-notificationslink")&&!this.C.J&&this.dispatchEvent("dnd")};
m.s7b=function(){var a=this.H.getValue();Ld(a)||(R4(this.J).zf("docos-new-doco").qb({text:a,xn:null,Yp:0,quote:null,xf:105}),this.Mz=null)};m.K8b=function(a){if(a=a.target)this.Mz=a.getElement()};m.M7b=function(a){gnh(this,a)};m.C8b=function(a){gnh(this,a)};function gnh(a,b){(b=b.target)&&b.getElement()==a.Mz&&(a.Mz=null)}m.E$b=function(){null!=this.Mz&&(this.r0a=this.Mz.offsetTop)};m.D$b=function(){null!=this.Mz&&this.ZG&&(this.ZG.scrollTop+=this.Mz.offsetTop-this.r0a)};m.C$b=function(){this.dispatchEvent("initial-load-complete")};
m.Efb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.L)&&hnh(this,a.C||null);if(a=a.C?this.D.Fc(a.C):null)this.Mz=a.getElement()};m.V8b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?P4(this.J).fd(b):null)&&(b=(new H4("toggle-show-stream-pane")).addAnchorId(m5(b)).addDocoHandle(L5(P4(this.J),b.getId())).setNonAnchored(!(b.nA()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new wmh(!0)).build(),c(b));hnh(this,a.C||null)};
function hnh(a,b){(b=b?a.D.Fc(b):null)?(a.Mz=b.getElement(),a.ZG&&(a.ZG.scrollTop=b.getElement().offsetTop)):a.Mz=null}m.y9b=function(){this.F.highlightNext()};m.R9b=function(){this.F.highlightPrevious()};m.y$a=function(){var a=this.F.XW(),b=this.F.pr();b=b?P4(this.J).fd(b):null;a&&b&&(a=a.F,b.Vj()?ujh(a):tjh(a,!0))};m.Ffb=function(){var a=this.F.XW();a&&tjh(a.F,!1)};m.ebb=function(){var a=R4(this.J),b=this.F.pr();a.zf("docos-back-to-document").qb({bk:b})};m.ygc=function(){var a=this.F.XW();a&&Rjh(a)};
function fnh(a){if(""!=a.O&&!a.ma&&a.tb()){var b=zy(zmh,{message:a.O});a.ma=new Q;a.ma.Wa(b);a.Ff(a.ma,0)}}m.p5a=function(){this.R.Pa(this.C.dg)};m.Bfb=function(){this.dispatchEvent({type:"create-draft",xf:105})};m.Ecb=function(){var a=R4(this.J),b=this.L.isChecked();this.ZG&&(this.ZG.scrollTop=0);a.zf("docos-update-sort").qb({ugc:b?"updated":"priority"})};m.xd=function(){enh.Ya.xd.call(this);Q4(O4(this.J),this.qW)};
m.Ka=function(){enh.Ya.Ka.call(this);delete this.mba;delete this.qW;delete this.Mz;delete this.ZG;delete this.xa;delete this.H;delete this.F;delete this.D;delete this.Da;this.KD&&(delete this.KD,this.KD=null)};function inh(a){J(this,a,"gs",-1,null,null)}v(inh,I);inh.prototype.ea=function(){var a=new E;var b=this.Fp();null!=b&&a.Aa(1,b,Akf);return Y(a)};inh.le="gs";inh.prototype.Fp=function(){return N(this,zkf,1)};function jnh(a){J(this,a,0,-1,null,null)}v(jnh,I);jnh.prototype.ea=function(){var a=new E;var b=this.Fp();null!=b&&a.Aa(1,b,Akf);return Y(a)};jnh.prototype.Fp=function(){return N(this,zkf,1)};function knh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=aq();Abh(this.H,"netIo")&&this.F.resolve()}t(knh,A);function hmh(a){if(a.C)return Xp(lnh(a.C));a.D||(a.D=a.F.C.then(function(){return new Up(function(b,c){Dfh(a.H.get("netIo"),"uc",void 0,function(d){return b(new inh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Fp();a.D=null;return lnh(a.C)},void 0,a)}
function imh(a,b){var c="all"==b;b="none"==b;var d=(new zkf).Pa(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new jnh;b=Zj(b,1,a.C);Dfh(a.H.get("netIo"),"uc",b)}function lnh(a){return Pj(a,2,!0)?Mj(a,3)?"all":Pj(a,4,!0)||Pj(a,5,!0)?"important":"none":"none"};function mnh(a,b){var c=a.fd(),d=b.fd();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.Lu();a=d.Lu();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function nnh(a,b){this.C=a;this.od=b}nnh.prototype.fd=g("C");nnh.prototype.getPosition=g("od");function onh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function pnh(a,b){return a.C().Ac(b).getId()}function qnh(a,b){for(var c=a.C().mc(),d=0;d<c;++d)a.H(pnh(a,d),Infinity);a.layout(b||[])}m=onh.prototype;m.layout=function(a){do{var b=a;rnh(this,0,this.C().mc(),1,-Infinity,this.Ilb,this.Jlb,b);b=a;rnh(this,this.C().mc()-1,-1,-1,Infinity,this.gbb,this.hbb,b);a.pop()}while(0<a.length)};function snh(a,b){0==a.D&&(a.D=1);a.F=sd(b,a.F);wd(a.F)}
function tnh(a){0!=a.D&&(2==a.D?qnh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function rnh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=pnh(a,b);var n=b;n=a.C().Ac(n).getHeight();var q=a;var r=b;r=q.C().Ac(r).fd().getId();q=q.J(r);r=a.L(l);e=kd(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.Ilb=function(a,b){return b+a+10};m.gbb=function(a,b){return b-10};m.Jlb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.hbb=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function unh(a,b){var c=this;ukh.call(this,a,b);this.F={};this.ma={};this.Da=new onh(u(this.vk,this),u(this.WVa,this),u(this.Ara,this),u(this.nec,this));this.Va=L4(a).Qo;this.Ja=new ZK;this.jb=!0;this.Cb=new Qq(this.Kic,500,this);this.Qa=this.Sa=null;this.Ma=Sfh(a);this.ub=new yo;this.qa(this.ub);zo(this.ub,this.Ma.D,function(){c.Ra=!0;c.cb&&vnh(c,c.cb);tnh(c.Da);c.rb&&c.Lz();c.Ra=!1});this.rb=!1;this.cb=null;this.Xa=this.Ra=!1}v(unh,ukh);var wnh=null;m=unh.prototype;
m.RQ=function(){var a=unh.Ya.RQ.call(this);a.push("docos-layout-vertical");return a};m.z4=ea(!0);m.YK=da("jb");m.aW=function(a,b){a=a.fd();b=b.fd();if(!a||!b)throw Error("Doco view missing doco.");var c=L5(P4(this.getContext()),a.getId()),d=L5(P4(this.getContext()),b.getId());return mnh(new nnh(a,this.C[c]||new Um(Number.MAX_VALUE,Number.MAX_VALUE)),new nnh(b,this.C[d]||new Um(Number.MAX_VALUE,Number.MAX_VALUE)))};m.q0=function(a){this.qK(a,!1)};m.Iza=function(a){unh.Ya.Iza.call(this,a);this.Lz()};
m.j1a=function(){for(var a=this.vk(),b=a.mc(),c=0;c<b;c++){var d=a.Ac(c);d.getId()!=this.pr()&&d.getId()!=this.WW()&&d.qaa()&&d.collapse()}};m.NK=function(){Akh(this);okh(this);for(var a=this.vk(),b=a.mc(),c=0;c<b;++c){var d=a.Ac(c);d.qaa()&&!d.jl()&&d.WAa()}a=[];(b=this.pr())&&a.push(b);this.Ma.C||this.Ra?(b=this.Da,b.D=2,snh(b,a||[])):qnh(this.Da,a);xnh(this)};m.Y2=function(a){this.Sa=a.clone();this.Qa&&this.Qa.contains(a)?this.Cb.start():(a=this.Cb,a.stop(),a.Psa())};
m.Kic=function(){if(this.O){this.Qa=this.Sa.clone();var a=this.vk();this.Qa.expand(500,0,500,0);var b=a.mc(),c="";0<b&&(c=a.Ac(b-1).getId());for(var d=0;d<b;d++){var e=a.Ac(d),f=this.ma[e.getId()];f=ynh(e,this.Qa,f.y,c);e.setVisible(f)}}};
m.Lz=function(){unh.Ya.Lz.call(this);if(this.Ma.C)this.rb=!0;else{tnh(this.Da);var a=this.vk(),b;for(b in this.F){var c=a.Fc(b);if(c){var d=b==this.pr()||b==this.WW()?-10:this.Va,e=!c.Rxa();b!=this.pr()&&b!=this.WW()&&this.ob&&(e=e&&this.ob.Va);this.yia(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}xnh(this);this.rb=!1}};function ynh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.jl()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function xnh(a){var b=a6(a).H.bounds;b&&(a=a.X2(),!wnh&&!a||Cd(wnh,a)||(wnh=a,a=(new H4("bounds")).setUserInitiated(!0).build(),b(a)))}m.Ara=function(a){if(a&&!(a in this.F))if(a6(this).Va){var b=this.WVa(a);null!==b&&(this.F[a]=b)}else if(b=this.vk().Fc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.nec=function(a,b){this.F[a]=b};m.qK=function(a){Akh(this);if(a6(this).Va)znh(this);else{var b=[];this.pr()&&b.push(this.pr());a&&b.push(a);Anh(this,b)}};
function znh(a){a6(a).Va&&(a.F={});var b=a.pr();Anh(a,b?[b]:[])}function Anh(a,b){a.Ma.C||a.Ra?snh(a.Da,b):a.Da.layout(b)}m.KK=function(a){var b=Yd(a),c=Wd(this.C),d=b.length!=c;this.Xa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Xa=!0;break}}d&&(this.Ma.C?this.cb=a:vnh(this,a))};
function vnh(a,b){a.C=b;Bnh(a);Akh(a);a.Xa&&(okh(a),a.Xa=!1);znh(a);b=a.Ja.cf();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.zP(d)}a.qK();a.Lz();a.cb=null}function Bnh(a){var b=Object.keys(a.C);b.sort(u(a.kbc,a));a.Ja.clear();for(var c=P4(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=O5(c,parseInt(e,10));f&&c.ma(f)&&a.Ja.set(e,a.Ja.ke())}}
m.kbc=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=O5(P4(this.getContext()),c);d=O5(P4(this.getContext()),d);return mnh(new nnh(c,b),new nnh(d,a))};m.WT=function(a){unh.Ya.WT.call(this,a);Bnh(this)};m.Tca=function(a){a=L5(P4(this.getContext()),a.getId()).toString();var b=this.Ja.get(a);null==b&&(Bnh(this),b=this.Ja.get(a));return b};
m.yia=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Sa){var h=this.vk();f=h.mc();h=h.Ac(f-1).getId();f=ynh(c,this.Sa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.jb&&l&&this.vk().mc()<Cnh(this);k=this.jb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));Ach(this.J,h);var n=new Dbh(e,[a,b],f,KM);zch(this.J,h,n,f,function(){return Tf(n)})}else ww(e,
a,b),f||c.setVisible(!1);c.Dc=-10==a;this.ma[h]=new Um(a,b);this.F[h]=b}};function Dnh(a,b){return(a=a.C[b])?a.y:null}m.WVa=function(a){a=L5(P4(this.getContext()),a);return Dnh(this,a)};m.Nra=function(a,b){a=Dnh(this,a);return null===a?null:new Um(b?-10:this.Va,a)};
m.X2=function(){var a=this.vk();if(!a||!a.tb())return null;var b=a.mc();if(!b)return null;var c=a.Ac(0);b=a.Ac(b-1);a=b.getElement();c=this.Ara(c.getId());b=this.Ara(b.getId());return null!=c&&null!=b?[c,210+this.Va,b+a.offsetHeight,this.Va]:null};function Cnh(a){a=a6(a);return(a=null!=K(a.dh,47)?K(a.dh,47):null)?a:100};function Enh(a){this.Tr=a;return this}t(Enh,A4);Enh.prototype.getSource=g("Tr");ua("docos.api.WriteFeedbackArgs",Enh,void 0);Enh.prototype.getSource=Enh.prototype.getSource;if(!Fnh)var Fnh=ea("");if(!Gnh)var Gnh=ea("");function j6(a,b){var c=this;A.call(this);this.Pc=Ra();this.J={};this.F=new Qfh;var d=j6.__default_config;d&&le(this.J,d);a&&le(this.J,a);this.D=new teh(this.J,b);this.F.Cf("config",this.D);this.ma={};Mj(this.D.dh,17)&&(this.Za=new Cfh,this.F.Cf("errorReporter",this.Za),this.Pxa=this.Za.F.C(this.Pxa));this.xa=null;this.V={};this.Ja=null;this.Va=!1;this.Xa=!0;this.R=new Ylh(this.F,this.D,this);Hnh(this,"s",function(){c.C.Sa=!0;if(0<Wd(c.C.C)){Inh(c);var e=c.D.zm;e&&e(43082,3E4)}});Hnh(this,"fe",u(this.pSb,
this));Hnh(this,"p",u(this.mSb,this));this.Cb=new smh(this,this.F);pbh();this.Pxa()}v(j6,A);ua("Docos",j6,void 0);ua("docos.api.connect",function(a){return new j6(a)},void 0);m=j6.prototype;m.R4a=!1;m.NT=null;m.Za=null;m.K7=null;m.vv=null;m.yn=null;m.Rt=null;m.QZa=!1;m.iDa=null;m.Iu=null;m.DS=null;
m.Pxa=function(){if(this.Za)for(var a in j6.prototype)La(this[a])&&(this[a]=this.Za.F.C(this[a]));this.cb=new Jfh(this.D);this.F.Cf("imageManager",this.cb);a=new knh(this.F);this.F.Cf("subscriptionManager",a);this.Ba=new clh(this.F);this.F.Cf("impressionRecorder",this.Ba);this.fb=Nmd($o());this.qa(this.fb);this.Yc=new Efh(this.fb);this.F.Cf("relativeDateFormatter",this.Yc);this.C=new sih(this.D);this.F.Cf("stream",this.C);this.Qa=new Jlh(this.F);this.qa(this.Qa);this.Oa=new Xo(this);this.qa(this.Oa);
this.Da=null;this.O=new kfh(this.F);this.F.Cf("controller",this.O);this.H=new qlh(this.F,this.O);if(Mj(this.D.dh,19)){this.Da=new nmh(this.F);this.qa(this.Da);a=this.Da;var b=u(this.dEb,this),c=u(this.Pua,this);a.C?a.C.RVa(u(a.bAb,a,b),u(a.aAb,a,c)):c()}else this.Pua();this.DS=Jnh(this);this.F.Cf("contactStore",this.DS);this.Ra=this.D.Vg().getEmail()?new Mkh(this.DS,this.D.Vg(),this.Ba,this.D.Mm):null;a=R4(this.F);this.L=this.Gb=null;cp("docs-aria-speakable")&&(this.Gb=ruf(void 0,!0),this.L=new qqf(this.Gb,
a),this.L.bind("docos-new-doco",new dmh),this.L.bind("docos-new-reply",new emh),this.L.bind("docos-delete-doco",new alh(this.C)),this.L.bind("docos-resolve-doco",new tmh(this.C)),this.L.bind("docos-speak-doco",new umh(this.F,this.J.quoterenderfn)),this.L.bind("docos-edit-doco",new elh));this.Sa=new Tz(this);this.qa(this.Sa);this.Sa.yb(a.Ta("docos-cancel-insert-discussion"),ot,this.R7b).yb(a.Ta("docos-delete-doco"),ot,this.kSb).yb(a.Ta("docos-reject-doco-with-feedback"),ot,this.g8b).yb(a.Ta("docos-convert-doco"),
ot,this.c8b).yb(a.Ta("docos-before-highlight-doco"),ot,this.yza).yb(a.Ta("docos-highlight-doco"),ot,this.Oxa).yb(a.Ta("docos-new-doco"),ot,this.lSb).yb(a.Ta("docos-resolve-doco"),ot,this.oSb).yb(a.Ta("docos-back-to-document"),ot,this.G7b).yb(a.Ta("docos-new-reply"),ot,this.x9b).yb(a.Ta("docos-write-feedback"),ot,this.tac).yb(a.Ta("docos-disable-smart-todo-feature"),ot,this.l8b).yb(a.Ta("docos-vote-doco"),ot,this.pac).yb(a.Ta("docos-vote-reply"),ot,this.qac).yb(a.Ta("docos-update-sort"),ot,this.cac).yb(a.Ta("mouse-hover-doco-view"),
ot,this.t9b);this.Oa.listen(this.C,"dd",this.q9b).listen(this.C,"af",this.u7b).listen(this.C,"bu",this.p9b).listen(this.C,"p",this.G9b).listen(this.D,"r",this.b1)};function Jnh(a){var b=Dpd("client").then(function(){var c=wa("gapi.config.update");a.D.Zpa&&c("googleapis.config/sessionIndex",a.D.Zpa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return wa("gapi.client")});return new Zkh(a.D,qmh(a.D,b),a.Pc)}
function Inh(a){a.DS&&!a.DS.C&&leh(a.D.D)&&zeh(a.D)&&bhh(a.DS)}function Knh(a){if(!a.Rt){Lnh(a);var b=a.F,c=$o(a.D.O);var d=a.D;d=Ay()?d.ub&&!z(y(),"docs-ehspc"):d.ub;a.Rt=new enh(b,c,d,a.D.Vd);a.Oa.listen(a.Rt,"dnd",a.Evb);a.Oa.listen(a.Rt,"initial-load-complete",a.FKb);a.Oa.listen(a.Rt,"create-draft",a.Ud)}return a.Rt}m.Evb=function(){this.jb()};m.FKb=function(){var a=h6(this,"initial-pane-render-done");if(a&&this.iDa){var b=Ra()-this.iDa;a(new xch("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.O;this.C.O=a;var c=this.C,d=this.D,e={},f=c.O;c=je(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.nA()&&!Xeh(k)){var l=Kih(k,f,d);k=je(k.D);for(var n in k)l+=Kih(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,le(a,e),this.vv.fB(a));this.V=e;e={};for(var q in this.V)e[L5(this.C,q)]=this.V[q];return e};j6.prototype.find=j6.prototype.find;j6.prototype.hd=function(){this.C.O&&(this.C.O=null,this.vv.fB(this.V,!0),this.V={})};j6.prototype.clearFind=j6.prototype.hd;
j6.prototype.gr=function(){var a=this.D;var b=Jih(this.C,a);b?(b=b.getKey(),a=(a=Mih(b,a))?sp(a).textContent:null):a=null;return a};j6.prototype.getSelectedMatchA11yContext=j6.prototype.gr;j6.prototype.highlightNext=function(a,b,c){this.yn&&this.yn.highlightNext(!!a,b,c)};j6.prototype.highlightNext=j6.prototype.highlightNext;j6.prototype.highlightPrevious=function(a,b,c){this.yn&&this.yn.highlightPrevious(!!a,b,c)};j6.prototype.highlightPrevious=j6.prototype.highlightPrevious;
j6.prototype.select=function(a,b){var c=O5(this.C,a);a=c?c.getId():"";b=c?new hY(a,b):null;c=this.C.Ba;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.Ba=b;b=c?this.vv.Fc(c.getKey()):null;c=this.vv.Fc(a);b&&b!=c&&b.fB();if(c){c.qaa()&&(b=Iih(P4(this.F),this.D),c.expand(b?b.getKey():void 0));c.fB();b=Hih(this.C,this.vv);d=R4(this.F);var e=tch(D4(a));e.C=b?b.start:0;e=F4(e);d.zf("docos-before-highlight-doco").qb(e);U5(P4(this.F),a);
d.zf("docos-highlight-doco").qb(e);if(b&&igh(c)&&(a=c.wb())){c=Hw(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};j6.prototype.select=j6.prototype.select;j6.prototype.EQb=function(){var a=this.C.Ba;if(a){this.C.Ba=null;(a=this.vv.Fc(a.getKey()))&&a.fB();a=R4(this.F);var b=tch(D4(""));b.C=0;b=F4(b);a.zf("docos-before-highlight-doco").qb(b);U5(P4(this.F),null);a.zf("docos-highlight-doco").qb(b)}};
j6.prototype.unselect=j6.prototype.EQb;j6.prototype.n7b=function(){var a=this.C,b=new hih(a,"c"),c;for(c in a.C)b.C.push(new fih(c,void 0,void 0,void 0,void 0));a.dispatchEvent(iih(b));a.flush(!0)};j6.prototype.updateAll=j6.prototype.n7b;j6.prototype.pV=function(){return!!Mj(this.D.dh,19)&&!!this.D.Gb&&!this.D.Yc};j6.prototype.isSavingToOfflineStorage=j6.prototype.pV;j6.prototype.dK=function(){return 0<Vhh.ke()};j6.prototype.hasUnpostedDocos=j6.prototype.dK;
j6.prototype.gK=function(){for(var a=Yd(this.C.V),b=0,c;c=a[b];b++){var d=this.C;if((c=Aih(d,c))&&(c.Vj()?xfh(d,c):d.ma(c)))return!0}return!1};j6.prototype.hasVisibleAnchoredDocos=j6.prototype.gK;j6.prototype.Tna=function(a){var b=this.C,c=b.xa;b.xa=a;if(c!=b.xa&&this.vv&&(a=this.vv,b=P4(a.context),Wd(b.C))){for(c=a.mc()-1;0<=c;--c){var d=a.Ac(c).getId();Pmh(a,d)}b=je(b.C);for(d in b)Nmh(a,d);a.D.NK();Mmh(a);a.D.qK()}};
j6.prototype.b1=function(){Mnh(this);0<Wd(this.C.C)&&Inh(this);if(this.Rt)if("none"!=this.D.fb){var a=this.Rt.D;a.D.NK();Mmh(a)}else this.Rt.W7()};j6.prototype.setResolvedAnchoredDocosVisible=j6.prototype.Tna;j6.prototype.qV=function(a,b,c){return Nnh(this,a,b?b:void 0,c)};j6.prototype.newDoco=j6.prototype.qV;
j6.prototype.IU=function(a,b,c){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;Onh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo()).addCallback(c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Zlb();e6(f,u(f.sPb,f,a,d,e,b)).addCallback(c);
break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();e6(f,u(f.pPb,f,a,d,e,b)).addCallback(c);break;default:throw Error("Unknown NewDocoArgs type.");}};j6.prototype.interceptingNewDoco=j6.prototype.IU;function Nnh(a,b,c,d,e,f,h){Pnh(a,b,c);b=mfh(a.O,b,d||"draft",e,f,h);Qnh(a,b,c);return b}function Onh(a,b,c,d,e,f,h){Pnh(a,b,c);return rlh(a.H,b,d||"draft",e,f,h).addCallback(function(k){Qnh(a,k,c);return k})}
function Pnh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ob();c&&(a.xa=c)}function Qnh(a,b,c){if(!(0>=b))if(Ay()&&z(y(),"docs-ehspc"))c=Knh(a),a=O5(a.C,b),c.F&&null!=a&&c.F.zP(a);else if(c){var d={};d[b]=c;k6(a).W2(d)}}
j6.prototype.rV=function(a,b){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return Nnh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),ofh(this.O,a,c,d,b.Zlb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,pfh(this.O,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};j6.prototype.newDoco2=j6.prototype.rV;j6.prototype.y0=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");ulh(this.H,void 0,a,void 0,void 0,b,void 0).addCallback(function(e){0<e&&d.rb(e);return e}).addCallback(c)};j6.prototype.interceptingNewSuggestion=j6.prototype.y0;
j6.prototype.zM=function(a,b,c){var d=this;vlh(this.H,a,!0,b).addCallback(function(e){Rnh(d,a);return e}).addCallback(c)};j6.prototype.interceptingAcceptSuggestion=j6.prototype.zM;j6.prototype.XU=function(a,b,c){var d=this;vlh(this.H,a,!1,b).addCallback(function(e){Rnh(d,a);return e}).addCallback(c)};j6.prototype.interceptingRejectSuggestion=j6.prototype.XU;j6.prototype.QM=function(a,b){var c=this.H;e6(c,u(c.XFa,c,a,!0)).addCallback(b)};j6.prototype.interceptingAcceptSuggestions=j6.prototype.QM;
function Rnh(a,b){(b=O5(a.C,b))&&a.yn&&a.yn.WT(b.getId())}j6.prototype.ZU=function(a,b){var c=this.H;e6(c,u(c.XFa,c,a,!1)).addCallback(b)};j6.prototype.interceptingRejectSuggestions=j6.prototype.ZU;j6.prototype.cO=function(a,b){var c=this.H;e6(c,u(c.Geb,c,a)).addCallback(b)};j6.prototype.interceptingDeleteReply=j6.prototype.cO;j6.prototype.$M=function(a,b){var c=this.H;e6(c,u(c.Feb,c,a)).addCallback(b)};j6.prototype.interceptingDeleteReplies=j6.prototype.$M;
j6.prototype.Ih=function(a){return(a=O5(this.C,a))?m5(a):null};j6.prototype.getAnchorData=j6.prototype.Ih;j6.prototype.Us=function(a){return(a=O5(this.C,a))?a.JI():null};j6.prototype.getSuggestionId=j6.prototype.Us;j6.prototype.ql=function(){return this.D.Vg().getId()};j6.prototype.getCurrentAuthor=j6.prototype.ql;j6.prototype.Ij=function(a){return(a=O5(this.C,a))?a.hx().getId():null};j6.prototype.getAuthor=j6.prototype.Ij;j6.prototype.Yj=function(a){return(a=O5(this.C,a))?a.hx().getName():null};
j6.prototype.getAuthorName=j6.prototype.Yj;j6.prototype.vn=function(a){"string"===typeof a&&(a=this.Ma(a));return Snh(this).D.oba(a)};j6.prototype.getDocoPosition=j6.prototype.vn;j6.prototype.getDocoMaxHeight=function(a){return k6(this).getDocoMaxHeight(a)};j6.prototype.getDocoMaxHeight=j6.prototype.getDocoMaxHeight;j6.prototype.Pma=function(a,b){k6(this).bqa(a,b)};j6.prototype.setDocoMaxHeight=j6.prototype.Pma;j6.prototype.Pg=function(a){a=Tnh(this,a);k6(this).KK(a)};j6.prototype.flushAnchors=j6.prototype.Pg;
j6.prototype.Zg=function(a){k6(this).KK(a)};j6.prototype.flushDocoPositions=j6.prototype.Zg;j6.prototype.Ubc=function(a){a=Tnh(this,a);k6(this).W2(a)};j6.prototype.updateAnchors=j6.prototype.Ubc;j6.prototype.$hc=function(a){k6(this).W2(a)};j6.prototype.updateDocoPositions=j6.prototype.$hc;j6.prototype.Od=function(a){k6(this).nba(ed(a,this.Ma,this))};j6.prototype.deleteAnchors=j6.prototype.Od;j6.prototype.Vd=function(a){k6(this).nba(a)};j6.prototype.deleteDocoPositions=j6.prototype.Vd;
j6.prototype.Vic=function(a){this.yn?this.yn.Y2(a):this.Ja=a};j6.prototype.updateViewport=j6.prototype.Vic;j6.prototype.Ne=da("Va");j6.prototype.enableAnchoredDocoAnimations=j6.prototype.Ne;j6.prototype.On=function(){var a=this.D.L;return(a=a?this.C.fd(a):void 0)?m5(a):""};j6.prototype.getLinkedAnchor=j6.prototype.On;j6.prototype.xo=function(){var a=this.D.L;return null===a?0:L5(this.C,a)};j6.prototype.getLinkedDoco=j6.prototype.xo;j6.prototype.iV=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};
j6.prototype.isLinkedDocoDeleted=j6.prototype.iV;function Tnh(a,b){var c={};Sd(b,function(d,e){(e=this.Ma(e))&&(c[e]=d)},a);return c}j6.prototype.Mma=function(a){this.C.Qa=a};j6.prototype.setActiveSuggestions=j6.prototype.Mma;j6.prototype.Nn=function(){var a=this.C.R;return a&&a.Vj()?a.getId():null};j6.prototype.getHighlightedSuggestionDocoId=j6.prototype.Nn;j6.prototype.Ma=function(a){return(a=Aih(this.C,a))?L5(this.C,a.getId()):0};
j6.prototype.Kma=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.iDa=Ra();Knh(this).tb()&&(Tf(this.Rt),this.Rt=null);ZYe(this.D.O,!1);Knh(this).render(this.D.O)};j6.prototype.renderPaneSurface=j6.prototype.Kma;j6.prototype.nV=function(){return Knh(this).D.KJa()};j6.prototype.isPaneSurfaceRendered=j6.prototype.nV;function k6(a){a.yn||(a.yn=Unh(a),a.Ja&&(a.yn.Y2(a.Ja),a.Ja=null));return a.yn}
function Snh(a){if(!a.vv){Lnh(a);var b=k6(a);a.vv=new Kmh(a.F,b,u(a.C.ma,a.C),b.oa())}return a.vv}function Lnh(a){if(!a.R4a){a.R4a=!0;var b=a.D.O,c=a.D.Ba;b&&(a.D.Mb||Lw(zpe(""),b),a.D.C.install(b));!c||b&&bp(b)==bp(c)||(a.D.Mb||Lw(zpe(""),c),a.D.C.install(c))}}j6.prototype.Ima=function(){if(!this.D.Ba)throw Error("Anchor surface div not specified in config.");Snh(this).tb()&&(Tf(this.vv),this.vv=null,Unh(this));ZYe(this.D.Ba,!1);Snh(this).render(this.D.Ba)};j6.prototype.renderAnchorSurface=j6.prototype.Ima;
function Unh(a){var b=a.D.ql,c=unh;"absolute"==b&&(c=Ckh);if(a.yn&&(a.yn instanceof c||a.yn.rW()instanceof c))return a.yn;var d=$o(a.D.Ba);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new Mlh(c,d));a.yn&&(a.yn.cqa(c),Tf(a.yn));a.yn=c;a.yn.SBa(a);a.qa(a.yn);return a.yn}
j6.prototype.Jma=function(){if(!this.D.Xa)throw Error("Instant docos div not specified in config.");this.Iu&&this.Iu.tb()&&(Tf(this.Iu),this.Iu=null);this.Iu||this.J["enable-gsuite-embedding"]||(this.Iu=new olh(this.F,$o(this.D.Xa)),this.Oa.listen(this.Iu,"create-draft",this.Mb),this.Iu.render(this.D.Xa))};j6.prototype.renderInstantDocosButton=j6.prototype.Jma;j6.prototype.xoa=function(a,b,c){this.Iu&&plh(this.Iu,a,b,c)};j6.prototype.showInstantDocosButtonAt=j6.prototype.xoa;
j6.prototype.ob=function(a){this.Iu&&this.Iu.ef(a)};j6.prototype.hideInstantDocosButton=j6.prototype.ob;j6.prototype.Ph=function(){return this.yn?this.yn.X2():null};j6.prototype.getAnchorSurfaceBounds=j6.prototype.Ph;j6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.U2(this.J))};j6.prototype.setOption=j6.prototype.setOption;j6.prototype.Vt=function(){if(this.Rt){var a=this.Rt;a.C.xa&&a.C.xa.focus()}};j6.prototype.grabFocus=j6.prototype.Vt;
j6.prototype.Yma=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.U2(this.J)};j6.prototype.setListener=j6.prototype.Yma;function Vnh(a,b){return b&&a.C.ma(b)?b.getId():null}j6.prototype.Mm=function(a){return(a=O5(this.C,a))?a.Lu()?a.Lu().getTime():null:null};j6.prototype.getDocoCreationTime=j6.prototype.Mm;
j6.prototype.GK=function(a,b){var c=R4(this.F);a=Aih(this.C,a);a=Vnh(this,a);var d=tch(D4(a||""));b&&(b=this.D.Ma?this.Rt.D.getId():Snh(this).getId(),E4(d,b));c.zf("docos-before-highlight-doco").qb(F4(d));U5(P4(this.F),a);c.zf("docos-highlight-doco").qb(F4(d))};j6.prototype.highlightAnchor=j6.prototype.GK;
j6.prototype.rb=function(a,b){var c=R4(this.F);a=O5(this.C,a);a=Vnh(this,a);var d=tch(D4(a||""));b&&(b=this.D.Ma?this.Rt.D.getId():Snh(this).getId(),d=E4(d,b));c.zf("docos-before-highlight-doco").qb(F4(d));U5(P4(this.F),a);c.zf("docos-highlight-doco").qb(F4(d))};j6.prototype.highlightDoco=j6.prototype.rb;j6.prototype.Ejc=function(a){var b=R4(this.F);a=O5(this.C,a);a=Vnh(this,a);if(null!=a){var c=this.C.fd(a);c&&M5(this.Ba,f5(e5(d5(43045),c)));b.zf("docos-speak-doco").qb(a)}};
j6.prototype.verbalizeDoco=j6.prototype.Ejc;j6.prototype.qD=function(a){return!!Aih(this.C,a)};j6.prototype.hasDocoForAnchorId=j6.prototype.qD;j6.prototype.nz=function(a){return!!O5(this.C,a)};j6.prototype.hasDoco=j6.prototype.nz;j6.prototype.Qo=function(a){return(a=Aih(this.C,a))?a.Vj()?!xfh(this.C,a):a.isResolved():!1};j6.prototype.getResolvedForAnchorId=j6.prototype.Qo;j6.prototype.dV=function(a){return(a=O5(this.C,a))?a.isResolved():!1};j6.prototype.isDocoResolved=j6.prototype.dV;
j6.prototype.Vl=function(){var a=Dih(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};j6.prototype.getDocoCounts=j6.prototype.Vl;j6.prototype.zm=function(){return Dih(this.C).C.clone().sb()};j6.prototype.getDocoCounts2=j6.prototype.zm;
j6.prototype.bj=function(){return k6(this).dqa().C.clone().sb()};j6.prototype.getAnchoredDocoCounts=j6.prototype.bj;j6.prototype.jj=function(){return Yd(this.C.V)};j6.prototype.getAnchors=j6.prototype.jj;j6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};j6.prototype.getDocoHandles=j6.prototype.getDocoHandles;j6.prototype.jb=function(){this.D.JK()&&(this.K7||(this.K7=new gmh(this.F),this.qa(this.K7)),this.K7.setVisible(!0))};j6.prototype.displayNotificationControlDialog=j6.prototype.jb;
j6.prototype.Dc=function(a){return a.x};j6.prototype.Lc=function(a){return a.y};function Mnh(a){if(a.QZa&&!Abh(a.F,"netIo")){var b=Klh(a.Qa);b&&(a.F.Cf("netIo",b),a.Za&&(a.Za.H=b),b=a.R,ueh(b.D)?b.D.Ud?$lh(b.F,"r"):Zlh(b)&&amh(b):b.L(null),Abh(a.F,"subscriptionManager")&&Rfh(a.F).F.resolve())}}j6.prototype.Fd=function(a){this.R.H.get("netIo").C.IJa(a)};j6.prototype.connectBrowserChannel=j6.prototype.Fd;m=j6.prototype;
m.pSb=function(){var a=h6(this,"net-error");a&&a((new H4("net-error")).build());this.D.Pc&&(this.setOption("accessLevel","readonly"),a=Knh(this),""==a.O&&(a.O="Commenting disabled due to a network error. Please reload the page.",fnh(a)))};
m.mSb=function(){var a=h6(this,"post-limit-error");a&&a((new H4("post-limit-error")).build());this.D.Pc&&(this.setOption("accessLevel","readonly"),a=Knh(this),""==a.O&&(a.O="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",fnh(a)))};m.dEb=function(){$lh(this,"r");this.Pua()};m.Pua=function(){this.QZa=!0;Mnh(this)};m.nSb=function(a){Hnh(this,"r",a)};j6.prototype.onReady=j6.prototype.nSb;j6.prototype.g1=function(a){Hnh(this,"s",a)};
j6.prototype.onInitialSyncSuccess=j6.prototype.g1;j6.prototype.f1=function(a){Hnh(this,"e",a)};j6.prototype.onInitialSyncError=j6.prototype.f1;j6.prototype.Ud=function(a){var b=this.D.H["create-draft"];a=a.xf?a.xf:void 0;if(b)a=(new H4("create-draft")).setApiEventArgs(new d6(!1,void 0,void 0,a)).build(),b(a);else throw Error("Can not create a discussion because the editor did not provide a handler.");};
j6.prototype.Mb=function(){var a=this.D.H["create-draft"];if(a){var b=(new H4("create-draft")).setApiEventArgs(new d6(!0,new Um(0,this.Iu.D.H),this.Iu.D.O)).build();a(b)}};function Hnh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=ue(d,c)}else a.ma[b]=c}function $lh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}j6.prototype.Ukb=function(){this.ub()};j6.prototype.tickle=j6.prototype.Ukb;
j6.prototype.ub=function(){a:{var a=this.R;if(ueh(a.D)){if(!a.O){if(!a.C&&!Zlh(a))break a;amh(a)}Slh(a.C,a.D.Cfa?1:void 0)}}};j6.prototype.sync=j6.prototype.ub;j6.prototype.bh=function(){bmh(this.R)};j6.prototype.fullSync=j6.prototype.bh;j6.prototype.vd=function(){var a=this.R;ueh(a.D)&&(a.C.J=!0)};j6.prototype.blockFutureSync=j6.prototype.vd;j6.prototype.UNb=function(){var a=this.R;ueh(a.D)&&(a.C.J=!1)};j6.prototype.unblockFutureSync=j6.prototype.UNb;
j6.prototype.hV=function(){var a=this.R;return ueh(a.D)?a.C.J:!1};j6.prototype.isFutureSyncBlocked=j6.prototype.hV;j6.prototype.wq=function(){var a=this.D;return null!=a.V2?a.V2:6E4};j6.prototype.getRetryBackoffThreshold=j6.prototype.wq;j6.prototype.cV=function(){return this.D.kba};j6.prototype.isBrowserChannelEnabled=j6.prototype.cV;j6.prototype.gV=function(){return!!Mj(this.D.dh,30)};j6.prototype.isDocsStreamHeaderEnabled=j6.prototype.gV;j6.prototype.kV=function(){return veh(this.D)};
j6.prototype.isNewDocosStreamPaneUiEnabled=j6.prototype.kV;j6.prototype.isBadgingEnabled=function(){return this.D.cH()};j6.prototype.isBadgingEnabled=j6.prototype.isBadgingEnabled;j6.prototype.rD=function(){return wih(this.C)};j6.prototype.hasPendingContent=j6.prototype.rD;m=j6.prototype;
m.R7b=function(a){var b=this,c=a.data;a=i5(h5(new g5,43011),c.bk);var d=null!=c.xn;d&&j5(a,c.xn);K5(lfh(this.F),k5(a));tlh(this.H,c.bk).addCallback(function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.bk;e||(b.yza(new pt(d?new qch("",void 0,void 0,void 0,c.xn):C4())),b.Oxa(new pt(d?new qch("",void 0,void 0,void 0,c.xn):C4())));var f=h6(b,"deleted");if(f&&c.xn&&c.Yp){var h=(new H4("deleted")).addAnchorId(c.xn).addDocoHandle(c.Yp).setUserInitiated(!0).build();f(h);b.NT=null}e&&(b.NT=b.C.R)}})};
m.kSb=function(a){a=a.data;Wnh(this,a.Yp,a.bk,a.yT,void 0,a.xf)};m.g8b=function(a){a=a.data;Wnh(this,a.Yp,a.bk,a.yT,a.Ykb)};function Wnh(a,b,c,d,e,f){f=void 0===f?null:f;var h=h6(a,"before-doco-deleted");if(h&&b){var k=m5(O5(a.C,b));d=e?new glh(d,e):new $kh(d);b=(new Xkh("before-doco-deleted")).addAnchorId(k).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();h(b);if(b.C)return}Xnh(a,c,!0,e,f)}
m.c8b=function(a){var b=a.data;if((a=h6(this,"converted"))&&b){var c=m5(O5(this.C,b.Yp)),d=new c6(c,b.yZa,b.yT);b=(new Xkh("converted")).addAnchorId(c).addDocoHandle(b.Yp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.jSb=function(a){(a=O5(this.C,a))&&Xnh(this,a.getId(),!1)};j6.prototype.deleteDoco=j6.prototype.jSb;function Xnh(a,b,c,d,e){e=void 0===e?null:e;var f=a.C.fd(b),h=L5(a.C,b);f=m5(f);var k=a.H;e6(k,u(k.Deb,k,b,d,void 0===e?null:e)).addCallback(u(a.Hjc,a,f,h,c))}
j6.prototype.Hjc=function(a,b,c,d){if(d){d=h6(this,"before-selected");var e=h6(this,"selected"),f=h6(this,"deleted");if(a&&b){if(d){var h=(new H4("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new H4("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new H4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.NT=null}}};j6.prototype.tQb=function(a){return rfh(this.O,a)};j6.prototype.undoDeleteDoco=j6.prototype.tQb;
j6.prototype.Mla=function(a){this.Xa=a;P(Snh(this).getElement(),a)};j6.prototype.setDocosGutterVisibility=j6.prototype.Mla;j6.prototype.fV=g("Xa");j6.prototype.isDocosGutterVisible=j6.prototype.fV;j6.prototype.Pf=function(){var a=this.Cb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};j6.prototype.enterReanchorMode=j6.prototype.Pf;j6.prototype.Lma=function(){var a=this.Cb;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};j6.prototype.resetReanchorMode=j6.prototype.Lma;
j6.prototype.bV=function(a,b){var c=this.H;e6(c,u(c.gic,c,a)).addCallback(b)};j6.prototype.interceptingUndoDeleteDoco=j6.prototype.bV;j6.prototype.aV=function(a,b){var c=this.H;b=new Vch(b);e6(c,u(c.Iec,c,a,b))};j6.prototype.interceptingSetSuggestionQuote=j6.prototype.aV;j6.prototype.Ut=function(a){a=O5(this.C,a);if(!a)return null;if(!a.Vj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.x4()};j6.prototype.getSuggestionQuote=j6.prototype.Ut;
j6.prototype.dg=function(a,b){return this.Ra?Nkh(this.Ra,a,void 0===b?!1:b):new Lkh(Xp())};j6.prototype.findAssignee=j6.prototype.dg;j6.prototype.eK=function(){return 0<this.C.H.size};j6.prototype.hasUnseenDocos=j6.prototype.eK;j6.prototype.Bpa=function(){Sfh(this.F).C=!0};j6.prototype.startBatchEvent=j6.prototype.Bpa;j6.prototype.bf=function(){var a=Sfh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};j6.prototype.endBatchEvent=j6.prototype.bf;m=j6.prototype;
m.oSb=function(a){a=a.data;var b=this.H,c=a.F;e6(b,u(b.Tcc,b,a.C,a.D,a.H,void 0===c?null:c)).addCallback(u(this.nbc,this,a))};
m.nbc=function(a,b){if(b){b=h6(this,"before-selected");var c=h6(this,"selected");if(c){var d=this.C.fd(a.C),e=L5(this.C,a.C);d&&d.nA()&&e&&(a.D?(b&&(a=(new H4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new H4("selected")).setUserInitiated(!0).build(),c(a),this.NT=null):(b&&(a=(new H4("before-selected")).addAnchorId(m5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new H4("selected")).addAnchorId(m5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.NT=d))}}};
m.pac=function(a){a=a.data;var b=this.H;e6(b,u(b.bjc,b,a.C,a.D))};m.qac=function(a){a=a.data;var b=this.H;e6(b,u(b.cjc,b,a.C,a.D,a.F))};m.cac=function(a){this.setOption("sortpaneby",a.data.ugc);(a=this.D.Qa)&&a(43086)};m.G7b=function(a){var b=this.D.Pf;b&&(a=this.C.fd(a.data.bk))&&b(m5(a),!0)};
function Ynh(a,b,c){var d=h6(a,c);if(d){var e=a.C.fd(b.C)||null,f=b.F;if(e!=a.NT||"number"===typeof f){var h=new H4(c),k=L5(a.C,b.C);e&&e.nA()&&k&&h.addAnchorId(m5(e)).addDocoHandle(k);k=new A4;var l=b.O;null!=l?k=new Vkh(l):"number"===typeof f?k=new cch(f):void 0!==b.xT&&(k=new hlh(b.xT));f=!!e&&!a.C.ma(e);h.setNonAnchored(f).setUserInitiated(b.J).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.NT=e)}}m.yza=function(a){Ynh(this,a.data,"before-selected")};
m.Oxa=function(a){var b=a.data;Ynh(this,b,"selected");if(a=this.C.fd(b.C))b="number"===typeof b.F?4:b.D==Snh(this).getId()?1:b.D==Knh(this).D.getId()?2:3,a=e5(d5(43044),a),a.H=b,2==b&&(a.C=105),M5(this.Ba,f5(a))};m.x9b=function(a){a=a.data;var b=a.C,c=a.F,d=this.H;c=c?c:void 0;e6(d,u(d.R$a,d,a.D,a.H,null,b?b:void 0,void 0===c?null:c))};m.tac=function(a){var b=a.data;if(a=h6(this,"write-feedback"))b=(new H4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new Enh(b.source)).build(),a(b)};
m.l8b=function(){var a=h6(this,"disable-smart-todo-feature");if(a){var b=(new H4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.lSb=function(a){var b=this,c=a.data;ulh(this.H,c.Pfb,c.xn,c.text,c.quote,c.Qka,c.N1,c.xf).addCallback(function(d){if(0<d){var e=c.xn,f=c.Yp,h=h6(b,"posted");h&&e&&f&&(e=(new H4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.yza(new pt(C4()));b.Oxa(new pt(C4()))}return d})};
m.t9b=function(a){var b=h6(this,"hover");if(b){a=a.data;var c=wch("hover").setNonAnchored(!a.FPb).setUserInitiated(!0);if(a.LPb){var d=this.C.fd(a.bk);c.addAnchorId(d?m5(d):"");c.addDocoHandle(L5(this.C,a.bk))}b(c.build())}};m.q9b=function(a){if("dd"==a.type){var b=h6(this,"deleted");if(b&&a.C&&a.D&&(a.$r||this.D.Ja)&&a.O&16){var c=(new H4("deleted")).addDocoHandle(a.D);a.$r&&c.addAnchorId(a.$r);a=c.build();b(a)}}};
m.p9b=function(a){if("bu"==a.type){var b=wch("created");this.xa&&(b.setApiEventArgs(new blh(this.xa,a.C[0].xn)),this.xa=null);var c=wch("resolved"),d=wch("unresolved");b=flh(b,a.C,8);c=flh(c,a.C,2);d=flh(d,a.C,4);Znh(this,"created",b);Znh(this,"resolved",c);Znh(this,"unresolved",d)}};m.G9b=function(a){if("p"==a.type&&(a=h6(this,"pending"))){var b=(new H4("pending")).setUserInitiated(!0).build();a(b)}};
m.u7b=function(){var a=h6(this,"view-updated");if(a){var b=(new H4("view-updated")).setUserInitiated(!0).build();a(b)}};function Znh(a,b,c){a=h6(a,b);!c.isEmpty()&&a&&a(c.build())}function h6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ka=function(){delete this.yn;delete this.D;delete this.DS;delete this.O;delete this.Za;delete this.Oa;delete this.cb;delete this.Qa;delete this.K7;delete this.Da;delete this.C;delete this.Sa;Tf(this.Iu);delete this.Iu;Tf(this.vv);delete this.vv;Tf(this.Rt);delete this.Rt;j6.Ya.Ka.call(this);Tf(this.F);delete this.F};ua("Docos",j6,void 0);ua("Docos.Point",Um,void 0);ua("Docos.Point.getX",j6.prototype.Dc,void 0);ua("Docos.Point.getY",j6.prototype.Lc,void 0);
ua("Docos.AbstractAlteredDocoArgs",Zjh,void 0);ua("Docos.NewDraftArgs",ekh,void 0);ua("Docos.LayoutType.ABSOLUTE","absolute",void 0);ua("Docos.LayoutType.VERTICAL","vertical",void 0);ua("Docos.UiVersion.LEGACY","legacy",void 0);ua("Docos.UiVersion.MATERIAL","material",void 0);ua("Docos.UiVersion.MATERIAL_LIGHT_BACKGROUND","material_light_background",void 0);ua("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);ua("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);
ua("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);ua("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);ua("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);ua("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);ua("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);ua("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);ua("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);
ua("Docos.OptionName.DRIVE_ID","drive-id",void 0);ua("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);ua("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);ua("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);ua("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);ua("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);ua("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);
ua("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);ua("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);ua("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);ua("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);ua("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);ua("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
ua("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);ua("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);ua("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);ua("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);ua("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
ua("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);ua("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);ua("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);ua("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);ua("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);ua("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);ua("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
ua("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);ua("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);ua("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);ua("Docos.OptionName.IO","i",void 0);ua("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);ua("Docos.OptionName.KEY_DATA","kd",void 0);ua("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
ua("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);ua("Docos.OptionName.LAYOUT","layout",void 0);ua("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);ua("Docos.OptionName.LINK_OPENER","link-opener",void 0);ua("Docos.OptionName.LISTENERS","listeners",void 0);ua("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);ua("Docos.OptionName.LOCAL","l",void 0);ua("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
ua("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);ua("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);ua("Docos.OptionName.OFFLINE","offline",void 0);ua("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);ua("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);ua("Docos.OptionName.PANE_DIV","panediv",void 0);ua("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);ua("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
ua("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);ua("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);ua("Docos.OptionName.QUOTE_FN","quotefn",void 0);ua("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);ua("Docos.OptionName.READONLY","readonly",void 0);ua("Docos.OptionName.RESOLVE","resolve",void 0);ua("Docos.OptionName.SCROLL_CONTAINER","container",void 0);ua("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
ua("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);ua("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);ua("Docos.OptionName.SORT_PANE","sortpane",void 0);ua("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);ua("Docos.OptionName.STORAGE","storage",void 0);ua("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);ua("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
ua("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);ua("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);ua("Docos.OptionName.SYNC_ONCE","so",void 0);ua("Docos.OptionName.UI_VERSION","ui-version",void 0);ua("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);ua("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
ua("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);ua("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);ua("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);ua("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);ua("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);ua("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);ua("Docos.EventType.CONVERTED","converted",void 0);
ua("Docos.EventType.CREATE_DRAFT","create-draft",void 0);ua("Docos.EventType.CREATED","created",void 0);ua("Docos.EventType.DELETED","deleted",void 0);ua("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);ua("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);ua("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);ua("Docos.EventType.HOVER","hover",void 0);ua("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
ua("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);ua("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);ua("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);ua("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);ua("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);ua("Docos.EventType.MODEL_LOADED","model-loaded",void 0);ua("Docos.EventType.NETWORK_ERROR","net-error",void 0);
ua("Docos.EventType.PENDING","pending",void 0);ua("Docos.EventType.POSTED","posted",void 0);ua("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);ua("Docos.EventType.REANCHOR","reanchor",void 0);ua("Docos.EventType.RESOLVED","resolved",void 0);ua("Docos.EventType.SELECTED","selected",void 0);ua("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);ua("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
ua("Docos.EventType.UNRESOLVED","unresolved",void 0);ua("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);ua("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);ua("Docos.AccessLevel.READONLY","readonly",void 0);ua("Docos.AccessLevel.SUGGEST","suggest",void 0);ua("Docos.AccessLevel.FULL","full",void 0);ua("Docos.NewDocoType",xvd,void 0);ua("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);ua("Docos.NewDocoType.DISCUSSION","discussion",void 0);
ua("Docos.NewDocoType.DRAFT","draft",void 0);ua("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);ua("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);ua("Docos.NewDocoType.SUGGESTION","suggestion",void 0);ua("Docos.prototype.dispose",j6.prototype.dispose,void 0);ua("Docos.CountField.ACCEPTED","accepted",void 0);ua("Docos.CountField.DRAFT","draft",void 0);ua("Docos.CountField.OPEN","open",void 0);ua("Docos.CountField.REJECTED","rejected",void 0);ua("Docos.CountField.RESOLVED","resolved",void 0);
ua("Docos.CountField.TOTAL","total",void 0);ua("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function $nh(a){a=void 0===a?[]:a;this.D=NDd();this.C={};a=ja(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=$nh.prototype;m.add=function(a){this.C[this.D.sb(a)]=a};m.has=function(a){return Zd(this.C,this.D.sb(a))};m.isEmpty=function(){return ce(this.C)};m.clear=function(){de(this.C)};m.Jc=function(a){for(var b in a.C)ee(this.C,b)};m.Cv=function(a){var b=new $nh,c=Td(this.C,function(e,f){return!Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.$w=function(a){var b=new $nh,c=Td(this.C,function(e,f){return Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Sd(this.C,a)};function aoh(a,b,c,d,e,f){itc.call(this,a,b,c,d,e,2,0,f)}t(aoh,itc);aoh.prototype.J=function(a){return ktc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function boh(a,b,c,d,e,f,h){h=void 0===h?$o():h;Wo.call(this);this.L=null;this.Ra="none";this.xa=500;this.ma=!1;this.F=a;this.Xa=b;this.H=c;this.Ma=d;this.O=e;this.C=f;this.V=b.Ma;this.D=b.C;this.R=NDd();this.gb=h;this.J=new $nh;this.Va=!0;this.Ba=new mm;this.Sa=new mm;this.Qa=new mm;this.Ja=new Xo(this);this.qa(this.Ja);this.Da=z(y(),"docs-egms");coh(this);this.Ja.listen(this.D,"na",this.B0b).listen(this.C,"xe",this.jsb).listen(this.C,"ye",this.msb).listen(this.C,"we",this.gsb).listen(this.C,"Ae",
this.Kvb).listen(this.C,"Be",this.y0b).listen(this.C,"ze",this.Ivb).listen(this.C,"Je",this.A0b).listen(this.C,"Ee",this.iyb).listen(this.C,"He",this.z0b).listen(this.C,"De",this.kwb).listen(this.C,"Ie",this.LHb).listen(this.C,"ve",this.Hvb).listen(this.C,"Ge",this.Lvb).listen(this.C,"Ce",this.Nvb).listen(this.C,"Fe",this.DFb);doh(this)}t(boh,Wo);m=boh.prototype;m.Nvb=function(){eoh(this,!0)};m.Hvb=function(a){var b=a.C;b&&foh(this,[b],!0);goh(this,a.C)};
m.Lvb=function(a){var b=a.C;b&&hoh(this,[b]);goh(this,a.C)};function goh(a,b){var c=Ybh(a.D,b);c?(b=OK(a.V,c),a=a.Ma,c=c.Jb(),b=rbh(b).length,vbh(EYe(a,c),b),mQ(a)):ioh(a)}m.DFb=function(){eoh(this,!0);this.C.C&&joh(this)};m.msb=function(){eoh(this,!0)};m.gsb=function(a){a.C?(a=a.C,this.ma=!0,wbh(this.F,this.R.sb(a)),this.ma=!1):eoh(this,!0)};m.A0b=function(){ich(this)};
function ich(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?joh(a):b?(koh(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,wbh(a.F,a.R.sb(b)),a.ma=!1)):c||eoh(a,!0)}m.iyb=function(){eoh(this,!1)};m.z0b=function(){eoh(this,!0)};function eoh(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(xbh(c,{}));b&&wbh(a.F,"");P(a.O,!1);Tf(a.L);loh(a);moh(a);a.C.C||noh(a);a.Ma.V_(a.C.C);doh(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Sa.isEmpty()&&this.Ba.isEmpty()&&this.Qa.isEmpty()};
function doh(a){var b=AJ(a.H);b&&(a.xa=Dtc(b.D)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.xa))}function moh(a){Uf(a.Sa.Ed());a.Sa.clear()}function loh(a){Uf(a.Ba.Ed());a.Ba.clear()}function noh(a){$c(a.Qa.Ed(),function(b){Fx(b,"waffle-docos-target-cell-header")});a.Qa.clear()}m.jsb=function(a){this.C.D||this.C.C||(a=a.D,a.length?koh(this,a,!0):ooh(this,!1))};function koh(a,b,c){c=void 0===c?!1:c;x4(a.F)&&a.Va||hoh(a,Xd(a.J.Cv(new $nh(b)).C));foh(a,b,c)}
function joh(a){var b=pI(a.D);b&&(b=OK(a.V,b),koh(a,rbh(b),!0),poh(a),qoh(a))}m.Ivb=function(a){this.Va=!1;roh(this,a.C,a.cell);this.Va=!0};function roh(a,b,c){koh(a,[b],!0);loh(a);moh(a);noh(a);soh(a,c)}m.y0b=function(a){toh(this,a.C,a.cell)};
function toh(a,b,c,d){d=void 0===d?!1:d;var e=Ybh(a.D,b);if(e){var f=e.Jb();if(uoh(a,b)){var h=voh(a,c);e5b(eI(a.D,f).C,function(){return e.Er(h)}).addCallback(function(){var k=this;if(!woh(this,c)||h.equals(e.F)||this.ma){GI(vI(e,c))&&HRc(AJ(this.H)).setVisible(!1);xoh(this,c);roh(this,b,c);this.Ma.V_(this.C.C);if(d){var l=new Qq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("Xi")}else fI(e,h),toh(this,b,c,d)},a)}else a.D.wC(f,function(){a.F.C.grabFocus();toh(a,b,c,!0)})}else a.dispatchEvent("Xi")}
function xoh(a,b){var c=pI(a.D),d=AJ(a.H);if(!a.ma&&c&&d){var e=d.D;d=d.F;var f=KN(e,"waffle",!1,!1),h=a.Da?282:240;if(!e.Nb()){var k=hp("docs-docos-activitybox");k&&Kw(k)&&(h+=f.right-Iw(k).left)}k=yoh(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.xa;if(!(0>=b&&0>=a)){d=In(d.C);for(d=rn(d.y,d.x,d.y,d.x);hAc(e,d).height<a;)d=bCa(d,1);for(;hAc(e,d).width<b;)d=cCa(d,1);e=d.height;a=d.width;aJ(c,b1b(c,V0b(c,UI(c),a,e)))}}}function woh(a,b){a=pI(a.D);return j4b(a.ek("r"),b.y)&&j4b(a.ek("c"),b.x)}
function voh(a,b){return WH(pI(a.D),b.y,b.x)||sn(b)}
m.Kvb=function(a){if(!u1b(this.D)&&!this.C.C&&(loh(this),uoh(this,a.C)&&(ooh(this,!0),this.C.D!=a.C))){var b=this.R.sb(a.C),c=this.F;c.C.isDocoResolved(lR(c.D,b))?(b=a.cell,a=AJ(this.H),(c=pI(this.D))&&a&&b&&(b=WH(c,b.y,b.x)||sn(b),b=yYe(a,b,"waffle-docos-target-cell-resolved-rect"),QO(a.V,"discussions",b,!0),b.setVisible(!0),this.Ba.add(b))):(c=a.cell,a=AJ(this.H),(b=pI(this.D))&&a&&c&&(c=WH(b,c.y,c.x)||sn(c),b=new aoh(b,a.R,a.D,a.F,new ltc(c),this.gb),QO(a.V,"discussions",b,!0),this.Ba.add(b),b.setVisible(!0)))}};
function $ph(a,b){b&&(Dx(b,"waffle-docos-target-cell-header"),a.Qa.add(b))}function soh(a,b){var c=AJ(a.H),d=pI(a.D);d&&c&&b&&(d=WH(d,b.y,b.x)||sn(b),d=yYe(c,d,"waffle-docos-target-cell-rect"),QO(c.V,"discussions",d,!0),a.Sa.add(d),d.setVisible(!0),d.getElement()&&a.Ja.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.Dk=b;c.dispatchEvent(e)}))}
function poh(a){moh(a);var b={};a.J.forEach(function(c){c=nS(aqh(c));var d=c.x+"-"+c.y;b[d]||(soh(a,c),b[d]=!0)})}function qoh(a){noh(a);var b=pI(a.D),c=AJ(a.H);if(b&&c){var d=c.R;c=c.F;b=OK(a.V,b);var e=Lzc(c,"r"),f=tN(c,"r"),h=Lzc(c,"c"),k=tN(c,"c");$c(rbh(b),function(l){l=nS(l);l.x>=h&&l.x<=k&&$ph(a,d.ib.getElement(oN(d,"ch-",null,d.kb.mH(l.x))));l.y>=e&&l.y<=f&&$ph(a,d.ib.getElement(oN(d,"rh-",d.kb.q4(l.y),null)))})}}m.LHb=function(){ioh(this)};
function ioh(a){$c(Yd(a.V.C),function(b){var c=Xbh(a.D,b);if(c){var d=OK(a.V,c);c=a.Ma;d=rbh(d).length;vbh(EYe(c,b),d);mQ(c)}})}m.kwb=function(a){if(a.C){var b=this.R.sb(a.C);ybh(this.F,b,yoh(this,a.cell))}};
function foh(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.sb(k);var n=a;if(AJ(n.H)&&uoh(n,k)){var q=nS(k);bqh(n,voh(n,q))?(q=n.C.D,q=!!q&&n.R.sb(q)==n.R.sb(k),n=n.C.C||q||kd(n.C.F.Ed(),k)):n=!1}else n=!1;n?(n=nS(k),n=voh(a,n),q=TUe(n),e[q]=e[q]||0,d[l]=yoh(a,In(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||ooh(a,!0);ce(d)||(b=a.F,b.C.updateDocoPositions(xbh(b,d)));x4(a.F)||hoh(a,f);c&&cqh(a)}
function hoh(a,b){var c=a.J.$w(new $nh(b));if(!c.isEmpty()){a.J.Jc(c);b=a.F;c=Yd(c.C);for(var d=[],e=0;e<c.length;e++)d.push(lR(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&ooh(a,!1)}
function yoh(a,b,c){c=void 0===c?0:c;var d=AJ(a.H),e=pI(a.D),f=d.D,h=f.Nb(),k=voh(a,b),l=FM(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,r=Vm(a.C.H,b),w=GI(vI(e,b));q||r||!w?(b=n+(a.Da?150:125),0<b-Dtc(f)&&(e=VH(e,"r")-1,JN(f,b,"r","waffle")>=e&&(n-=50))):(q=HRc(d),r=q.L,KRc(d,In(RI(e,sn(b))),q,q.Ra),e=q.H.height?q.Qa:0,b=q.J.height,d=Math.min(Otc.height,e+b),b&&(d=d+42+Ptc.top,d+=Ptc.bottom),e&&(d=d+12+Ptc.top,d+=Ptc.bottom),e=d,$sc(q,r),n+=e);a=a.Da?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>Ctc(f);l=h?c>Ctc(f):0>c;a&&!l&&(k=c);return new Um(h?CM(f,k,"c"):k,n)}function uoh(a,b){b=Ybh(a.D,b);a=pI(a.D);return!!b&&b==a}function bqh(a,b){if(!b)return!1;var c=AJ(a.H).F,d=!1,e=In(b);YBa(b,function(f,h){var k;if(k=f==e.y)k=null!=Kzc(c,new Um(h,f));return k?d=!0:!1});return d}m.B0b=function(){coh(this)};
function coh(a){var b=AJ(a.H);b&&(a.gb.appendChild(b.Yj,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.D.Nb()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function ooh(a,b){var c=qZe(a.O);c="string"===typeof c?1:c;Kw(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Tf(a.L),P(a.O,b)):a.L&&ty(a.L)&&a.Ra==d||(Tf(a.L),P(a.O,!0),a.L=new oB(a.O,c,"in"==d?1:0,250),a.Ra=d,"out"==d&&Qo(a.L,"finish",function(){eoh(a,!0);var e=AJ(a.H);e&&LO(e)}),a.L.play())}
function cqh(a){a.J.forEach(function(b){var c=a.R.sb(b),d=a.F.getDocoMaxHeight(c);b=aqh(b);b=nS(b);b=yoh(a,b);var e=AJ(a.H),f=e.D,h=e.Vd;h=h.nR(h.qX()-1);var k=pI(a.D).V.y;e=tN(e.F,"r");f=JM(f,new kn(k,e),"r");f+=h;h=DN(AJ(a.H).D,"c");b=Wl(f-(b.y-h),a.Da?150:125,a.xa);d!=b&&(b<a.xa||d)&&(d=a.F,d.C.setDocoMaxHeight(lR(d.D,c),b))})}function aqh(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ka=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.gb;delete this.Ra;delete this.Ja;delete this.D;delete this.Xa;Tf(this.L);delete this.L;moh(this);loh(this);noh(this);Wo.prototype.Ka.call(this)};function dqh(){mJ.apply(this,arguments)}t(dqh,mJ);m=dqh.prototype;m.P6b=function(a,b,c,d,e,f){return new Mbh(a,b,c,d,e,void 0,f,rD)};m.Amb=function(){return gch};m.Bmb=function(){return Sbh};m.Cmb=function(){return boh};m.A1b=function(){return ruf()};qJ("docos",dqh);
